(this["webpackJsonpbotframework-webchat-control"]=this["webpackJsonpbotframework-webchat-control"]||[]).push([[0],{1012:function(e,t){},1014:function(e,t){},1042:function(e,t){},1043:function(e,t){},1049:function(e,t){},1068:function(e,t){},1086:function(e,t){},1088:function(e,t){},1713:function(e,t){},1714:function(e,t){},1715:function(e,t){},1815:function(e,t){},1825:function(e,t){},1826:function(e,t){},1827:function(e,t){},1842:function(e,t){},1970:function(e,t,n){},1971:function(e,t,n){},1972:function(e,t,n){},1973:function(e,t,n){},1974:function(e,t,n){},1975:function(e,t,n){},1976:function(e,t,n){},1979:function(e,t,n){"use strict";n.r(t);var a,c=n(1),o=n.n(c),i=n(205),l=n.n(i),r=(n(829),n(3)),s=n.n(r),d=n(51),u=n(9),v=n(17),h=n(274),b=n(0),g=n(2),m="error-alert",f=function(){function e(){Object(b.a)(this,e)}return Object(g.a)(e,[{key:"validate",value:function(e,t){var n=!!e;return n||t.push("A required field cannot be empty"),n}}]),e}(),p=function(){function e(){Object(b.a)(this,e)}return Object(g.a)(e,[{key:"attachFieldValidator",value:function(e,t,n){var a=this;e.isInteractive&&(e.onValueChanged=function(e){return a.validateInput(e)},e.validators=[],"Input.Text"===t.type&&e.validators.push(new f))}},{key:"canSubmitSurvey",value:function(e){var t=this;return e.every((function(e){return t.validateInput(e)}))}},{key:"enableSubmitButton",value:function(e){var t=document.querySelector("button.ac-pushButton");e?null===t||void 0===t||t.removeAttribute("disabled"):null===t||void 0===t||t.setAttribute("disabled","true"),null===t||void 0===t||t.setAttribute("aria-disabled",e?"false":"true")}},{key:"validateInput",value:function(e){if(!e.validators.length)return e.isValid=function(){return!0},!0;var t=[];return e.validators.length&&(e.isValid=function(){return e.validators.every((function(n){return n.validate(e.value,t)}))}),e.isValid()?(this.enableSubmitButton(!0),this.removeErrors(e),!0):(this.enableSubmitButton(!1),this.renderErrors(e,t),!1)}},{key:"createErrorElement",value:function(e,t){var n=document.createElement("div");return n.id=t,n.innerHTML='\n            <span style="font-size: 16px; color: #a80000">\n                &#9888;\n            </span>\n            <span style="font-size: 12px; color: #a80000">\n                '.concat(e,"\n            </span>\n        "),n}},{key:"renderErrors",value:function(e,t){var n=this;t.forEach((function(t){var a="".concat(m,"-").concat(e.id),c=n.createErrorElement(t,a);e.renderedElement.parentNode.insertBefore(c,e.renderedElement.nextSibling)}))}},{key:"removeErrors",value:function(e){var t=document.getElementById("".concat(m,"-").concat(e.id));null===t||void 0===t||t.remove()}}]),e}(),j=n(275),y=n.n(j),C=n(811),O=n(8);!function(e){e[e.SET_CHAT_STARTED=0]="SET_CHAT_STARTED",e[e.SET_MESSAGES=1]="SET_MESSAGES",e[e.SET_TYPING=2]="SET_TYPING",e[e.SET_AGENT_END_SESSION_EVENT=3]="SET_AGENT_END_SESSION_EVENT",e[e.SET_LOADING=4]="SET_LOADING"}(a||(a={}));var x={hasChatStarted:!1,messages:[],isTyping:!1,agentEndSessionEvent:!1,isLoading:!1},w=function(e,t){switch(t.type){case a.SET_CHAT_STARTED:return Object(d.a)(Object(d.a)({},e),{},{type:t.type,hasChatStarted:t.payload});case a.SET_MESSAGES:return Object(d.a)(Object(d.a)({},e),{},{type:t.type,messages:t.payload});case a.SET_TYPING:return Object(d.a)(Object(d.a)({},e),{},{type:t.type,isTyping:t.payload});case a.SET_AGENT_END_SESSION_EVENT:return Object(d.a)(Object(d.a)({},e),{},{type:t.type,agentEndSessionEvent:t.payload});case a.SET_LOADING:return Object(d.a)(Object(d.a)({},e),{},{type:t.type,isLoading:t.payload});default:return e}},S=Object(c.createContext)({}),V=S.Provider,k=function(e){var t=Object(c.useReducer)(w,x),n=Object(v.a)(t,2),a=n[0],o=n[1];return Object(O.jsx)(V,{value:{state:a,dispatch:o},children:e.children})},E=n(815),M=n.n(E);n(1969),n(1970);var T=function(){return Object(O.jsx)("div",{className:"loading",children:Object(O.jsx)(M.a,{type:"Puff",color:"#00BFFF",height:100,width:100})})},q=n(1991);n(1971);var z=function(e){return Object(O.jsx)("div",{className:"chat-button",onClick:e.onClick,children:Object(O.jsx)(q.a,{color:"white"})})},H=n(1992);n(1972);var A=function(e){return Object(O.jsxs)("div",{className:"chat-header",children:[Object(O.jsxs)("span",{children:[" ",e.title," "]}),Object(O.jsx)("div",{onClick:e.onClick,children:Object(O.jsx)(H.a,{})})]})},N=n(1996),I=n(1994),D=n(1997),_=n(1998),L=n(1993),R=n(1995);n(1973);var U=function(e){return Object(O.jsxs)("div",{className:"incoming-call-pop-up",children:[Object(O.jsx)("span",{children:" Incoming call "}),Object(O.jsxs)("div",{children:[Object(O.jsx)(L.a,{className:"reject-call-button",onClick:e.rejectCall}),Object(O.jsx)(I.a,{className:"accept-video-call-button",onClick:e.acceptVideoCall}),Object(O.jsx)(R.a,{className:"accept-voice-call-button",onClick:e.acceptVoiceCall})]})]})},B=(n(1974),function(){console.log("[WebChat][adjustWebChatHeightInVideoCall]");var e=document.getElementsByClassName("webchat__basic-transcript")[0],t=document.getElementById("remoteVideo"),n=document.getElementsByClassName("current-call-action-bar")[0],a=e.clientHeight-t.clientHeight-n.clientHeight;e.style.marginTop="".concat(t.clientHeight+n.clientHeight,"px"),e.style.height="".concat(a,"px")}),W=function(){console.log("[WebChat][adjustWebChatHeightIncomingCall]");var e=document.getElementsByClassName("webchat__basic-transcript")[0],t=document.getElementsByClassName("incoming-call-pop-up")[0],n=e.clientHeight-t.clientHeight;e.style.height="".concat(n,"px")},F=function(){console.log("[WebChat][adjustWebChatHeightInVoiceCall]");var e=document.getElementsByClassName("webchat__basic-transcript")[0],t=document.getElementsByClassName("current-call-action-bar")[0],n=e.clientHeight-t.clientHeight;e.style.marginTop="".concat(t.clientHeight,"px"),e.style.height="".concat(n,"px")},G=function(){console.log("[WebChat][adjustWebChatHeightNoCall]");var e=document.getElementsByClassName("webchat__basic-transcript")[0];e.style.marginTop="",e.style.height=""};var P=function(e){var t=Object(c.useState)(!1),n=Object(v.a)(t,2),a=n[0],o=n[1],i=Object(c.useState)(!1),l=Object(v.a)(i,2),r=l[0],d=l[1],h=Object(c.useState)(!1),b=Object(v.a)(h,2),g=b[0],m=b[1],f=Object(c.useState)(!1),p=Object(v.a)(f,2),j=p[0],y=p[1],C=Object(c.useState)(!1),x=Object(v.a)(C,2),w=(x[0],x[1]),S=Object(c.useState)(!1),V=Object(v.a)(S,2),k=V[0],E=V[1];Object(c.useEffect)((function(){var t=function(){var t=Object(u.a)(s.a.mark((function t(){var n,a,c;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.VoiceVideoCallingSDK,a=e.OCClient,c=e.chatToken,t.prev=1,t.next=4,n.initialize({chatToken:c,selfVideoHTMLElementId:"selfVideo",remoteVideoHTMLElementId:"remoteVideo",environment:"test",OCClient:a});case 4:console.log("[WebChat][Calling] VoiceVideoCallingProxy initialized!"),console.log(n),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),console.error("[WebChat][Calling] Failed to initialize VoiceVideoCalling!"),console.error(t.t0);case 12:n.onCallAdded((function(){console.log("[WebChat][Calling][CallAdded]"),o(!0),W()})),n.onCallDisconnected((function(){console.log("[WebChat][Calling][CallDisconnected]"),G(),o(!1),d(!1),m(!1)})),n.onLocalVideoStreamAdded((function(){console.log("[WebChat][Calling][LocalVideoStreamAdded]");var e=n.isMicrophoneMuted();y(e);var t=n.isRemoteVideoEnabled();w(t);var a=n.isLocalVideoEnabled();E(a),a||t?(o(!1),d(!0),m(!1)):(o(!1),d(!1),m(!0))})),n.onLocalVideoStreamRemoved((function(){console.log("[WebChat][Calling][LocalVideoStreamRemoved]");var e=n.isMicrophoneMuted();y(e);var t=n.isRemoteVideoEnabled();w(t);var a=n.isLocalVideoEnabled();E(a),a||t?(o(!1),d(!0),m(!1)):(o(!1),d(!1),m(!0))})),n.onRemoteVideoStreamAdded((function(){console.log("[WebChat][Calling][RemoteVideoStreamAdded]");var e=n.isMicrophoneMuted();y(e);var t=n.isRemoteVideoEnabled();w(t);var a=n.isLocalVideoEnabled();E(a),a||t?(o(!1),d(!0),m(!1)):(o(!1),d(!1),m(!0))})),n.onRemoteVideoStreamRemoved((function(){console.log("[WebChat][Calling][RemoteVideoStreamRemoved]");var e=n.isMicrophoneMuted();y(e);var t=n.isRemoteVideoEnabled();w(t);var a=n.isLocalVideoEnabled();E(a),a||t?(o(!1),d(!0),m(!1)):(o(!1),d(!1),m(!0))}));case 18:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(){return t.apply(this,arguments)}}();t()}),[e]);var M=Object(c.useCallback)(Object(u.a)(s.a.mark((function t(){var n,a,c,i;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("[WebChat][Calling][Accept][Voice]"),n=e.VoiceVideoCallingSDK,t.next=4,n.acceptCall({withVideo:!1});case 4:o(!1),d(!1),m(!0),F(),a=n.isMicrophoneMuted(),y(a),c=n.isRemoteVideoEnabled(),w(c),i=n.isLocalVideoEnabled(),E(i);case 14:case"end":return t.stop()}}),t)}))),[e]),T=Object(c.useCallback)(Object(u.a)(s.a.mark((function t(){var n,a,c,i;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("[WebChat][Calling][Accept][Video]"),n=e.VoiceVideoCallingSDK,t.next=4,n.acceptCall({withVideo:!0});case 4:o(!1),d(!0),m(!1),B(),a=n.isMicrophoneMuted(),y(a),c=n.isRemoteVideoEnabled(),w(c),i=n.isLocalVideoEnabled(),E(i);case 14:case"end":return t.stop()}}),t)}))),[e]),q=Object(c.useCallback)(Object(u.a)(s.a.mark((function t(){var n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("[WebChat][Calling][Reject]"),n=e.VoiceVideoCallingSDK,t.next=4,n.rejectCall();case 4:o(!1),d(!1),m(!1);case 7:case"end":return t.stop()}}),t)}))),[e]),z=Object(c.useCallback)(Object(u.a)(s.a.mark((function t(){var n,a,c,i;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("[WebChat][Calling][toggleLocalVideo]"),n=e.VoiceVideoCallingSDK,t.next=4,n.toggleLocalVideo();case 4:a=n.isMicrophoneMuted(),y(a),c=n.isRemoteVideoEnabled(),w(c),i=n.isLocalVideoEnabled(),E(i),i||c?(o(!1),d(!0),m(!1)):(o(!1),d(!1),m(!0));case 11:case"end":return t.stop()}}),t)}))),[e]),H=Object(c.useCallback)(Object(u.a)(s.a.mark((function t(){var n,a,c,i;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("[WebChat][Calling][toggleMute]"),n=e.VoiceVideoCallingSDK,t.next=4,n.toggleMute();case 4:a=n.isMicrophoneMuted(),y(a),c=n.isRemoteVideoEnabled(),w(c),i=n.isLocalVideoEnabled(),E(i),i||c?(o(!1),d(!0),m(!1)):(o(!1),d(!1),m(!0));case 11:case"end":return t.stop()}}),t)}))),[e]),A=Object(c.useCallback)(Object(u.a)(s.a.mark((function t(){var n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("[WebChat][Calling][stopCall]"),n=e.VoiceVideoCallingSDK,t.next=4,n.stopCall();case 4:case"end":return t.stop()}}),t)}))),[e]);return Object(O.jsxs)(O.Fragment,{children:[a&&Object(O.jsx)(U,{rejectCall:q,acceptVideoCall:T,acceptVoiceCall:M}),Object(O.jsxs)("div",{className:"calling ".concat(r||g?"active":""),children:[Object(O.jsxs)("div",{className:"video-container ".concat(r?"active":""),children:[Object(O.jsx)("div",{id:"remoteVideo"}),Object(O.jsx)("div",{id:"selfVideo"})]}),Object(O.jsx)("div",{children:(r||g)&&Object(O.jsxs)("div",{className:"current-call-action-bar",children:[k?Object(O.jsx)(I.a,{className:"toggle-video-button",onClick:z}):Object(O.jsx)(N.a,{className:"toggle-video-button",onClick:z}),j?Object(O.jsx)(D.a,{className:"toggle-mute-button",onClick:H}):Object(O.jsx)(_.a,{className:"toggle-mute-button",onClick:H}),Object(O.jsx)(L.a,{className:"stop-call-button",onClick:A})]})})]})]})},K=n(1999),J=n(2e3);n(1975);var Y=function(e){var t=Object(c.useState)(!1),n=Object(v.a)(t,2),a=n[0],o=n[1],i=Object(c.useState)(!1),l=Object(v.a)(i,2),r=l[0],s=l[1],d=Object(c.useCallback)((function(){o(!0)}),[]),u=Object(c.useCallback)((function(){o(!1)}),[]),h=Object(c.useCallback)((function(){s(!0)}),[]),b=Object(c.useCallback)((function(){s(!1)}),[]);return Object(O.jsxs)("div",{className:"action-bar",children:[Object(O.jsx)(K.a,{size:"16",color:a?"rgb(22, 27, 34)":"rgb(22, 27, 34, 0.5)",className:"download-button",onClick:e.onDownloadClick,onMouseEnter:d,onMouseLeave:u}),Object(O.jsx)(J.a,{size:"16",color:r?"rgb(22, 27, 34)":"rgb(22, 27, 34, 0.5)",className:"email-button",onClick:e.onEmailTranscriptClick,onMouseEnter:h,onMouseLeave:b})]})},$="DIRECT_LINE/INCOMING_ACTIVITY",Q=function(){function e(){Object(b.a)(this,e),this.middlewares=void 0,this.middlewares={}}return Object(g.a)(e,[{key:"subscribe",value:function(e,t){this.middlewares[e]=t}},{key:"create",value:function(){var e=this;return console.log("[CustomStore][create]"),Object(j.createStore)({},(function(t){var n=t.dispatch;return function(t){return function(a){a.type===$&&(a.payload.activity&&(a.payload.activity.actionType=$));var c=a;if(a&&a.payload)for(var o=0,i=Object.keys(e.middlewares);o<i.length;o++){var l=i[o],r=e.middlewares[l];if(r.applicable(c)){var s=r.apply(c);s.dispatchAction&&n(s.dispatchAction),s.nextAction&&(c=s.nextAction)}}return t(c)}}}))}}],[{key:"getInstance",value:function(){return this._instance||(this._instance=new e),this._instance}}]),e}();Q._instance=void 0;var X,Z=function(){return console.log("[createCustomStore]"),Q.getInstance()},ee=function(){function e(t){Object(b.a)(this,e),this.dataMaskingRules=void 0,this.dataMaskingRules=t,console.log("[DataMaskingRules]"),console.log(this.dataMaskingRules)}return Object(g.a)(e,[{key:"applicable",value:function(e){var t=e.payload.text;return!!(Object.keys(this.dataMaskingRules).length>0&&t&&"WEB_CHAT/SEND_MESSAGE"===e.type)}},{key:"apply",value:function(e){return{dispatchAction:null,nextAction:this.applyDataMasking(e)}}},{key:"applyDataMasking",value:function(e){var t=e.payload.text;if(Object.keys(this.dataMaskingRules).length>0)for(var n=0,a=Object.values(this.dataMaskingRules);n<a.length;n++)for(var c=a[n],o=new RegExp(c,"g"),i=void 0;i=o.exec(t);){var l=i[0].replace(/./g,"#");t=t.replace(i[0],l)}return e.payload.text=t,e}}]),e}(),te=function(e){return console.log("[createDataMaskingMiddleware]"),new ee(e)};!function(e){e.User="user",e.Bot="bot",e.Channel="channel"}(X||(X={}));var ne,ae=X;!function(e){e.THREAD="Thread"}(ne||(ne={}));var ce,oe=function(){console.log("[createActivityMiddleware]");return function(){return function(e){return function(t){if(console.log("%c [ActivityMiddleware]","background: #2a9fd4; color: #fff"),console.log(t),t.activity){if(t.activity.from&&t.activity.from.role===ae.Channel)return t.activity.channelData&&t.activity.channelData.type&&t.activity.channelData.type===ne.THREAD&&(n=t.activity.channelData,console.log("%c [ActivityMiddleware][handleThreadUpdate]","background: #2a9fd4; color: #fff"),console.log(n)),function(){return!1};if(t.activity.channelData&&t.activity.channelData.tags&&t.activity.channelData.tags.includes("system"))return console.log("%c [ActivityMiddleware][Message][System] ".concat(t.activity.text),"background: #2a9fd4; color: #fff"),function(n){return Object(O.jsx)("div",{className:"system-message",children:e(t)(n)},t.activity.id)};if(void 0===t.activity.text||null==t.activity.text)return e(t);"bot"===t.activity.from.role&&console.log("%c [ActivityMiddleware][Message][Agent] ".concat(t.activity.text),"background: #2a9fd4; color: #fff"),"user"===t.activity.from.role&&console.log("%c [ActivityMiddleware][Message][Customer] ".concat(t.activity.text),"background: #2a9fd4; color: #fff")}var n;return e(t)}}}},ie=n(2001),le=function(e){if(e){var t=e.split(/\s/).reduce((function(e,t){return e+t.slice(0,1)}),"");return t.length>1?t.substring(0,2).toUpperCase():e.substring(0,2).toUpperCase()}return""},re=function(){console.log("[createAvatarMiddleware]");return function(){return function(e){return function(t){console.log("[AvatarMiddleware]");var n=t.activity,a=n.channelData.tags,c=n.from.name,o=n.text,i=t.fromUser;return console.log(t),a&&a.includes("system")?(console.log("[AvatarMiddleware][Message][System] ".concat(o)),Object(O.jsx)("div",{children:Object(O.jsx)(ie.a,{color:"red",size:20})})):void 0!==i&&null!==i&&(i?i?(console.log("[AvatarMiddleware][Message][Customer] ".concat(o)),Object(O.jsx)("div",{className:"webchat__avatar",children:Object(O.jsxs)("p",{className:"webchat__avatar_initials",children:[" ",le(c)||"CU","  "]})})):e(t):(console.log("[AvatarMiddleware][Message][Agent] ".concat(o)),Object(O.jsx)("div",{className:"webchat__avatar",children:Object(O.jsxs)("p",{className:"webchat__avatar_initials",children:[" ",le(c)," "]})})))}}}};!function(e){e.Sending="sending",e.SendFailed="send failed",e.Sent="sent"}(ce||(ce={}));var se,de=function(){return function(){return function(e){return function(e){console.log("%c [activityStatusMiddleware]","background: #238636; color: #fff"),console.log(e);var t="";!function(e){return e.activity.channelData&&e.activity.channelData.tags&&e.activity.channelData.tags.includes("system")}(e)?!function(e){return"bot"===e.activity.from.role}(e)?function(e){return"user"===e.activity.from.role}(e)&&(t="Customer"):t="Agent":t="System",console.log("%c [activityStatusMiddleware][Message][".concat(t,"] ").concat(e.activity.text),"background: #238636; color: #fff"),e.sendState===ce.Sent?console.log("%c [activityStatusMiddleware][Message][".concat(t,"][Status] Sent!"),"background: #238636; color: #fff"):e.sendState===ce.Sending?console.log("%c [activityStatusMiddleware][Message][".concat(t,"][Status] Sending..."),"background: #238636; color: #fff"):e.sendState===ce.SendFailed&&console.log("%c [activityStatusMiddleware][Message][".concat(t,"][Status] Failed :("),"background: #238636; color: #fff")}}}},ue=function(e){return Object(O.jsx)("div",{style:{fontSize:"14px",display:"flex",alignItems:"center"},children:e.children})},ve=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:14,n=Object(O.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:t,height:t,children:Object(O.jsx)("path",{d:"M1792 0q27 0 50 10t40 27 28 41 10 50v480q0 45-9 77t-24 58-31 46-31 40-23 44-10 55v992q0 27-10 50t-27 40-41 28-50 10H256V0h1536zM640 128v384h256V128H640zm1024 800q0-31-9-54t-24-44-31-41-31-45-23-58-10-78V128h-512v512H768v128H640V640H512V128H384v1792h384v-128h128v128h768V928zm128-800h-128v480q0 24 4 42t13 33 20 29 27 32q15-17 26-31t20-30 13-33 5-42V128zM640 896h128v128H640V896zm0 256h128v128H640v-128zm0 256h128v128H640v-128zm128 256v128H640v-128h128zm0-768V768h128v128H768zm0 256v-128h128v128H768zm0 256v-128h128v128H768zm0 256v-128h128v128H768z"})}),a=Object(O.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:t,height:t,children:Object(O.jsx)("path",{d:"M1792 1408q0 62-29 109t-76 80-104 50-111 17q-54 0-111-17t-103-49-76-80-30-110q0-61 29-109t76-80 104-50 111-17q51 0 100 12t92 39V226L768 450v1214q0 62-29 109t-76 80-104 50-111 17q-54 0-111-17t-103-49-76-80-30-110q0-61 29-109t76-80 104-50 111-17q51 0 100 12t92 39V350L1792 62v1346z"})}),c=Object(O.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:t,height:t,children:Object(O.jsx)("path",{d:"M549 0h1243v1755l-293 293H256V293L549 0zm1115 1701V128H603L384 347v1573h1061l219-219z"})}),o=Object(O.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:t,height:t,children:Object(O.jsx)("path",{d:"M2048 475v1445q0 27-10 50t-27 40-41 28-50 10H640q-27 0-50-10t-40-27-28-41-10-50v-256H115q-24 0-44-9t-37-25-25-36-9-45V627q0-24 9-44t25-37 36-25 45-9h397V128q0-27 10-50t27-40 41-28 50-10h933q26 0 49 9t42 28l347 347q18 18 27 41t10 50zm-384-256v165h165l-165-165zM261 1424h189q2-4 12-23t25-45 29-55 29-53 23-41 10-17q27 59 60 118t65 116h187l-209-339 205-333H707q-31 57-60 114t-63 112q-29-57-57-113t-57-113H279l199 335-217 337zm379 496h1280V512h-256q-27 0-50-10t-40-27-28-41-10-50V128H640v384h397q24 0 44 9t37 25 25 36 9 45v922q0 24-9 44t-25 37-36 25-45 9H640v256zm640-1024V768h512v128h-512zm0 256v-128h512v128h-512zm0 256v-128h512v128h-512z"})}),i=Object(O.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:t,height:t,children:Object(O.jsx)("path",{d:"M256 1920h1536v128H128V0h1115l549 549v91h-640V128H256v1792zM1280 512h293l-293-293v293zm768 256v1024H640V768h1408zM768 896v421l320-319 416 416 160-160 256 256V896H768zm987 768h139l-230-230-69 70 160 160zm-987 0h805l-485-486-320 321v165zm960-512q-26 0-45-19t-19-45q0-26 19-45t45-19q26 0 45 19t19 45q0 26-19 45t-45 19z"})}),l=Object(O.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:t,height:t,children:Object(O.jsx)("path",{d:"M1963 128q35 0 60 25t25 60v1622q0 35-25 60t-60 25H597q-35 0-60-25t-25-60v-299H85q-35 0-60-25t-25-60V597q0-35 25-60t60-25h427V213q0-35 25-60t60-25h1366zM389 939l242 420h152V689H635v429L402 689H241v670h148V939zm1531 853v-256h-256v256h256zm0-384v-256h-256v256h256zm0-384V768h-256v256h256zm0-384V256H640v256h299q35 0 60 25t25 60v854q0 35-25 60t-60 25H640v256h896V640h384z"})}),r=Object(O.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:t,height:t,children:Object(O.jsx)("path",{d:"M1920 1664h-128v384H128v-384H0V640h128V0h1243l421 421v219h128v1024zM1408 384h165l-165-165v165zM256 640h1408V512h-384V128H256v512zm1408 1024H256v256h1408v-256zm128-896H128v768h1664V768zM448 896q40 0 75 15t61 41 41 61 15 75q0 40-15 75t-41 61-61 41-75 15h-64v128H256V896h192zm0 256q26 0 45-19t19-45q0-26-19-45t-45-19h-64v128h64zm448-256q53 0 99 20t82 55 55 81 20 100q0 53-20 99t-55 82-81 55-100 20H768V896h128zm0 384q27 0 50-10t40-27 28-41 10-50q0-27-10-50t-27-40-41-28-50-10v256zm384-384h320v128h-192v128h192v128h-192v128h-128V896z"})}),s=Object(O.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:t,height:t,children:Object(O.jsx)("path",{d:"M2048 475v1445q0 27-10 50t-27 40-41 28-50 10H640q-27 0-50-10t-40-27-28-41-10-50v-256H115q-24 0-44-9t-37-25-25-36-9-45V627q0-24 9-44t25-37 36-25 45-9h397V128q0-27 10-50t27-40 41-28 50-10h933q26 0 49 9t42 28l347 347q18 18 27 41t10 50zm-384-256v165h165l-165-165zM368 752v672h150v-226h100q52 0 97-15t78-46 53-72 20-97q0-56-17-97t-50-67-76-39-97-13H368zm1552 1168V512h-256q-27 0-50-10t-40-27-28-41-10-50V128H640v384h397q24 0 44 9t37 25 25 36 9 45v922q0 24-9 44t-25 37-36 25-45 9H640v256h1280zM1536 640q79 0 149 30t122 82 83 123 30 149h-384V640zm-128 128v384h384q0 80-30 149t-82 122-123 83-149 30q-33 0-65-6t-63-18V792q31-11 63-17t65-7zm-804 300h-86V883h90q47 0 74 20t27 70q0 52-28 73t-77 22z"})}),d=Object(O.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:t,height:t,children:Object(O.jsx)("path",{d:"M0 256h2048v1408H0V256zm256 1280v-128H128v128h128zm0-256v-128H128v128h128zm0-256V896H128v128h128zm0-256V640H128v128h128zm0-256V384H128v128h128zm1408 786V384H384v823l411-549 741 878-329-558 137-137 320 457zm256 238v-128h-128v128h128zm0-256v-128h-128v128h128zm0-256V896h-128v128h128zm0-256V640h-128v128h128zm0-256V384h-128v128h128z"})}),u=Object(O.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:t,height:t,children:Object(O.jsx)("path",{d:"M2048 475v1445q0 27-10 50t-27 40-41 28-50 10H640q-27 0-50-10t-40-27-28-41-10-50v-256H115q-24 0-44-9t-37-25-25-36-9-45V627q0-24 9-44t25-37 36-25 45-9h397V128q0-27 10-50t27-40 41-28 50-10h933q26 0 49 9t42 28l347 347q18 18 27 41t10 50zm-384-256v165h165l-165-165zM493 1424h163l255-672H745l-147 427q-5 16-10 31t-11 31q-41-123-82-244t-84-245H241l248 662 4 10zm147 496h1280V512h-256q-27 0-50-10t-40-27-28-41-10-50V128H640v384h397q24 0 44 9t37 25 25 36 9 45v922q0 24-9 44t-25 37-36 25-45 9H640v256zm960-1280l192 192-128 128v448h-256v128h-128v-384h128v128h128V960l-128-128 192-192z"})}),v=Object(O.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:t,height:t,children:Object(O.jsx)("path",{d:"M2048 475v1445q0 27-10 50t-27 40-41 28-50 10H640q-27 0-50-10t-40-27-28-41-10-50v-256H115q-24 0-44-9t-37-25-25-36-9-45V627q0-24 9-44t25-37 36-25 45-9h397V128q0-27 10-50t27-40 41-28 50-10h933q26 0 49 9t42 28l347 347q18 18 27 41t10 50zm-384-256v165h165l-165-165zM320 1424h161q2-8 9-43t18-83 21-103 22-101 16-76 8-31l7 30q7 30 17 77t23 100 23 103 19 84 10 43h160l148-672H834l-80 438-100-438H502l-96 440-86-440H170l150 672zm320 496h1280V512h-256q-27 0-50-10t-40-27-28-41-10-50V128H640v384h397q24 0 44 9t37 25 25 36 9 45v922q0 24-9 44t-25 37-36 25-45 9H640v256zm640-1024V768h512v128h-512zm0 256v-128h512v128h-512zm0 256v-128h512v128h-512z"})}),h={aac:a,aiff:a,alac:a,avchd:d,avi:d,bmp:i,doc:v,docx:v,flac:a,flv:d,gif:i,jiff:i,jpeg:i,jpg:i,mpe:d,mpeg:d,mpg:d,mpv:d,mp2:a,mp3:a,mp4:d,m4p:d,m4v:d,mov:d,one:l,pcm:a,pdf:r,png:i,ppt:s,pptx:s,qt:d,rar:n,swf:d,tar:n,"tar.gz":n,tgz:n,txt:c,vsd:u,vsdx:u,wav:a,webm:d,wma:a,wmv:d,xls:o,xlsx:o,zip:n,zipx:n,"7z":n},b=e.startsWith(".")?e.slice(1):e||"",g=h[b.toLowerCase()]||c;return g},he=function(e){var t=e.name.substring(e.name.lastIndexOf(".")+1,e.name.length)||e.name;return Object(O.jsx)("div",{style:{padding:"0 0 0 8px"},children:ve(t)})},be=/(\.)(jpeg|jpg|jiff|png|gif|bmp)$/i,ge=/(\.)(aac|aiff|alac|flac|mp2|mp3|pcm|wav|wma)$/i,me=/(\.)(avchd|avi|flv|mpe|mpeg|mpg|mpv|mp4|m4p|m4v|mov|qt|swf|webm|wmv)$/i;function fe(e,t){var n=e.activity,a=e.attachment,c=Object.assign({},a);c.contentType=t.contentType,c.thumbnailUrl=t.thumbnailUrl;var o=n.attachments.map((function(e){return e===a?c:e})),i=Object.assign({},n);return i.attachments=o,{activity:i,attachment:c}}!function(e){e.UnknownFileType="application/octet-stream"}(se||(se={}));var pe,je=function(){console.log("[createAttachmentMiddleware]");return function(){return function(e){return function(t){console.log("%c [AttachmentMiddleware]","background: #ff69b4; color: #fff"),console.log(t);var n=t.activity.attachments,a=t.attachment;if(!n||!n.length||!a)return e(t);t.activity.channelData&&t.activity.channelData.middlewareData?a.contentUrl=t.activity.channelData.middlewareData[a.name]:a.tempContentUrl&&(a.contentUrl=a.tempContentUrl);var c=be.test(a.name),o=ge.test(a.name),i=me.test(a.name);if(c){var l=fe(t,{contentType:se.UnknownFileType,thumbnailUrl:void 0});return Object(O.jsxs)("div",{children:[t&&e(t),Object(O.jsxs)(ue,{children:[Object(O.jsx)(he,{name:a.name}),l&&e(l)]})]})}if((o||i)&&t.activity.actionType&&t.activity.actionType===$){var r=fe(t,{contentType:se.UnknownFileType,thumbnailUrl:void 0});return Object(O.jsxs)("div",{children:[t&&e(t),Object(O.jsxs)(ue,{children:[Object(O.jsx)(he,{name:a.name}),r&&e(r)]})]})}return Object(O.jsxs)(ue,{children:[Object(O.jsx)(he,{name:a.name}),e(t)]})}}}};!function(e){e.Bridged="bridged",e.Unbridged="unbridged"}(pe||(pe={}));var ye=function(){function e(t){Object(b.a)(this,e),this.omnichannelConfig=t}return Object(g.a)(e,[{key:"applicable",value:function(e){return"DIRECT_LINE/POST_ACTIVITY_PENDING"===e.type&&e.payload&&e.payload.activity&&e.payload.activity.channelData}},{key:"apply",value:function(e){var t="ChannelId-lcw",n="FromCustomer",a=e;return a.payload.activity.channelData.tags?(a.payload.activity.channelData.tags.includes(t)||a.payload.activity.channelData.tags.push(t),a.payload.activity.channelData.tags.includes(n)||a.payload.activity.channelData.tags.push(n)):(a.payload.activity.channelData.tags=[t],a.payload.activity.channelData.tags.push(n)),a.payload.activity.channelData.metadata={deliveryMode:pe.Bridged,widgetId:this.omnichannelConfig.widgetId},{dispatchAction:null,nextAction:a}}}]),e}(),Ce=function(e){return console.log("[createChannelDataMiddleware]"),new ye(e)},Oe=function e(){Object(b.a)(this,e)};Oe.liveChatVersion=1,Oe.canUploadAttachment=!1,Oe.isPersistentChat=!1,Oe.isChatReconnect=!1;var xe=function(e){var t=e.LiveWSAndLiveChatEngJoin,n=e.LiveChatVersion,a="true"===t.msdyn_enablefileattachmentsforcustomers||!1,c="192350001"===t.msdyn_conversationmode||!1,o="192350000"===t.msdyn_conversationmode&&"true"===t.msdyn_enablechatreconnect||!1;return Oe.liveChatVersion=parseInt(n)||1,Oe.canUploadAttachment=a,Oe.isPersistentChat=c,Oe.isChatReconnect=o,Oe},we=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};console.log("[createTypingIndicatorMiddleware]");var t=function(){return function(t){return function(t){console.log("%c [typingIndicatorMiddleware]","background: #2266e3; color: #fff"),console.log(t);var n=t.activeTyping,a=t.visible;if(!n||1===Oe.liveChatVersion&&!a)return null;var c=Object.keys(n).map((function(e){return n[e]}));return c.filter((function(e){return"user"===e.role})).length&&2===Oe.liveChatVersion&&!a?(e(),null):c&&c.length>0&&Object(O.jsxs)("div",{className:"webchat__typingIndicator",children:[Object(O.jsx)("div",{className:"bubble",style:{background:"#2266e3"}}),Object(O.jsx)("div",{className:"bubble",style:{background:"#2266e3"}}),Object(O.jsx)("div",{className:"bubble",style:{background:"#2266e3"}}),Object(O.jsxs)("div",{children:[" ","".concat(c[0].name||"Agent"," is typing...")," "]})]})}}};return t},Se=function(){var e={orgId:"d367c413-e0b9-408b-ae1c-382499b369ae",orgUrl:"https://omnichannel-crm.omnichannelengagementhub.com",widgetId:"3a352b95-5d67-4e47-af28-eca029b03928"},t=new URLSearchParams(window.location.search);return null!==t.get("orgUrl")&&(e.orgUrl=t.get("orgUrl")),null!==t.get("orgId")&&(e.orgId=t.get("orgId")),null!==t.get("widgetId")&&(e.widgetId=t.get("widgetId")),e},Ve=function(){var e={telemetry:{disable:!1,ariaTelemetryKey:""}},t=new URLSearchParams(window.location.search);return null!==t.get("telemetry")&&(e.telemetry.disable="true"!=t.get("telemetry")),null!==t.get("ariaTelemetryKey")&&(e.telemetry.ariaTelemetryKey=t.get("ariaTelemetryKey")||""),e},ke=function(){var e={disable:!0},t=new URLSearchParams(window.location.search);return null!==t.get("calling")&&(e.disable="false"==t.get("calling")),e},Ee=function(){var e={disable:!0},t=new URLSearchParams(window.location.search);return null!==t.get("debug")&&(e.disable="true"!=t.get("debug")),e},Me=function(){var e={reconnectId:null},t=new URLSearchParams(window.location.search);return null!==t.get("oc.reconnectid")&&(e.reconnectId=t.get("oc.reconnectid")||null),e},Te=(n(1976),Se()),qe=Ve(),ze=ke(),He=Ee(),Ae=Me();console.log("%c [OmnichannelConfig]","background-color:#001433;color:#fff"),console.log(Te),console.log("%c [telemetryConfig]","background-color:#001433;color:#fff"),console.log(qe),console.log("%c [callingConfig]","background-color:#001433;color:#fff"),console.log(ze),console.log("%c [debugConfig]","background-color:#001433;color:#fff"),console.log(He);var Ne=re(),Ie=oe(),De=de(),_e=Ce(Te),Le=je(),Re={bubbleBorderRadius:10,bubbleNubSize:10,bubbleNubOffset:15,bubbleFromUserBorderRadius:10,bubbleFromUserNubSize:10,bubbleFromUserNubOffset:15,bubbleFromUserBackground:"rgb(246, 246, 246)"};var Ue=function(){var e=Object(c.useContext)(S),t=e.state,n=e.dispatch,o=Object(c.useState)(),i=Object(v.a)(o,2),l=i[0],r=i[1],b=Object(c.useState)(void 0),g=Object(v.a)(b,2),m=g[0],f=g[1],j=Object(c.useState)(void 0),x=Object(v.a)(j,2),w=x[0],V=x[1],k=Object(c.useState)(void 0),E=Object(v.a)(k,2),M=E[0],q=E[1],H=Object(c.useState)(void 0),N=Object(v.a)(H,2),I=N[0],D=N[1],_=Object(c.useState)(void 0),L=Object(v.a)(_,2),R=L[0],U=L[1],B=Object(c.useState)(void 0),W=Object(v.a)(B,2),F=W[0],G=W[1],K=Object(c.useState)(void 0),J=Object(v.a)(K,2),$=J[0],Q=J[1],X=Object(c.useState)(void 0),ee=Object(v.a)(X,2),ne=ee[0],ae=ee[1],ce=Object(c.useState)(!1),oe=Object(v.a)(ce,2),ie=oe[0],le=oe[1];Object(c.useEffect)((function(){var e=function(){var e=Object(u.a)(s.a.mark((function e(){var t,n,a,c,o,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(d.a)(Object(d.a)({},qe),{},{chatReconnect:{disable:!1}}),(n=new C.OmnichannelChatSDK(Te,t)).setDebug(!He.disable),e.next=5,n.initialize();case 5:return r(n),e.next=8,n.getLiveChatConfig();case 8:if(a=e.sent,xe(a),(c=localStorage.getItem("liveChatContext"))&&Object.keys(JSON.parse(c)).length>0&&(console.log("[liveChatContext]"),console.log(c),f(c)),!n.getVoiceVideoCalling||ze.disable){e.next=25;break}return e.prev=13,e.next=16,n.getVoiceVideoCalling();case 16:(o=e.sent).setDebug(!0),Q(o),console.log("VoiceVideoCalling loaded"),e.next=25;break;case 22:e.prev=22,e.t0=e.catch(13),console.log("Failed to load VoiceVideoCalling: ".concat(e.t0));case 25:return e.next=27,n.getPreChatSurvey(!1);case 27:(i=e.sent)&&(console.info("[PreChatSurvey]"),l=i,i=JSON.parse(l.replaceAll("&#42;","*")),console.log(i),V(i));case 29:case"end":return e.stop()}var l}),e,null,[[13,22]])})));return function(){return e.apply(this,arguments)}}();console.log(t),e()}),[]);var re=Object(c.useMemo)((function(){return Object(d.a)(Object(d.a)({},Re),{},{hideUploadButton:!Oe.canUploadAttachment,hideSendBox:ie})}),[Oe.canUploadAttachment,ie]),se=Object(c.useCallback)((function(e){console.log("[onNewMessage] ".concat(e.content)),n({type:a.SET_LOADING,payload:!1})}),[n]),de=Object(c.useCallback)((function(){console.log("[onTypingEvent]")}),[]),ue=Object(c.useCallback)((function(){console.log("[onAgentEndSession]"),le(!0)}),[]),ve=Object(c.useCallback)(function(){var e=Object(u.a)(s.a.mark((function e(c){var o,i,r,d,u,v,h,b,g=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=g.length>1&&void 0!==g[1]?g[1]:{},!t.hasChatStarted){e.next=3;break}return e.abrupt("return");case 3:return console.log("[startChat]"),i=we((function(){null===l||void 0===l||l.sendTypingEvent()})),ae((function(){return i})),e.next=8,null===l||void 0===l?void 0:l.getDataMaskingRules();case 8:if(r=e.sent,d=Z(),U(d.create()),d.subscribe("DataMasking",te(r)),d.subscribe("ChannelData",_e),m&&Object.keys(JSON.parse(m)).length>0&&(console.log("[liveChatContext]"),o.liveChatContext=JSON.parse(m)),n({type:a.SET_CHAT_STARTED,payload:!0}),!Oe.isChatReconnect||!Ae.reconnectId){e.next=21;break}return e.next=18,null===l||void 0===l?void 0:l.getChatReconnectContext({reconnectId:Ae.reconnectId});case 18:(null===(u=e.sent)||void 0===u?void 0:u.redirectURL)&&window.location.replace(null===u||void 0===u?void 0:u.redirectURL),(null===u||void 0===u?void 0:u.reconnectId)&&(o.reconnectId=null===u||void 0===u?void 0:u.reconnectId);case 21:if(!m&&w&&!Ae.reconnectId){e.next=49;break}return n({type:a.SET_LOADING,payload:!0}),e.prev=23,e.next=26,null===l||void 0===l?void 0:l.startChat(o);case 26:e.next=32;break;case 28:return e.prev=28,e.t0=e.catch(23),console.log("Unable to start chat: ".concat(e.t0.message)),e.abrupt("return");case 32:return e.next=34,null===l||void 0===l?void 0:l.getCurrentLiveChatContext();case 34:return(v=e.sent)&&Object.keys(v).length&&(console.log("[newliveChatContext]"),console.log(v),localStorage.setItem("liveChatContext",JSON.stringify(v))),null===l||void 0===l||l.onNewMessage(se,{rehydrate:!0}),null===l||void 0===l||l.onTypingEvent(de),null===l||void 0===l||l.onAgentEndSession(ue),e.next=41,null===l||void 0===l?void 0:l.createChatAdapter();case 41:if(h=e.sent,D(h),n({type:a.SET_LOADING,payload:!1}),!(null===l||void 0===l?void 0:l.getVoiceVideoCalling)){e.next=49;break}return e.next=47,null===l||void 0===l?void 0:l.getChatToken();case 47:b=e.sent,G(b);case 49:case"end":return e.stop()}}),e,null,[[23,28]])})));return function(t){return e.apply(this,arguments)}}(),[l,t,n,ue,se,de,m,w]),he=Object(c.useCallback)(Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("[endChat]"),e.next=3,null===l||void 0===l?void 0:l.endChat();case 3:null===$||void 0===$||$.close(),D(void 0),G(void 0),f(void 0),V(void 0),q(void 0),le(!1),localStorage.removeItem("liveChatContext"),n({type:a.SET_CHAT_STARTED,payload:!1});case 12:case"end":return e.stop()}}),e)}))),[l,n,$]),be=Object(c.useCallback)(Object(u.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("[downloadTranscript]"),e.next=3,null===l||void 0===l?void 0:l.getLiveChatTranscript();case 3:t=e.sent,console.log(t);case 5:case"end":return e.stop()}}),e)}))),[l]),ge=Object(c.useCallback)(Object(u.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("[emailTranscript]"),t={emailAddress:"foo@bar.com",attachmentMessage:"Transcript",locale:"en"},e.next=4,null===l||void 0===l?void 0:l.emailLiveChatTranscript(t);case 4:case"end":return e.stop()}}),e)}))),[l]),me=Object(c.useCallback)((function(){var e=new p,t=new h.AdaptiveCard,c=new h.SerializationContext;c.onParseElement=function(t,n,a){e.attachFieldValidator(t,n,a)},t.parse(w,c),t.onExecuteAction=function(){var c=Object(u.a)(s.a.mark((function c(o){var i,r,d,u,v,h,b;return s.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(i=t.getAllInputs(),r=e.canSubmitSurvey(i),console.log("[canSubmitSurvey] ".concat(r)),r){c.next=5;break}return c.abrupt("return");case 5:return d=o.data,q(d),u={},d&&(u.preChatResponse=d),n({type:a.SET_LOADING,payload:!0}),c.prev=10,c.next=13,null===l||void 0===l?void 0:l.startChat(u);case 13:c.next=19;break;case 15:return c.prev=15,c.t0=c.catch(10),console.log("Unable to start chat: ".concat(c.t0.message)),c.abrupt("return");case 19:return c.next=21,null===l||void 0===l?void 0:l.getCurrentLiveChatContext();case 21:return(v=c.sent)&&Object.keys(v).length&&localStorage.setItem("liveChatContext",JSON.stringify(v)),null===l||void 0===l||l.onNewMessage(se,{rehydrate:!0}),null===l||void 0===l||l.onTypingEvent(de),null===l||void 0===l||l.onAgentEndSession(ue),c.next=28,null===l||void 0===l?void 0:l.createChatAdapter();case 28:if(h=c.sent,D(h),n({type:a.SET_LOADING,payload:!1}),!(null===l||void 0===l?void 0:l.getVoiceVideoCalling)){c.next=36;break}return c.next=34,null===l||void 0===l?void 0:l.getChatToken();case 34:b=c.sent,G(b);case 36:case"end":return c.stop()}}),c,null,[[10,15]])})));return function(e){return c.apply(this,arguments)}}();var o=t.render();return Object(O.jsx)("div",{ref:function(e){e&&e.firstChild&&e.removeChild(e.firstChild),o&&e&&e.appendChild(o)}})}),[l,w]);return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{children:!t.hasChatStarted&&Object(O.jsx)(z,{onClick:ve})}),t.hasChatStarted&&Object(O.jsxs)("div",{className:ie?"chat-container noSendBox":"chat-container",children:[Object(O.jsx)(A,{title:"Live Chat via Chat SDK",onClick:he}),(!m||!Object.keys(m).length)&&w&&!M&&me(),t.isLoading&&Object(O.jsx)(T,{}),!ze.disable&&$&&F&&Object(O.jsx)(P,{VoiceVideoCallingSDK:$,OCClient:null===l||void 0===l?void 0:l.OCClient,chatToken:F}),!t.isLoading&&t.hasChatStarted&&I&&R&&Ie&&ne&&Object(O.jsx)(y.a,{activityMiddleware:Ie,avatarMiddleware:Ne,activityStatusMiddleware:De,typingIndicatorMiddleware:ne,attachmentMiddleware:Le,userID:"teamsvisitor",directLine:I,sendTypingIndicator:!0,store:R,styleOptions:re}),!t.isLoading&&t.hasChatStarted&&I&&Object(O.jsx)(Y,{onDownloadClick:be,onEmailTranscriptClick:ge})]})]})},Be=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,2003)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,o=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),o(e),i(e)}))};l.a.render(Object(O.jsx)(o.a.StrictMode,{children:Object(O.jsx)(k,{children:Object(O.jsx)(Ue,{})})}),document.getElementById("root")),Be()},419:function(e,t){},420:function(e,t){},810:function(e,t){},829:function(e,t,n){},988:function(e,t){},990:function(e,t){}},[[1979,1,2]]]);
//# sourceMappingURL=main.7ea3662c.chunk.js.map