(self.webpackChunkangular_botframework_webchat_control=self.webpackChunkangular_botframework_webchat_control||[]).push([[179],{8255:$=>{function g(c){return Promise.resolve().then(()=>{var u=new Error("Cannot find module '"+c+"'");throw u.code="MODULE_NOT_FOUND",u})}g.keys=()=>[],g.resolve=g,g.id=8255,$.exports=g},5413:($,g,c)=>{"use strict";var u=c(1948);Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var I=u(c(5725)),y=u(c(3837)),_=c(2e3),D=function m(){(0,I.default)(this,m)};g.default=D,(0,y.default)(D,"requiredOmnichannelConfigurationParameters",["orgUrl","orgId","widgetId"]),(0,y.default)(D,"defaultHeaders",{"Content-Type":"application/json"}),(0,y.default)(D,"bypassCacheHeaders",{"cache-control":"no-store, must-revalidate, no-cache"}),(0,y.default)(D,"defaultChannelId",_.ChannelId.LCW),(0,y.default)(D,"defaultLocale","en-us"),(0,y.default)(D,"noContentStatusCode",204),(0,y.default)(D,"transactionid","transaction-id")},2e3:($,g)=>{"use strict";var c,C,u,I,y,_,D,m;Object.defineProperty(g,"__esModule",{value:!0}),g.LiveChatVersion=g.OCSDKTelemetryEvent=g.ChannelId=g.OperatingSystem=g.DeviceType=g.Browser=g.BrowserVendor=void 0,g.BrowserVendor=c,(C=c||(g.BrowserVendor=c={})).IE="IE",C.CHROME="Chrome",C.FIREFOX="Firefox",C.SAFARI="Safari",C.EDGE="Edge",C.EDGE_CHROMIUM="Edg",C.OPERA="Opera",C.UNKNOWN="Unknown",g.Browser=u,function(C){C[C.Chrome=0]="Chrome",C[C.Firefox=1]="Firefox",C[C.Ie=2]="Ie",C[C.Edge=3]="Edge",C[C.Safari=4]="Safari",C[C.None=5]="None"}(u||(g.Browser=u={})),g.DeviceType=I,function(C){C.Desktop="Desktop",C.Mobile="Mobile",C.Tablet="Tablet"}(I||(g.DeviceType=I={})),g.OperatingSystem=y,function(C){C.WINDOWS="Windows",C.MACOSX="Mac OS X",C.WINDOWS_PHONE="Windows Phone",C.WINDOWS_RT="Windows RT",C.IOS="iOS",C.ANDROID="Android",C.LINUX="Linux",C.UNKNOWN="Unknown"}(y||(g.OperatingSystem=y={})),g.ChannelId=_,function(C){C.LCW="lcw",C.SMS="sms",C.FACEBOOK="facebook",C.WECHAT="wechat"}(_||(g.ChannelId=_={})),g.OCSDKTelemetryEvent=D,function(C){C.GETCHATCONFIG="GetChatConfig",C.GETCHATCONFIGSUCCESS="GetChatConfigSucceeded",C.GETRECONNECTABLECHATS="GetReconnnectableChats",C.GETRECONNECTAVAILABILITY="GetReconnnectableAvailability",C.GETCHATTOKENSTARTED="GetChatTokenStarted",C.GETCHATTOKENSUCCEEDED="GetChatTokenSucceeded",C.GETCHATTOKENFAILED="GetChatTokenFailed",C.GETLWISTATUSSTARTED="GetLwiStatusStarted",C.GETLWISTATUSSUCCEEDED="GetLwiStatusSucceeded",C.GETLWISTATUSFAILED="GetLwiStatusFailed",C.SESSIONINITSTARTED="SessionInitStarted",C.SESSIONINITSUCCEEDED="SessionInitSucceeded",C.SESSIONINITFAILED="SessionInitFailed",C.SESSIONCLOSESTARTED="SessionCloseStarted",C.SESSIONCLOSESUCCEEDED="SessionCloseSucceeded",C.SESSIONCLOSEFAILED="SessionCloseFailed",C.SUBMITPOSTCHATSTARTED="SubmitPostChatStarted",C.SUBMITPOSTCHATSUCCEEDED="SubmitPostChatSucceeded",C.SUBMITPOSTCHATFAILED="SubmitPostChatFailed",C.GETCHATTRANSCRIPTSTARTED="GetChatTranscriptStarted",C.GETCHATTRANSCRIPTSUCCEEDED="GetChatTranscriptSucceeded",C.GETCHATTRANSCRIPTFAILED="GetChatTranscriptFailed",C.EMAILTRANSCRIPTSTARTED="EmailTranscriptStarted",C.EMAILTRANSCRIPTSUCCEEDED="EmailTranscriptSucceeded",C.EMAILTRANSCRIPTFAILED="EmailTranscriptFailed",C.FETCHDATAMASKINGSTARTED="FetchDataMaskingStarted",C.FETCHDATAMASKINGSUCCEEDED="FetchDataMaskingSucceeded",C.FETCHDATAMASKINGFAILED="FetchDataMaskingFailed",C.SECONDARYCHANNELEVENTREQUESTSTARTED="SecondaryChannelEventRequestStarted",C.SECONDARYCHANNELEVENTREQUESTSUCCEEDED="SecondaryChannelEventRequestSucceeded",C.SECONDARYCHANNELEVENTREQUESTFAILED="SecondaryChannelEventRequestFailed",C.GETSURVEYINVITELINKSTARTED="GetSurveyInviteLinkStarted",C.GETSURVEYINVITELINKSUCCEEDED="GetSurveyInviteLinkSucceeded",C.GETSURVEYINVITELINKFAILED="GetSurveyInviteLinkFailed",C.VALIDATEAUTHCHATRECORDSTARTED="ValidateAuthChatRecordStarted",C.VALIDATEAUTHCHATRECORDSUCCEEDED="ValidateAuthChatRecordSucceeded",C.VALIDATEAUTHCHATRECORDFAILED="ValidateAuthChatRecordFailed",C.GETQUEUEAVAILABILITYSTARTED="GetQueueAvailabilityStarted",C.GETQUEUEAVAILABILITYSUCCEEDED="GetQueueAvailabilitySucceeded",C.GETQUEUEAVAILABILITYFAILED="GetQueueAvailabilityFailed",C.SENDTYPINGINDICATORFAILED="SendTypingIndicatorFailed",C.SENDTYPINGINDICATORSUCCEEDED="SendTypingIndicatorSucceeded"}(D||(g.OCSDKTelemetryEvent=D={})),g.LiveChatVersion=m,function(C){C[C.V1=1]="V1",C[C.V2=2]="V2"}(m||(g.LiveChatVersion=m={}))},3096:($,g,c)=>{"use strict";var u=c(1948);Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var I=u(c(5725)),y=u(c(3560));g.default=function(){function D(){(0,I.default)(this,D)}return(0,y.default)(D,null,[{key:"OCSDKLOAD",get:function(){return"oc:sdk:load"}}]),D}()},4950:($,g,c)=>{"use strict";var u=c(1948);Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var I=u(c(5725)),y=u(c(3837)),_=function D(){(0,I.default)(this,D)};g.default=_,(0,y.default)(_,"supportedLocales",["ar-sa","bg-bg","ca-es","cs-cz","da-dk","de-de","el-gr","en-us","es-es","et-ee","eu-es","fi-fi","fr-fr","gl-es","he-il","hi-in","hr-hr","hu-hu","id-id","it-it","ja-jp","kk-kz","ko-kr","lt-lt","lv-lv","ms-my","nb-no","nl-nl","pl-pl","pt-br","pt-pt","ro-ro","ru-ru","sk-sk","sl-si","sr-cyrl-cs","sr-latn-cs","sv-se","th-th","tr-tr","uk-ua","vi-vn","zh-cn","zh-hk","zh-tw"])},4162:($,g,c)=>{"use strict";var u=c(1948);Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var I=u(c(5725)),y=u(c(3560)),_=u(c(3837)),D=u(c(7276));g.default=function(){function C(v){(0,I.default)(this,C),(0,_.default)(this,"logger",void 0),this.logger=v}return(0,y.default)(C,[{key:"log",value:function(h,f,w,S){if(this.isLoggingEnabled()){var b=D.default.GETTELEMETRYEVENTDATA(f,w,S);this.logEvent(h,b)}}},{key:"logEvent",value:function(h,f){this.isLoggingEnabled()&&setTimeout(this.logger.logClientSdkTelemetryEvent.bind(this.logger),0,h,f)}},{key:"isLoggingEnabled",value:function(){return!this.isNullOrUndefined(this.logger)}},{key:"isNullOrUndefined",value:function(h){return null==h}}]),C}()},2172:($,g,c)=>{"use strict";var u=c(1948);Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var I=u(c(5725)),y=u(c(3837)),_=function D(){(0,I.default)(this,D)};g.default=_,(0,y.default)(_,"LiveChatConfigPath","livechatconnector/config"),(0,y.default)(_,"LiveChatSessionInitPath","livechatconnector/sessioninit"),(0,y.default)(_,"LiveChatAuthSessionInitPath","livechatconnector/auth/sessioninit"),(0,y.default)(_,"LiveChatGetChatTokenPath","livechatconnector/getchattoken"),(0,y.default)(_,"LiveChatv2GetChatTokenPath","livechatconnector/v2/getchattoken"),(0,y.default)(_,"LiveChatAuthGetChatTokenPath","livechatconnector/auth/getchattoken"),(0,y.default)(_,"LiveChatv2AuthGetChatTokenPath","livechatconnector/v2/auth/getchattoken"),(0,y.default)(_,"LiveChatSessionClosePath","livechatconnector/sessionclose"),(0,y.default)(_,"LiveChatAuthSessionClosePath","livechatconnector/auth/sessionclose"),(0,y.default)(_,"LiveChatSubmitPostChatPath","survey/submitpostchat"),(0,y.default)(_,"LiveChatAuthSubmitPostChatPath","survey/auth/submitpostchat"),(0,y.default)(_,"LiveChatGetSurveyInviteLinkPath","livechatconnector/getsurveyinvite"),(0,y.default)(_,"LiveChatAuthGetSurveyInviteLinkPath","livechatconnector/auth/getsurveyinvite"),(0,y.default)(_,"LiveChatGetChatTranscriptPath","livechatconnector/getchattranscripts"),(0,y.default)(_,"LiveChatv2GetChatTranscriptPath","livechatconnector/v2/getchattranscripts"),(0,y.default)(_,"LiveChatAuthGetChatTranscriptPath","livechatconnector/auth/getchattranscripts"),(0,y.default)(_,"LiveChatv2AuthGetChatTranscriptPath","livechatconnector/v2/auth/getchattranscripts"),(0,y.default)(_,"LiveChatTranscriptEmailRequestPath","livechatconnector/createemailrequest"),(0,y.default)(_,"LiveChatAuthTranscriptEmailRequestPath","livechatconnector/auth/createemailrequest"),(0,y.default)(_,"LiveChatFetchDataMaskingInfoPath","livechatconnector/fetchdatamaskinginfo"),(0,y.default)(_,"LiveChatSecondaryChannelEventPath","livechatconnector/secondarychannelevent"),(0,y.default)(_,"LiveChatAuthSecondaryChannelEventPath","livechatconnector/auth/secondarychannelevent"),(0,y.default)(_,"LiveChatLiveWorkItemDetailsPath","livechatconnector/getliveworkitemdetails"),(0,y.default)(_,"LiveChatAuthLiveWorkItemDetailsPath","livechatconnector/auth/getliveworkitemdetails"),(0,y.default)(_,"LiveChatGetReconnectableChatsPath","livechatconnector/auth/reconnectablechats"),(0,y.default)(_,"LiveChatReconnectAvailabilityPath","livechatconnector/reconnect"),(0,y.default)(_,"LiveChatValidateAuthChatMapRecordPath","livechatconnector/auth/validateauthchatmaprecord"),(0,y.default)(_,"GetQueueAvailabilityPath","livechatconnector/auth/getqueueavailability"),(0,y.default)(_,"SendTypingIndicatorPath","inbound/typingindicator/livechat/sendtypingindicator")},1858:($,g,c)=>{"use strict";var u=c(1948);Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var I=u(c(5725)),y=u(c(3837)),_=function D(){(0,I.default)(this,D)};g.default=_,(0,y.default)(_,"authenticatedUserToken","AuthenticatedUserToken"),(0,y.default)(_,"authorization","Authorization"),(0,y.default)(_,"organizationId","OrganizationId"),(0,y.default)(_,"widgetAppId","widgetAppId"),(0,y.default)(_,"requestId","Request-Id")},6528:($,g)=>{"use strict";var c,u;Object.defineProperty(g,"__esModule",{value:!0}),g.LogLevel=void 0,g.LogLevel=c,(u=c||(g.LogLevel=c={})).INFO="INFO",u.DEBUG="DEBUG",u.WARN="WARN",u.ERROR="ERROR"},8634:($,g,c)=>{"use strict";var u=c(1948);Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var I=u(c(8774)),y=u(c(1052)),_=u(c(4321)),D=u(c(5725)),m=u(c(3560)),C=u(c(3837)),v=c(2e3),h=u(c(8686)),f=c(4717),w=u(c(5413)),S=c(6812),b=u(c(4950)),p=c(6528),T=c(7169),P=u(c(2172)),O=u(c(1858)),L=c(3945),W=u(c(1729)),B=c(8566);function F(z,ee){var ie=Object.keys(z);if(Object.getOwnPropertySymbols){var ue=Object.getOwnPropertySymbols(z);ee&&(ue=ue.filter(function(Z){return Object.getOwnPropertyDescriptor(z,Z).enumerable})),ie.push.apply(ie,ue)}return ie}function V(z){for(var ee=1;ee<arguments.length;ee++){var ie=null!=arguments[ee]?arguments[ee]:{};ee%2?F(Object(ie),!0).forEach(function(ue){(0,C.default)(z,ue,ie[ue])}):Object.getOwnPropertyDescriptors?Object.defineProperties(z,Object.getOwnPropertyDescriptors(ie)):F(Object(ie)).forEach(function(ue){Object.defineProperty(z,ue,Object.getOwnPropertyDescriptor(ie,ue))})}return z}function K(z,ee){var ie;if("undefined"==typeof Symbol||null==z[Symbol.iterator]){if(Array.isArray(z)||(ie=function(z,ee){if(z){if("string"==typeof z)return G(z,undefined);var ie=Object.prototype.toString.call(z).slice(8,-1);if("Object"===ie&&z.constructor&&(ie=z.constructor.name),"Map"===ie||"Set"===ie)return Array.from(z);if("Arguments"===ie||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ie))return G(z,undefined)}}(z))||ee&&z&&"number"==typeof z.length){ie&&(z=ie);var ue=0,Z=function(){};return{s:Z,n:function(){return ue>=z.length?{done:!0}:{done:!1,value:z[ue++]}},e:function(R){throw R},f:Z}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var j,x=!0,k=!1;return{s:function(){ie=z[Symbol.iterator]()},n:function(){var R=ie.next();return x=R.done,R},e:function(R){k=!0,j=R},f:function(){try{!x&&null!=ie.return&&ie.return()}finally{if(k)throw j}}}}function G(z,ee){(null==ee||ee>z.length)&&(ee=z.length);for(var ie=0,ue=new Array(ee);ie<ee;ie++)ue[ie]=z[ie];return ue}var ae=function(){function z(ee){var ie=arguments.length>1&&void 0!==arguments[1]?arguments[1]:z.defaultConfiguration,ue=arguments.length>2?arguments[2]:void 0;(0,D.default)(this,z),this.omnichannelConfiguration=ee,this.configuration=ie,this.logger=ue,(0,C.default)(this,"liveChatVersion",void 0),(!Object.keys(this.configuration).length||"object"!==(0,_.default)(ie))&&(this.configuration=z.defaultConfiguration);for(var Z=0,x=Object.keys(z.defaultConfiguration);Z<x.length;Z++){var k=x[Z];if(!this.configuration.hasOwnProperty(k))throw new Error("Missing '".concat(k,"' in SDKConfiguration"))}var j=ee.channelId;if(!Object.values(v.ChannelId).includes(j))throw new Error("Invalid channelId");var H,M=Object.keys(ee),R=K(w.default.requiredOmnichannelConfigurationParameters);try{for(R.s();!(H=R.n()).done;){var X=H.value;if(!M.includes(X))throw new Error("Missing '".concat(X,"' in OmnichannelConfiguration"))}}catch(re){R.e(re)}finally{R.f()}this.liveChatVersion=v.LiveChatVersion.V1}return(0,m.default)(z,[{key:"getChatConfig",value:(ee=(0,y.default)(I.default.mark(function ue(Z){var x,k,j,M,R,H,X,re,J=arguments;return I.default.wrap(function(se){for(;;)switch(se.prev=se.next){case 0:return x=J.length>1&&void 0!==J[1]&&J[1],k=L.Timer.TIMER(),this.logger&&this.logger.log(p.LogLevel.INFO,v.OCSDKTelemetryEvent.GETCHATCONFIG,{RequestId:Z},"Get Chat Config Started"),Z||(Z=(0,B.uuidv4)()),j="".concat(this.omnichannelConfiguration.orgUrl,"/").concat(P.default.LiveChatConfigPath,"/").concat(this.omnichannelConfiguration.orgId,"/").concat(this.omnichannelConfiguration.widgetId,"?requestId=").concat(Z,"&channelId=").concat(this.omnichannelConfiguration.channelId),M=h.default.create(),(0,W.default)(M,{retries:this.configuration.maxRequestRetriesOnFailure}),R={},x&&(R=V(V({},w.default.bypassCacheHeaders),R)),se.next=11,M.get(j,{headers:R});case 11:return X=k.milliSecondsElapsed,(re=(H=se.sent).data).LiveChatVersion&&re.LiveChatVersion===v.LiveChatVersion.V2&&(this.liveChatVersion=re.LiveChatVersion),this.logger&&this.logger.log(p.LogLevel.INFO,v.OCSDKTelemetryEvent.GETCHATCONFIGSUCCESS,{RequestId:Z,Region:H.data.Region,ElapsedTimeInMilliseconds:X,TransactionId:H.headers["transaction-id"]},"Get Chat config succeeded"),se.abrupt("return",re);case 17:case"end":return se.stop()}},ue,this)})),function(ue){return ee.apply(this,arguments)})},{key:"getLWIDetails",value:function(){var ee=(0,y.default)(I.default.mark(function ue(Z){var k,j,M,R,H,X,re,J,x=this,ne=arguments;return I.default.wrap(function(le){for(;;)switch(le.prev=le.next){case 0:return k=ne.length>1&&void 0!==ne[1]?ne[1]:{},j=L.Timer.TIMER(),this.logger&&this.logger.log(p.LogLevel.INFO,v.OCSDKTelemetryEvent.GETLWISTATUSSTARTED,{RequestId:Z},"Get LWI Details Started"),Z||(Z=(0,B.uuidv4)()),M="".concat(this.omnichannelConfiguration.orgUrl,"/").concat(P.default.LiveChatLiveWorkItemDetailsPath,"/").concat(this.omnichannelConfiguration.orgId,"/").concat(this.omnichannelConfiguration.widgetId,"/").concat(Z),R=h.default.create(),(0,W.default)(R,{retries:this.configuration.maxRequestRetriesOnFailure}),X=k.reconnectId,re=w.default.defaultHeaders,(H=k.authenticatedUserToken)&&(M="".concat(this.omnichannelConfiguration.orgUrl,"/").concat(P.default.LiveChatAuthLiveWorkItemDetailsPath,"/").concat(this.omnichannelConfiguration.orgId,"/").concat(this.omnichannelConfiguration.widgetId,"/").concat(Z),re[O.default.authenticatedUserToken]=H),X&&(M+="/".concat(X)),M+="?channelId=".concat(this.omnichannelConfiguration.channelId),J={headers:re,method:"GET",url:M},le.abrupt("return",new Promise(function(){var ce=(0,y.default)(I.default.mark(function pe(he,Re){var ve,Ce,_e,Ge;return I.default.wrap(function(xe){for(;;)switch(xe.prev=xe.next){case 0:return xe.prev=0,xe.next=3,R(J);case 3:Ce=j.milliSecondsElapsed,_e=(ve=xe.sent).data,x.logger&&x.logger.log(p.LogLevel.INFO,v.OCSDKTelemetryEvent.GETLWISTATUSSUCCEEDED,{RequestId:Z,Region:ve.data.Region,ElapsedTimeInMilliseconds:Ce,TransactionId:ve.headers["transaction-id"]},"Get LWI Details succeeded"),he(_e),xe.next=15;break;case 10:xe.prev=10,xe.t0=xe.catch(0),Ge=j.milliSecondsElapsed,x.logger&&x.logger.log(p.LogLevel.ERROR,v.OCSDKTelemetryEvent.GETLWISTATUSFAILED,{RequestId:Z,ExceptionDetails:xe.t0,ElapsedTimeInMilliseconds:Ge},"Get LWI Details failed"),Re();case 15:case"end":return xe.stop()}},pe,null,[[0,10]])}));return function(pe,he){return ce.apply(this,arguments)}}()));case 14:case"end":return le.stop()}},ue,this)}));return function(ue){return ee.apply(this,arguments)}}()},{key:"getChatToken",value:function(){var ee=(0,y.default)(I.default.mark(function ue(Z){var k,j,M,R,H,X,re,J,ne,se,x=this,le=arguments;return I.default.wrap(function(pe){for(;;)switch(pe.prev=pe.next){case 0:if(k=le.length>1&&void 0!==le[1]?le[1]:{},j=le.length>2&&void 0!==le[2]?le[2]:0,M=L.Timer.TIMER(),R=k.reconnectId,H=k.authenticatedUserToken,X=k.currentLiveChatVersion,this.logger&&this.logger.log(p.LogLevel.INFO,v.OCSDKTelemetryEvent.GETCHATTOKENSTARTED,{RequestId:Z},"Get Chat Token Started"),!(j<0)){pe.next=7;break}throw new Error("Invalid currentRetryCount");case 7:return Z||(Z=(0,B.uuidv4)()),re=w.default.defaultHeaders,J="".concat(this.omnichannelConfiguration.orgUrl,"/").concat(P.default.LiveChatGetChatTokenPath,"/").concat(this.omnichannelConfiguration.orgId,"/").concat(this.omnichannelConfiguration.widgetId,"/").concat(Z),this.liveChatVersion===v.LiveChatVersion.V2||X&&X===v.LiveChatVersion.V2?(J="".concat(this.omnichannelConfiguration.orgUrl,"/").concat(P.default.LiveChatv2GetChatTokenPath,"/").concat(this.omnichannelConfiguration.orgId,"/").concat(this.omnichannelConfiguration.widgetId,"/").concat(Z),H&&(J="".concat(this.omnichannelConfiguration.orgUrl,"/").concat(P.default.LiveChatv2AuthGetChatTokenPath,"/").concat(this.omnichannelConfiguration.orgId,"/").concat(this.omnichannelConfiguration.widgetId,"/").concat(Z),re[O.default.authenticatedUserToken]=H)):H&&(J="".concat(this.omnichannelConfiguration.orgUrl,"/").concat(P.default.LiveChatAuthGetChatTokenPath,"/").concat(this.omnichannelConfiguration.orgId,"/").concat(this.omnichannelConfiguration.widgetId,"/").concat(Z),re[O.default.authenticatedUserToken]=H),R&&(J+="/".concat(R)),J+="?channelId=".concat(this.omnichannelConfiguration.channelId),ne={headers:re,method:"GET",url:J},se=h.default.create(),(0,W.default)(se,{retries:this.configuration.maxRequestRetriesOnFailure}),pe.abrupt("return",new Promise(function(){var he=(0,y.default)(I.default.mark(function Re(ve,Ce){var _e,Ge,Ie,xe;return I.default.wrap(function(ye){for(;;)switch(ye.prev=ye.next){case 0:return ye.prev=0,ye.next=3,se(ne);case 3:if(Ge=M.milliSecondsElapsed,!(Ie=(_e=ye.sent).data)){ye.next=11;break}return Ie.requestId=Z,x.logger&&x.logger.log(p.LogLevel.INFO,v.OCSDKTelemetryEvent.GETCHATTOKENSUCCEEDED,{RequestId:Z,Region:_e.data.Region,ElapsedTimeInMilliseconds:Ge,TransactionId:_e.headers["transaction-id"]},"Get Chat Token Succeeded"),ve(Ie),ye.abrupt("return");case 11:if(!R||_e.status!==w.default.noContentStatusCode){ye.next=14;break}return Ce(_e),ye.abrupt("return");case 14:ye.next=22;break;case 16:return ye.prev=16,ye.t0=ye.catch(0),xe=M.milliSecondsElapsed,x.logger&&x.logger.log(p.LogLevel.ERROR,v.OCSDKTelemetryEvent.GETCHATTOKENFAILED,{RequestId:Z,ExceptionDetails:ye.t0,ElapsedTimeInMilliseconds:xe},"Get Chat Token Failed"),Ce(ye.t0),ye.abrupt("return");case 22:if(!(j+1>=x.configuration.getChatTokenRetryCount)){ye.next=25;break}return Ce(new Error("The retry for getchattoken has exceeded its max value of ".concat(x.configuration.getChatTokenRetryCount))),ye.abrupt("return");case 25:setTimeout(function(){x.getChatToken(Z,k,j+1).then(function(Vi){return ve(Vi)}).catch(function(Vi){return Ce(Vi)})},x.configuration.getChatTokenTimeBetweenRetriesOnFailure);case 26:case"end":return ye.stop()}},Re,null,[[0,16]])}));return function(Re,ve){return he.apply(this,arguments)}}()));case 17:case"end":return pe.stop()}},ue,this)}));return function(ue){return ee.apply(this,arguments)}}()},{key:"getReconnectableChats",value:function(){var ee=(0,y.default)(I.default.mark(function ue(Z){var k,j,M,R,H,X,x=this;return I.default.wrap(function(J){for(;;)switch(J.prev=J.next){case 0:return k=L.Timer.TIMER(),j=Z.authenticatedUserToken,this.logger&&this.logger.log(p.LogLevel.INFO,v.OCSDKTelemetryEvent.GETRECONNECTABLECHATS,"Get Reconnectable chat Started"),M="".concat(this.omnichannelConfiguration.orgUrl,"/").concat(P.default.LiveChatGetReconnectableChatsPath,"/").concat(this.omnichannelConfiguration.orgId,"/").concat(this.omnichannelConfiguration.widgetId,"/").concat(this.omnichannelConfiguration.orgId,"?channelId=").concat(this.omnichannelConfiguration.channelId),(R=w.default.defaultHeaders)[O.default.authenticatedUserToken]=j,H={headers:R,method:"GET",url:M},X=h.default.create(),J.abrupt("return",new Promise(function(){var ne=(0,y.default)(I.default.mark(function se(le,ce){var pe,he,Re,ve;return I.default.wrap(function(_e){for(;;)switch(_e.prev=_e.next){case 0:return _e.prev=0,_e.next=3,X(H);case 3:if(he=k.milliSecondsElapsed,!(Re=(pe=_e.sent).data)){_e.next=10;break}return x.logger&&x.logger.log(p.LogLevel.INFO,v.OCSDKTelemetryEvent.GETRECONNECTABLECHATS,{Region:pe.data.Region,ElapsedTimeInMilliseconds:he,TransactionId:pe.headers[w.default.transactionid]},"Get Reconnectable Chats Succeeded and old session returned"),le(Re),_e.abrupt("return");case 10:return le(),_e.abrupt("return");case 14:return _e.prev=14,_e.t0=_e.catch(0),ve=k.milliSecondsElapsed,x.logger&&x.logger.log(p.LogLevel.ERROR,v.OCSDKTelemetryEvent.GETCHATTOKENFAILED,{ExceptionDetails:_e.t0,ElapsedTimeInMilliseconds:ve},"Get Reconnectable Chats Failed"),ce(_e.t0),_e.abrupt("return");case 20:case"end":return _e.stop()}},se,null,[[0,14]])}));return function(se,le){return ne.apply(this,arguments)}}()));case 9:case"end":return J.stop()}},ue,this)}));return function(ue){return ee.apply(this,arguments)}}()},{key:"getReconnectAvailability",value:function(){var ee=(0,y.default)(I.default.mark(function ue(Z){var k,j,R,H,x=this;return I.default.wrap(function(re){for(;;)switch(re.prev=re.next){case 0:return k=L.Timer.TIMER(),this.logger&&this.logger.log(p.LogLevel.INFO,v.OCSDKTelemetryEvent.GETRECONNECTAVAILABILITY,"Get Reconnect availability started"),j="".concat(this.omnichannelConfiguration.orgUrl,"/").concat(P.default.LiveChatReconnectAvailabilityPath,"/").concat(this.omnichannelConfiguration.orgId,"/").concat(this.omnichannelConfiguration.widgetId,"/").concat(Z),R={headers:w.default.defaultHeaders,method:"GET",url:j},H=h.default.create(),re.abrupt("return",new Promise(function(){var J=(0,y.default)(I.default.mark(function ne(se,le){var ce,pe,he,Re;return I.default.wrap(function(Ce){for(;;)switch(Ce.prev=Ce.next){case 0:return Ce.prev=0,Ce.next=3,H(R);case 3:if(pe=k.milliSecondsElapsed,!(he=(ce=Ce.sent).data)){Ce.next=10;break}return x.logger&&x.logger.log(p.LogLevel.INFO,v.OCSDKTelemetryEvent.GETRECONNECTAVAILABILITY,{Region:ce.data.Region,ElapsedTimeInMilliseconds:pe,TransactionId:ce.headers[w.default.transactionid]},"Get Reconnect availability Succeeded"),se(he),Ce.abrupt("return");case 10:return x.logger&&x.logger.log(p.LogLevel.WARN,v.OCSDKTelemetryEvent.GETRECONNECTAVAILABILITY,{Region:ce.data.Region,ElapsedTimeInMilliseconds:pe,TransactionId:ce.headers[w.default.transactionid]},"Get Reconnect availability didn't send any valid data."),se(),Ce.abrupt("return");case 15:return Ce.prev=15,Ce.t0=Ce.catch(0),Re=k.milliSecondsElapsed,x.logger&&x.logger.log(p.LogLevel.ERROR,v.OCSDKTelemetryEvent.GETRECONNECTAVAILABILITY,{ExceptionDetails:Ce.t0,ElapsedTimeInMilliseconds:Re},"Get Reconnect Availability Failed"),le(Ce.t0),Ce.abrupt("return");case 21:case"end":return Ce.stop()}},ne,null,[[0,15]])}));return function(ne,se){return J.apply(this,arguments)}}()));case 7:case"end":return re.stop()}},ue,this)}));return function(ue){return ee.apply(this,arguments)}}()},{key:"getQueueAvailability",value:function(){var ee=(0,y.default)(I.default.mark(function ue(Z){var k,j,M,R,H,X,re,J,ne,se,x=this,le=arguments;return I.default.wrap(function(pe){for(;;)switch(pe.prev=pe.next){case 0:if(k=le.length>1&&void 0!==le[1]?le[1]:{},j=L.Timer.TIMER(),this.logger&&this.logger.log(p.LogLevel.INFO,v.OCSDKTelemetryEvent.GETQUEUEAVAILABILITYSTARTED,{RequestId:Z},"Get queue availability started"),M="".concat(this.omnichannelConfiguration.orgUrl,"/").concat(P.default.GetQueueAvailabilityPath,"/").concat(this.omnichannelConfiguration.orgId,"/").concat(this.omnichannelConfiguration.widgetId,"/").concat(Z,"?channelId=lcw"),R=h.default.create(),(0,W.default)(R,{retries:this.configuration.maxRequestRetriesOnFailure}),X=k.initContext,re=k.getContext,J=w.default.defaultHeaders,(H=k.authenticatedUserToken)&&(J[O.default.authenticatedUserToken]=H),ne=X||{},!re||window.document){pe.next=12;break}return pe.abrupt("return",Promise.reject(new Error("getContext is only supported on web browsers")));case 12:if(re&&(ne.browser=f.BrowserInfo.getBrowserName(),ne.device=S.DeviceInfo.getDeviceType(),ne.originurl=window.location.href,ne.os=T.OSInfo.getOsType()),ne.locale||(ne.locale=w.default.defaultLocale),!ne.locale||b.default.supportedLocales.includes(ne.locale)){pe.next=16;break}return pe.abrupt("return",Promise.reject(new Error("Unsupported locale: '".concat(ne.locale,"'"))));case 16:return se={data:ne,headers:J,method:"POST",url:M},pe.abrupt("return",new Promise(function(){var he=(0,y.default)(I.default.mark(function Re(ve,Ce){var _e,Ge,Ie,xe;return I.default.wrap(function(ye){for(;;)switch(ye.prev=ye.next){case 0:return ye.prev=0,ye.next=3,R(se);case 3:Ge=j.milliSecondsElapsed,(Ie=(_e=ye.sent).data)&&(x.logger&&x.logger.log(p.LogLevel.INFO,v.OCSDKTelemetryEvent.GETQUEUEAVAILABILITYSUCCEEDED,{RequestId:Z,Region:_e.data.Region,ElapsedTimeInMilliseconds:Ge,TransactionId:_e.headers["transaction-id"]},"Get queue availability Succeeded"),ve(Ie)),ye.next=14;break;case 9:ye.prev=9,ye.t0=ye.catch(0),xe=j.milliSecondsElapsed,x.logger&&x.logger.log(p.LogLevel.ERROR,v.OCSDKTelemetryEvent.GETQUEUEAVAILABILITYFAILED,{RequestId:Z,ExceptionDetails:ye.t0,ElapsedTimeInMilliseconds:xe},"Get queue availability failed"),Ce(ye.t0);case 14:case"end":return ye.stop()}},Re,null,[[0,9]])}));return function(Re,ve){return he.apply(this,arguments)}}()));case 18:case"end":return pe.stop()}},ue,this)}));return function(ue){return ee.apply(this,arguments)}}()},{key:"sessionInit",value:function(){var ee=(0,y.default)(I.default.mark(function ue(Z){var k,j,M,R,H,X,re,J,ne,se,le,x=this,ce=arguments;return I.default.wrap(function(he){for(;;)switch(he.prev=he.next){case 0:if(k=ce.length>1&&void 0!==ce[1]?ce[1]:{},j=L.Timer.TIMER(),this.logger&&this.logger.log(p.LogLevel.INFO,v.OCSDKTelemetryEvent.SESSIONINITSTARTED,{RequestId:Z},"Session Init Started"),M=h.default.create(),(0,W.default)(M,{retries:this.configuration.maxRequestRetriesOnFailure}),R=k.reconnectId,H=k.authenticatedUserToken,X=k.initContext,re=k.getContext,J=w.default.defaultHeaders,ne="".concat(this.omnichannelConfiguration.orgUrl,"/").concat(P.default.LiveChatSessionInitPath,"/").concat(this.omnichannelConfiguration.orgId,"/").concat(this.omnichannelConfiguration.widgetId,"/").concat(Z),H&&(ne="".concat(this.omnichannelConfiguration.orgUrl,"/").concat(P.default.LiveChatAuthSessionInitPath,"/").concat(this.omnichannelConfiguration.orgId,"/").concat(this.omnichannelConfiguration.widgetId,"/").concat(Z),J[O.default.authenticatedUserToken]=H),R&&(ne+="/".concat(R)),ne+="?channelId=".concat(this.omnichannelConfiguration.channelId),se=X||{},!re||window.document){he.next=14;break}return he.abrupt("return",Promise.reject(new Error("getContext is only supported on web browsers")));case 14:if(re&&(se.browser=f.BrowserInfo.getBrowserName(),se.device=S.DeviceInfo.getDeviceType(),se.originurl=window.location.href,se.os=T.OSInfo.getOsType()),se.locale||(se.locale=w.default.defaultLocale),!se.locale||b.default.supportedLocales.includes(se.locale)){he.next=18;break}return he.abrupt("return",Promise.reject(new Error("Unsupported locale: '".concat(se.locale,"'"))));case 18:return le={data:se,headers:J,method:"POST",url:ne},he.abrupt("return",new Promise(function(){var Re=(0,y.default)(I.default.mark(function ve(Ce,_e){var Ge,Ie,xe;return I.default.wrap(function(ye){for(;;)switch(ye.prev=ye.next){case 0:return ye.prev=0,ye.next=3,M(le);case 3:Ge=ye.sent,Ie=j.milliSecondsElapsed,x.logger&&x.logger.log(p.LogLevel.INFO,v.OCSDKTelemetryEvent.SESSIONINITSUCCEEDED,{RequestId:Z,Region:Ge.data.Region,ElapsedTimeInMilliseconds:Ie,TransactionId:Ge.headers["transaction-id"]},"Session Init Succeeded"),Ce(),ye.next=14;break;case 9:ye.prev=9,ye.t0=ye.catch(0),xe=j.milliSecondsElapsed,x.logger&&x.logger.log(p.LogLevel.ERROR,v.OCSDKTelemetryEvent.SESSIONINITFAILED,{RequestId:Z,ExceptionDetails:ye.t0,ElapsedTimeInMilliseconds:xe},"Session Init Failed"),_e(ye.t0);case 14:case"end":return ye.stop()}},ve,null,[[0,9]])}));return function(ve,Ce){return Re.apply(this,arguments)}}()));case 20:case"end":return he.stop()}},ue,this)}));return function(ue){return ee.apply(this,arguments)}}()},{key:"sessionClose",value:function(){var ee=(0,y.default)(I.default.mark(function ue(Z){var k,j,M,R,H,X,re,ne,se,le,x=this,ce=arguments;return I.default.wrap(function(he){for(;;)switch(he.prev=he.next){case 0:return k=ce.length>1&&void 0!==ce[1]?ce[1]:{},j=L.Timer.TIMER(),this.logger&&this.logger.log(p.LogLevel.INFO,v.OCSDKTelemetryEvent.SESSIONCLOSESTARTED,{RequestId:Z},"Session Close Started"),M="".concat(this.omnichannelConfiguration.orgUrl,"/").concat(P.default.LiveChatSessionClosePath,"/").concat(this.omnichannelConfiguration.orgId,"/").concat(this.omnichannelConfiguration.widgetId,"/").concat(Z,"?channelId=").concat(this.omnichannelConfiguration.channelId),R=h.default.create(),(0,W.default)(R,{retries:this.configuration.maxRequestRetriesOnFailure}),H=k.authenticatedUserToken,X=k.isReconnectChat,re=k.isPersistentChat,ne=w.default.defaultHeaders,(se={}).chatId=k.chatId,H&&(M="".concat(this.omnichannelConfiguration.orgUrl,"/").concat(P.default.LiveChatAuthSessionClosePath,"/").concat(this.omnichannelConfiguration.orgId,"/").concat(this.omnichannelConfiguration.widgetId,"/").concat(Z,"?channelId=").concat(this.omnichannelConfiguration.channelId),ne[O.default.authenticatedUserToken]=H),X&&(M+="&isReconnectChat=true"),re&&(M+="&isPersistentChat=true"),le={data:se,headers:ne,method:"POST",url:M},he.abrupt("return",new Promise(function(){var Re=(0,y.default)(I.default.mark(function ve(Ce,_e){var Ge,Ie,xe;return I.default.wrap(function(ye){for(;;)switch(ye.prev=ye.next){case 0:return ye.prev=0,ye.next=3,R(le);case 3:Ge=ye.sent,Ie=j.milliSecondsElapsed,x.logger&&x.logger.log(p.LogLevel.INFO,v.OCSDKTelemetryEvent.SESSIONCLOSESUCCEEDED,{RequestId:Z,Region:Ge.data.Region,ElapsedTimeInMilliseconds:Ie,TransactionId:Ge.headers["transaction-id"]},"Session Close Succeeded"),Ce(),ye.next=14;break;case 9:ye.prev=9,ye.t0=ye.catch(0),xe=j.milliSecondsElapsed,x.logger&&x.logger.log(p.LogLevel.ERROR,v.OCSDKTelemetryEvent.SESSIONCLOSEFAILED,{RequestId:Z,ExceptionDetails:ye.t0,ElapsedTimeInMilliseconds:xe},"Session Close Failed"),_e();case 14:case"end":return ye.stop()}},ve,null,[[0,9]])}));return function(ve,Ce){return Re.apply(this,arguments)}}()));case 15:case"end":return he.stop()}},ue,this)}));return function(ue){return ee.apply(this,arguments)}}()},{key:"validateAuthChatRecord",value:function(){var ee=(0,y.default)(I.default.mark(function ue(Z,x){var k,j,M,R,H,X,re,J,ne,se,le,ce,pe,he;return I.default.wrap(function(ve){for(;;)switch(ve.prev=ve.next){case 0:return k=L.Timer.TIMER(),this.logger&&this.logger.log(p.LogLevel.INFO,v.OCSDKTelemetryEvent.VALIDATEAUTHCHATRECORDSTARTED,{RequestId:Z},"Validate Auth Chat Record Started"),j=x.authenticatedUserToken,M=x.chatId,R="".concat(this.omnichannelConfiguration.orgUrl,"/").concat(P.default.LiveChatValidateAuthChatMapRecordPath,"/").concat(this.omnichannelConfiguration.orgId,"/").concat(this.omnichannelConfiguration.widgetId,"/").concat(M,"/").concat(Z,"?channelId=").concat(this.omnichannelConfiguration.channelId),H=h.default.create(),(0,W.default)(H,{retries:this.configuration.maxRequestRetriesOnFailure}),X=w.default.defaultHeaders,j&&(X[O.default.authenticatedUserToken]=j),re={headers:X,method:"GET",url:R},ve.prev=9,ve.next=12,H(re);case 12:if(se=k.milliSecondsElapsed,!0!==(null===(J=(ne=ve.sent).data)||void 0===J?void 0:J.authChatExist)){ve.next=19;break}return null===(le=this.logger)||void 0===le||le.log(p.LogLevel.INFO,v.OCSDKTelemetryEvent.VALIDATEAUTHCHATRECORDSUCCEEDED,{RequestId:Z,Region:ne.data.Region,ElapsedTimeInMilliseconds:se,TransactionId:ne.headers["transaction-id"]},"Validate Auth Chat Record Succeeded"),ve.abrupt("return",Promise.resolve(ne.data));case 19:return null===(ce=this.logger)||void 0===ce||ce.log(p.LogLevel.INFO,v.OCSDKTelemetryEvent.VALIDATEAUTHCHATRECORDFAILED,{RequestId:Z,Region:ne.data.Region,ElapsedTimeInMilliseconds:se,TransactionId:ne.headers["transaction-id"],ErrorCode:ne.status},"Validate Auth Chat Record Failed. Record is not found or request is not authorized"),ve.abrupt("return",Promise.reject(new Error("Validate Auth Chat Record Failed. Record is not found or request is not authorized")));case 21:ve.next=32;break;case 23:if(ve.prev=23,ve.t0=ve.catch(9),he=k.milliSecondsElapsed,null===(pe=this.logger)||void 0===pe||pe.log(p.LogLevel.ERROR,v.OCSDKTelemetryEvent.VALIDATEAUTHCHATRECORDFAILED,{RequestId:Z,ExceptionDetails:ve.t0,ElapsedTimeInMilliseconds:he},"Validate Auth Chat Record Failed"),"Error: Request failed with status code 404"!==ve.t0.toString()){ve.next=31;break}return ve.abrupt("return",Promise.resolve({}));case 31:return ve.abrupt("return",Promise.reject());case 32:case"end":return ve.stop()}},ue,this,[[9,23]])}));return function(ue,Z){return ee.apply(this,arguments)}}()},{key:"submitPostChatResponse",value:function(){var ee=(0,y.default)(I.default.mark(function ue(Z,x){var j,M,R,H,X,re,J,k=this,ne=arguments;return I.default.wrap(function(le){for(;;)switch(le.prev=le.next){case 0:return j=ne.length>2&&void 0!==ne[2]?ne[2]:{},M=L.Timer.TIMER(),this.logger&&this.logger.log(p.LogLevel.INFO,v.OCSDKTelemetryEvent.SUBMITPOSTCHATSTARTED,{RequestId:Z},"Submit Post Chat Started"),R="".concat(this.omnichannelConfiguration.orgUrl,"/").concat(P.default.LiveChatSubmitPostChatPath,"/").concat(this.omnichannelConfiguration.orgId,"/").concat(this.omnichannelConfiguration.widgetId,"/").concat(Z,"?channelId=").concat(this.omnichannelConfiguration.channelId),H=h.default.create(),(0,W.default)(H,{retries:this.configuration.maxRequestRetriesOnFailure}),re=w.default.defaultHeaders,(X=j.authenticatedUserToken)&&(R="".concat(this.omnichannelConfiguration.orgUrl,"/").concat(P.default.LiveChatAuthSubmitPostChatPath,"/").concat(this.omnichannelConfiguration.orgId,"/").concat(this.omnichannelConfiguration.widgetId,"/").concat(Z,"?channelId=").concat(this.omnichannelConfiguration.channelId),re[O.default.authenticatedUserToken]=X),J={data:JSON.stringify(x),headers:re,method:"POST",url:R},le.abrupt("return",new Promise(function(){var ce=(0,y.default)(I.default.mark(function pe(he,Re){var ve,Ce,_e;return I.default.wrap(function(Ie){for(;;)switch(Ie.prev=Ie.next){case 0:return Ie.prev=0,Ie.next=3,H(J);case 3:ve=Ie.sent,Ce=M.milliSecondsElapsed,k.logger&&k.logger.log(p.LogLevel.INFO,v.OCSDKTelemetryEvent.SUBMITPOSTCHATSUCCEEDED,{RequestId:Z,Region:ve.data.Region,ElapsedTimeInMilliseconds:Ce,TransactionId:ve.headers["transaction-id"]},"Submit Post Chat Succeeded"),he(),Ie.next=14;break;case 9:Ie.prev=9,Ie.t0=Ie.catch(0),_e=M.milliSecondsElapsed,k.logger&&k.logger.log(p.LogLevel.ERROR,v.OCSDKTelemetryEvent.SUBMITPOSTCHATFAILED,{RequestId:Z,ExceptionDetails:Ie.t0,ElapsedTimeInMilliseconds:_e},"Submit Post Chat Failed"),Re();case 14:case"end":return Ie.stop()}},pe,null,[[0,9]])}));return function(pe,he){return ce.apply(this,arguments)}}()));case 11:case"end":return le.stop()}},ue,this)}));return function(ue,Z){return ee.apply(this,arguments)}}()},{key:"getSurveyInviteLink",value:function(){var ee=(0,y.default)(I.default.mark(function ue(Z,x){var j,M,R,H,X,re,J,ne,k=this,se=arguments;return I.default.wrap(function(ce){for(;;)switch(ce.prev=ce.next){case 0:return j=se.length>2&&void 0!==se[2]?se[2]:{},M=L.Timer.TIMER(),this.logger&&this.logger.log(p.LogLevel.INFO,v.OCSDKTelemetryEvent.GETSURVEYINVITELINKSTARTED,{SurveyOwnerId:Z},"Get Survey Invite Link Started"),R="".concat(this.omnichannelConfiguration.orgUrl,"/").concat(P.default.LiveChatGetSurveyInviteLinkPath,"/").concat(this.omnichannelConfiguration.orgId,"/").concat(Z),H=h.default.create(),(0,W.default)(H,{retries:this.configuration.maxRequestRetriesOnFailure}),re=j.requestId,J=w.default.defaultHeaders,(X=j.authenticatedUserToken)&&(R="".concat(this.omnichannelConfiguration.orgUrl,"/").concat(P.default.LiveChatAuthGetSurveyInviteLinkPath,"/").concat(this.omnichannelConfiguration.orgId,"/").concat(Z),J[O.default.authenticatedUserToken]=X,J[O.default.widgetAppId]=this.omnichannelConfiguration.widgetId),re&&(J[O.default.requestId]=re),ne={data:JSON.stringify(x),headers:J,method:"POST",url:R},ce.abrupt("return",new Promise(function(){var pe=(0,y.default)(I.default.mark(function he(Re,ve){var Ce,_e,Ge,Ie;return I.default.wrap(function(Ct){for(;;)switch(Ct.prev=Ct.next){case 0:return Ct.prev=0,Ct.next=3,H(ne);case 3:_e=(Ce=Ct.sent).data,Ge=M.milliSecondsElapsed,k.logger&&k.logger.log(p.LogLevel.INFO,v.OCSDKTelemetryEvent.GETSURVEYINVITELINKSUCCEEDED,{Region:Ce.data.Region,ElapsedTimeInMilliseconds:Ge,TransactionId:Ce.headers["transaction-id"]},"Get Survey Invite Link Succeeded"),Re(_e),Ct.next=15;break;case 10:Ct.prev=10,Ct.t0=Ct.catch(0),Ie=M.milliSecondsElapsed,k.logger&&k.logger.log(p.LogLevel.ERROR,v.OCSDKTelemetryEvent.GETSURVEYINVITELINKFAILED,{ExceptionDetails:Ct.t0,ElapsedTimeInMilliseconds:Ie},"Get Survey Invite Link Failed"),ve();case 15:case"end":return Ct.stop()}},he,null,[[0,10]])}));return function(he,Re){return pe.apply(this,arguments)}}()));case 12:case"end":return ce.stop()}},ue,this)}));return function(ue,Z){return ee.apply(this,arguments)}}()},{key:"getChatTranscripts",value:function(){var ee=(0,y.default)(I.default.mark(function ue(Z,x,k){var M,R,H,X,re,J,ne,se,j=this,le=arguments;return I.default.wrap(function(pe){for(;;)switch(pe.prev=pe.next){case 0:return M=le.length>3&&void 0!==le[3]?le[3]:{},R=L.Timer.TIMER(),this.logger&&this.logger.log(p.LogLevel.INFO,v.OCSDKTelemetryEvent.GETCHATTRANSCRIPTSTARTED,{RequestId:Z},"Get Chat Transcript Started"),H="".concat(this.omnichannelConfiguration.orgUrl,"/").concat(P.default.LiveChatGetChatTranscriptPath,"/").concat(x,"/").concat(Z,"?channelId=").concat(this.omnichannelConfiguration.channelId),X=h.default.create(),(0,W.default)(X,{retries:this.configuration.maxRequestRetriesOnFailure}),re=M.authenticatedUserToken,J=M.currentLiveChatVersion,(ne=w.default.defaultHeaders)[O.default.organizationId]=this.omnichannelConfiguration.orgId,ne[O.default.widgetAppId]=this.omnichannelConfiguration.widgetId,ne[O.default.authorization]=k,this.liveChatVersion===v.LiveChatVersion.V2||J&&J===v.LiveChatVersion.V2?(H="".concat(this.omnichannelConfiguration.orgUrl,"/").concat(P.default.LiveChatv2GetChatTranscriptPath,"/").concat(x,"/").concat(Z,"?channelId=").concat(this.omnichannelConfiguration.channelId),re&&(H="".concat(this.omnichannelConfiguration.orgUrl,"/").concat(P.default.LiveChatv2AuthGetChatTranscriptPath,"/").concat(x,"/").concat(Z,"?channelId=").concat(this.omnichannelConfiguration.channelId))):re&&(H="".concat(this.omnichannelConfiguration.orgUrl,"/").concat(P.default.LiveChatAuthGetChatTranscriptPath,"/").concat(x,"/").concat(Z,"?channelId=").concat(this.omnichannelConfiguration.channelId)),se={headers:ne,method:"GET",url:H},pe.abrupt("return",new Promise(function(){var he=(0,y.default)(I.default.mark(function Re(ve,Ce){var _e,Ge,Ie,xe;return I.default.wrap(function(ye){for(;;)switch(ye.prev=ye.next){case 0:return ye.prev=0,ye.next=3,X(se);case 3:Ge=R.milliSecondsElapsed,Ie=(_e=ye.sent).data,j.logger&&j.logger.log(p.LogLevel.INFO,v.OCSDKTelemetryEvent.GETCHATTRANSCRIPTSUCCEEDED,{RequestId:Z,Region:_e.data.Region,ElapsedTimeInMilliseconds:Ge,TransactionId:_e.headers["transaction-id"]},"Get Chat Transcript Succeeded"),ve(Ie),ye.next=15;break;case 10:ye.prev=10,ye.t0=ye.catch(0),xe=R.milliSecondsElapsed,j.logger&&j.logger.log(p.LogLevel.ERROR,v.OCSDKTelemetryEvent.GETCHATTRANSCRIPTFAILED,{RequestId:Z,ExceptionDetails:ye.t0,ElapsedTimeInMilliseconds:xe},"Get Chat Transcript Failed"),Ce(ye.t0);case 15:case"end":return ye.stop()}},Re,null,[[0,10]])}));return function(Re,ve){return he.apply(this,arguments)}}()));case 14:case"end":return pe.stop()}},ue,this)}));return function(ue,Z,x){return ee.apply(this,arguments)}}()},{key:"emailTranscript",value:function(){var ee=(0,y.default)(I.default.mark(function ue(Z,x,k){var M,R,H,X,re,J,ne,j=this,se=arguments;return I.default.wrap(function(ce){for(;;)switch(ce.prev=ce.next){case 0:return M=se.length>3&&void 0!==se[3]?se[3]:{},R=L.Timer.TIMER(),this.logger&&this.logger.log(p.LogLevel.INFO,v.OCSDKTelemetryEvent.EMAILTRANSCRIPTSTARTED,{RequestId:Z},"Email Transcript Started"),H="".concat(this.omnichannelConfiguration.orgUrl,"/").concat(P.default.LiveChatTranscriptEmailRequestPath,"/").concat(Z,"?channelId=").concat(this.omnichannelConfiguration.channelId),X=h.default.create(),(0,W.default)(X,{retries:this.configuration.maxRequestRetriesOnFailure}),re=M.authenticatedUserToken,(J=w.default.defaultHeaders)[O.default.organizationId]=this.omnichannelConfiguration.orgId,J[O.default.widgetAppId]=this.omnichannelConfiguration.widgetId,J[O.default.authorization]=x,re&&(H="".concat(this.omnichannelConfiguration.orgUrl,"/").concat(P.default.LiveChatAuthTranscriptEmailRequestPath,"/").concat(Z,"?channelId=").concat(this.omnichannelConfiguration.channelId)),ne={data:JSON.stringify(k),headers:J,method:"POST",url:H},ce.abrupt("return",new Promise(function(){var pe=(0,y.default)(I.default.mark(function he(Re,ve){var Ce,_e,Ge;return I.default.wrap(function(xe){for(;;)switch(xe.prev=xe.next){case 0:return xe.prev=0,xe.next=3,X(ne);case 3:Ce=xe.sent,_e=R.milliSecondsElapsed,j.logger&&j.logger.log(p.LogLevel.INFO,v.OCSDKTelemetryEvent.EMAILTRANSCRIPTSUCCEEDED,{RequestId:Z,Region:Ce.data.Region,ElapsedTimeInMilliseconds:_e,TransactionId:Ce.headers["transaction-id"]},"Email Transcript Succeeded"),Re(),xe.next=14;break;case 9:xe.prev=9,xe.t0=xe.catch(0),Ge=R.milliSecondsElapsed,j.logger&&j.logger.log(p.LogLevel.ERROR,v.OCSDKTelemetryEvent.EMAILTRANSCRIPTFAILED,{RequestId:Z,ExceptionDetails:xe.t0,ElapsedTimeInMilliseconds:Ge},"Email Transcript Failed"),ve();case 14:case"end":return xe.stop()}},he,null,[[0,9]])}));return function(he,Re){return pe.apply(this,arguments)}}()));case 14:case"end":return ce.stop()}},ue,this)}));return function(ue,Z,x){return ee.apply(this,arguments)}}()},{key:"fetchDataMaskingInfo",value:function(){var ee=(0,y.default)(I.default.mark(function ue(Z){var k,j,M,R,H,x=this;return I.default.wrap(function(re){for(;;)switch(re.prev=re.next){case 0:return k=L.Timer.TIMER(),this.logger&&this.logger.log(p.LogLevel.INFO,v.OCSDKTelemetryEvent.FETCHDATAMASKINGSTARTED,{RequestId:Z},"Fetch Data Masking Started"),Z||(Z=(0,B.uuidv4)()),j="".concat(this.omnichannelConfiguration.orgUrl,"/").concat(P.default.LiveChatFetchDataMaskingInfoPath,"/").concat(this.omnichannelConfiguration.orgId),M=h.default.create(),(0,W.default)(M,{retries:this.configuration.maxRequestRetriesOnFailure}),(R=w.default.defaultHeaders)[O.default.organizationId]=this.omnichannelConfiguration.orgId,R[O.default.requestId]=Z,H={headers:R,method:"GET",url:j},re.abrupt("return",new Promise(function(){var J=(0,y.default)(I.default.mark(function ne(se,le){var ce,pe,he,Re;return I.default.wrap(function(Ce){for(;;)switch(Ce.prev=Ce.next){case 0:return Ce.prev=0,Ce.next=3,M(H);case 3:pe=k.milliSecondsElapsed,he=(ce=Ce.sent).data,x.logger&&x.logger.log(p.LogLevel.INFO,v.OCSDKTelemetryEvent.FETCHDATAMASKINGSUCCEEDED,{RequestId:Z,Region:ce.data.Region,ElapsedTimeInMilliseconds:pe,TransactionId:ce.headers["transaction-id"]},"Fetch Data Masking Succeeded"),se(he),Ce.next=15;break;case 10:Ce.prev=10,Ce.t0=Ce.catch(0),Re=k.milliSecondsElapsed,x.logger&&x.logger.log(p.LogLevel.ERROR,v.OCSDKTelemetryEvent.FETCHDATAMASKINGFAILED,{RequestId:Z,ExceptionDetails:Ce.t0,ElapsedTimeInMilliseconds:Re},"Fetch Data Masking Failed"),le();case 15:case"end":return Ce.stop()}},ne,null,[[0,10]])}));return function(ne,se){return J.apply(this,arguments)}}()));case 11:case"end":return re.stop()}},ue,this)}));return function(ue){return ee.apply(this,arguments)}}()},{key:"makeSecondaryChannelEventRequest",value:function(){var ee=(0,y.default)(I.default.mark(function ue(Z,x){var k,j,M,R,H,X,re,J,ne,se,le,ce=arguments;return I.default.wrap(function(he){for(;;)switch(he.prev=he.next){case 0:return k=ce.length>2&&void 0!==ce[2]?ce[2]:{},j=L.Timer.TIMER(),this.logger&&this.logger.log(p.LogLevel.INFO,v.OCSDKTelemetryEvent.SECONDARYCHANNELEVENTREQUESTSTARTED,{RequestId:Z},"Secondary Channel Event Request Started"),M="".concat(this.omnichannelConfiguration.orgUrl,"/").concat(P.default.LiveChatSecondaryChannelEventPath,"/").concat(this.omnichannelConfiguration.orgId,"/").concat(this.omnichannelConfiguration.widgetId,"/").concat(Z),R=h.default.create(),(0,W.default)(R,{retries:this.configuration.maxRequestRetriesOnFailure}),H=k.authenticatedUserToken,(X=w.default.defaultHeaders)[O.default.organizationId]=this.omnichannelConfiguration.orgId,H&&(X[O.default.authenticatedUserToken]=H,M="".concat(this.omnichannelConfiguration.orgUrl,"/").concat(P.default.LiveChatAuthSecondaryChannelEventPath,"/").concat(this.omnichannelConfiguration.orgId,"/").concat(this.omnichannelConfiguration.widgetId,"/").concat(Z)),M+="?channelId="+w.default.defaultChannelId,re={data:JSON.stringify(x),headers:X,method:"POST",url:M},he.prev=12,he.next=15,R(re);case 15:ne=j.milliSecondsElapsed,se=(J=he.sent).data,this.logger&&this.logger.log(p.LogLevel.INFO,v.OCSDKTelemetryEvent.SECONDARYCHANNELEVENTREQUESTSUCCEEDED,{RequestId:Z,Region:se.Region,ElapsedTimeInMilliseconds:ne,TransactionId:J.headers["transaction-id"]},"Secondary Channel Event Request Succeeded"),he.next=26;break;case 21:throw he.prev=21,he.t0=he.catch(12),le=j.milliSecondsElapsed,this.logger&&this.logger.log(p.LogLevel.ERROR,v.OCSDKTelemetryEvent.SECONDARYCHANNELEVENTREQUESTFAILED,{RequestId:Z,ExceptionDetails:he.t0,ElapsedTimeInMilliseconds:le},"Secondary Channel Event Request Failed"),he.t0;case 26:case"end":return he.stop()}},ue,this,[[12,21]])}));return function(ue,Z){return ee.apply(this,arguments)}}()},{key:"sendTypingIndicator",value:function(){var ee=(0,y.default)(I.default.mark(function ue(Z,x){var j,M,R,H,X,k=this;return I.default.wrap(function(J){for(;;)switch(J.prev=J.next){case 0:if(x&&x===v.LiveChatVersion.V2){J.next=2;break}return J.abrupt("return",Promise.resolve());case 2:if(j=L.Timer.TIMER(),x&&x===v.LiveChatVersion.V2){J.next=5;break}throw new Error("Typing indicator is only supported on v2");case 5:return M="".concat(this.omnichannelConfiguration.orgUrl,"/").concat(P.default.SendTypingIndicatorPath,"/").concat(Z),R=h.default.create(),(H=w.default.defaultHeaders)[O.default.organizationId]=this.omnichannelConfiguration.orgId,X={headers:H,method:"POST",url:M},J.abrupt("return",new Promise(function(){var ne=(0,y.default)(I.default.mark(function se(le,ce){var pe,he,Re,ve;return I.default.wrap(function(_e){for(;;)switch(_e.prev=_e.next){case 0:return _e.prev=0,_e.next=3,R(X);case 3:he=j.milliSecondsElapsed,Re=(pe=_e.sent).data,k.logger&&k.logger.log(p.LogLevel.INFO,v.OCSDKTelemetryEvent.SENDTYPINGINDICATORSUCCEEDED,{RequestId:Z,Region:Re.Region,ElapsedTimeInMilliseconds:he,TransactionId:pe.headers["transaction-id"]},"Send Typing Indicator Succeeded"),le(),_e.next=15;break;case 10:_e.prev=10,_e.t0=_e.catch(0),ve=j.milliSecondsElapsed,k.logger&&k.logger.log(p.LogLevel.ERROR,v.OCSDKTelemetryEvent.SENDTYPINGINDICATORFAILED,{RequestId:Z,ExceptionDetails:_e.t0,ElapsedTimeInMilliseconds:ve},"Send Typing Indicator Failed"),ce(_e.t0);case 15:case"end":return _e.stop()}},se,null,[[0,10]])}));return function(se,le){return ne.apply(this,arguments)}}()));case 11:case"end":return J.stop()}},ue,this)}));return function(ue,Z){return ee.apply(this,arguments)}}()}]),z;var ee}();g.default=ae,(0,C.default)(ae,"defaultConfiguration",{getChatTokenRetryCount:35,getChatTokenTimeBetweenRetriesOnFailure:1e4,maxRequestRetriesOnFailure:3})},4491:($,g,c)=>{"use strict";var u=c(1948);Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var I=u(c(5725)),y=u(c(3560)),_=u(c(5413)),D=u(c(4162)),m=u(c(8634));g.default=function(){function v(){(0,I.default)(this,v)}return(0,y.default)(v,null,[{key:"getSDK",value:function(f,w,S){var b=new D.default(S);return new m.default({channelId:f.channelId||_.default.defaultChannelId,orgId:f.orgId,orgUrl:f.orgUrl,widgetId:f.widgetId},w||{},b)}}]),v}()},4717:($,g,c)=>{"use strict";var u=c(1948);Object.defineProperty(g,"__esModule",{value:!0}),g.BrowserInfo=g.UNKNOWN_VERSION=void 0;var I=u(c(5725)),y=u(c(3560)),_=u(c(3837)),D=c(2e3),m="([\\d,.]+)";g.UNKNOWN_VERSION="U";var v=function(){function h(){(0,I.default)(this,h)}return(0,y.default)(h,null,[{key:"getUserAgent",value:function(){return this.userAgent()}},{key:"userAgentContainsString",value:function(w){return this.getUserAgent().indexOf(w)>-1}},{key:"isChrome",value:function(){return this.userAgentContainsString(D.BrowserVendor.CHROME)&&!this.userAgentContainsString(D.BrowserVendor.EDGE)&&!this.userAgentContainsString(D.BrowserVendor.EDGE_CHROMIUM)}},{key:"isIe",value:function(){return this.userAgentContainsString("Trident")}},{key:"isEdge",value:function(){return this.userAgentContainsString(D.BrowserVendor.EDGE)||this.userAgentContainsString(D.BrowserVendor.EDGE_CHROMIUM)}},{key:"isOpera",value:function(){return this.userAgentContainsString("OPR/")}},{key:"getBrowserName",value:function(){return this.isOpera()?D.BrowserVendor.OPERA:this.isEdge()?D.BrowserVendor.EDGE:this.isChrome()?D.BrowserVendor.CHROME:this.userAgentContainsString(D.BrowserVendor.FIREFOX)?D.BrowserVendor.FIREFOX:this.userAgentContainsString(D.BrowserVendor.SAFARI)?D.BrowserVendor.SAFARI:this.isIe()?D.BrowserVendor.IE:D.BrowserVendor.UNKNOWN}},{key:"getBrowserVersion",value:function(){var w=this;return this.isIe()?function(){var T=w.getUserAgent(),P=T.match(new RegExp(D.BrowserVendor.IE+" "+m));if(P)return P[1];var O=T.match(new RegExp("rv:"+m));return O?O[1]:void 0}():function(T){T===D.BrowserVendor.SAFARI&&(T="Version"),T===D.BrowserVendor.OPERA&&(T="OPR"),T===D.BrowserVendor.EDGE&&(T="Edge?");var P=w.getUserAgent().match(new RegExp(T+"/"+m));return P?P[1]:"U"}(this.getBrowserName())}}]),h}();g.BrowserInfo=v,(0,_.default)(v,"userAgent",function(){return window.navigator.userAgent})},6812:($,g,c)=>{"use strict";var u=c(1948);Object.defineProperty(g,"__esModule",{value:!0}),g.DeviceInfo=void 0;var I=u(c(5725)),y=u(c(3560)),_=c(2e3);g.DeviceInfo=function(){function m(){(0,I.default)(this,m)}return(0,y.default)(m,null,[{key:"getDeviceType",value:function(){return window.navigator.userAgent.match(/(android|ipod|windows phone|wpdesktop|windows ce|blackberry\w*|meego|webos|palm|symbian|pda|\w*?mobile\w*?|\w*?phone\w*?)/i)?_.DeviceType.Mobile:window.navigator.userAgent.match(/tablet|ipad/i)?_.DeviceType.Tablet:_.DeviceType.Desktop}}]),m}()},682:($,g,c)=>{"use strict";var u=c(1948);Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var I=u(c(5725)),y=u(c(3560));g.default=function(){function D(){(0,I.default)(this,D)}return(0,y.default)(D,null,[{key:"raiseCustomEvent",value:function(C,v){var h=D.createCustomEvent(C,v);window.dispatchEvent(h)}},{key:"createCustomEvent",value:function(C,v){var h=v?{detail:v}:void 0,f=null;try{f=new CustomEvent(C,h)}catch(w){(f=document.createEvent("CustomEvent")).initCustomEvent(C,!0,!0,h)}return f}}]),D}()},7169:($,g,c)=>{"use strict";var u=c(1948);Object.defineProperty(g,"__esModule",{value:!0}),g.OSInfo=void 0;var I=u(c(5725)),y=u(c(3560)),_=c(2e3);g.OSInfo=function(){function m(){(0,I.default)(this,m)}return(0,y.default)(m,null,[{key:"getOsType",value:function(){var T=function(){return window.navigator.userAgent};return T().match(/windows\sphone\s\d+\.\d+/i)?_.OperatingSystem.WINDOWS_PHONE:T().match(/ arm;/i)?_.OperatingSystem.WINDOWS_RT:T().match(/(iPad|iPhone|iPod)(?=.*like Mac OS X)/i)?_.OperatingSystem.IOS:T().match(/android/i)?_.OperatingSystem.ANDROID:T().match(/(linux|joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|cros)/i)?_.OperatingSystem.LINUX:T().match(/(macintosh|mac os x)/i)?_.OperatingSystem.MACOSX:T().match(/(windows|win32)/i)?_.OperatingSystem.WINDOWS:_.OperatingSystem.UNKNOWN}}]),m}()},7276:($,g,c)=>{"use strict";var u=c(1948);Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var I=u(c(5725)),y=u(c(3560));g.default=function(){function D(){(0,I.default)(this,D)}return(0,y.default)(D,null,[{key:"GETTELEMETRYEVENTDATA",value:function(C,v,h){return{Description:h,ElapsedTimeInMilliseconds:v.ElapsedTimeInMilliseconds,Event:C,ExceptionDetails:v.ExceptionDetails,Region:v.Region,RequestId:v.RequestId,TransactionId:v.TransactionId}}}]),D}()},3945:($,g,c)=>{"use strict";var u=c(1948);Object.defineProperty(g,"__esModule",{value:!0}),g.Timer=void 0;var I=u(c(5725)),y=u(c(3560));g.Timer=function(){function D(){(0,I.default)(this,D)}return(0,y.default)(D,null,[{key:"TIMER",value:function(){var C=(new Date).getTime();return{get milliSecondsElapsed(){return(new Date).getTime()-C}}}}]),D}()},1729:($,g)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0,g.default=function(y,_){var D=_.retries,m=0;y.interceptors.response.use(void 0,function(f){var w=f.config;return w&&m<D?(m++,new Promise(function(b){return b(y(w))})):Promise.reject(f)})}},8566:($,g)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.uuidv4=void 0,g.uuidv4=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(I){var y=16*Math.random()|0;return("x"===I?y:3&y|8).toString(16)})}},3762:($,g,c)=>{"use strict";var u=c(1948);Object.defineProperty(g,"__esModule",{value:!0}),Object.defineProperty(g,"SDKProvider",{enumerable:!0,get:function(){return _.default}}),Object.defineProperty(g,"uuidv4",{enumerable:!0,get:function(){return m.uuidv4}});var I=u(c(4321)),y=u(c(3096)),_=u(c(4491)),D=u(c(682)),m=c(8566);!function(){if(void 0===global.window&&(global.window=global),void 0===("undefined"==typeof window?"undefined":(0,I.default)(window)))throw new Error("window object not found");"Microsoft"in window||(window.Microsoft={}),"CRM"in window.Microsoft||(window.Microsoft.CRM={}),"Omnichannel"in window.Microsoft.CRM||(window.Microsoft.CRM.Omnichannel={}),"SDK"in window.Microsoft.CRM.Omnichannel||(window.Microsoft.CRM.Omnichannel.SDK={SDKProvider:_.default,Util:{uuidv4:m.uuidv4}}),window.document&&D.default.raiseCustomEvent(y.default.OCSDKLOAD)}()},7626:function($,g,c){"use strict";var u=this&&this.__assign||function(){return(u=Object.assign||function(Z){for(var x,k=1,j=arguments.length;k<j;k++)for(var M in x=arguments[k])Object.prototype.hasOwnProperty.call(x,M)&&(Z[M]=x[M]);return Z}).apply(this,arguments)},I=this&&this.__awaiter||function(Z,x,k,j){return new(k||(k=Promise))(function(R,H){function X(ne){try{J(j.next(ne))}catch(se){H(se)}}function re(ne){try{J(j.throw(ne))}catch(se){H(se)}}function J(ne){ne.done?R(ne.value):function(R){return R instanceof k?R:new k(function(H){H(R)})}(ne.value).then(X,re)}J((j=j.apply(Z,x||[])).next())})},y=this&&this.__generator||function(Z,x){var j,M,R,H,k={label:0,sent:function(){if(1&R[0])throw R[1];return R[1]},trys:[],ops:[]};return H={next:X(0),throw:X(1),return:X(2)},"function"==typeof Symbol&&(H[Symbol.iterator]=function(){return this}),H;function X(J){return function(ne){return function(J){if(j)throw new TypeError("Generator is already executing.");for(;k;)try{if(j=1,M&&(R=2&J[0]?M.return:J[0]?M.throw||((R=M.return)&&R.call(M),0):M.next)&&!(R=R.call(M,J[1])).done)return R;switch(M=0,R&&(J=[2&J[0],R.value]),J[0]){case 0:case 1:R=J;break;case 4:return k.label++,{value:J[1],done:!1};case 5:k.label++,M=J[1],J=[0];continue;case 7:J=k.ops.pop(),k.trys.pop();continue;default:if(!(R=(R=k.trys).length>0&&R[R.length-1])&&(6===J[0]||2===J[0])){k=0;continue}if(3===J[0]&&(!R||J[1]>R[0]&&J[1]<R[3])){k.label=J[1];break}if(6===J[0]&&k.label<R[1]){k.label=R[1],R=J;break}if(R&&k.label<R[2]){k.label=R[2],k.ops.push(J);break}R[2]&&k.ops.pop(),k.trys.pop();continue}J=x.call(Z,k)}catch(ne){J=[6,ne],M=0}finally{j=R=0}if(5&J[0])throw J[1];return{value:J[0]?J[1]:void 0,done:!0}}([J,ne])}}},_=this&&this.__spreadArrays||function(){for(var Z=0,x=0,k=arguments.length;x<k;x++)Z+=arguments[x].length;var j=Array(Z),M=0;for(x=0;x<k;x++)for(var R=arguments[x],H=0,X=R.length;H<X;H++,M++)j[M]=R[H];return j};Object.defineProperty(g,"__esModule",{value:!0});var D=c(6419),m=c(6397),C=c(7925),v=c(2811),h=c(838),f=c(6633),w=c(2626),S=c(2900),b=c(4694),p=c(2217),T=c(9425),P=c(1775),O=c(5642),L=c(6345),W=c(448),B=c(3372),F=c(4352),V=c(8098),K=c(5655),q=c(1247),G=c(3762),ae=c(6194),z=c(9600),ee=c(7616),ie=c(641),ue=function(){function Z(x,k){var j,M,R,H,X;void 0===k&&(k=ie.defaultChatSDKConfig),this.authSettings=null,this.authenticatedUserToken=null,this.conversation=null,this.callingOption=D.default.NoCalling,this.telemetry=null,this.ic3ClientLogger=null,this.ocSdkLogger=null,this.isPersistentChat=!1,this.isChatReconnect=!1,this.reconnectId=null,this.refreshTokenTimer=null,this.debug=!1,this.omnichannelConfig=x,this.chatSDKConfig=u(u({},ie.defaultChatSDKConfig),k),this.isInitialized=!1,this.requestId=G.uuidv4(),this.chatToken={},this.liveChatConfig={},this.dataMaskingRules={},this.authSettings=null,this.preChatSurvey=null,this.telemetry=h.default(this.debug),this.scenarioMarker=new q.default(this.omnichannelConfig),this.ic3ClientLogger=v.createIC3ClientLogger(this.omnichannelConfig),this.ocSdkLogger=v.createOCSDKLogger(this.omnichannelConfig),this.scenarioMarker.useTelemetry(this.telemetry),this.ic3ClientLogger.useTelemetry(this.telemetry),this.ocSdkLogger.useTelemetry(this.telemetry),ee.default(x),ie.default(k),(null===(j=this.chatSDKConfig.telemetry)||void 0===j?void 0:j.disable)&&(null===(M=this.telemetry)||void 0===M||M.disable()),(null===(R=this.chatSDKConfig.telemetry)||void 0===R?void 0:R.ariaTelemetryKey)&&this.telemetry.initialize(this.chatSDKConfig.telemetry.ariaTelemetryKey),null===(H=this.ic3ClientLogger)||void 0===H||H.setRequestId(this.requestId),null===(X=this.ocSdkLogger)||void 0===X||X.setRequestId(this.requestId)}return Z.prototype.setDebug=function(x){var k,j,M;this.debug=x,null===(k=this.telemetry)||void 0===k||k.setDebug(x),this.scenarioMarker.setDebug(x),null===(j=this.ic3ClientLogger)||void 0===j||j.setDebug(x),null===(M=this.ocSdkLogger)||void 0===M||M.setDebug(x)},Z.prototype.initialize=function(){return I(this,void 0,void 0,function(){var x,k;return y(this,function(M){switch(M.label){case 0:if(this.scenarioMarker.startScenario(z.default.InitializeChatSDK),this.isInitialized)return this.scenarioMarker.completeScenario(z.default.InitializeChatSDK),[2,this.liveChatConfig];M.label=1;case 1:return M.trys.push([1,5,,6]),this.OCSDKProvider=G.SDKProvider,[4,G.SDKProvider.getSDK(this.omnichannelConfig,{},this.ocSdkLogger)];case 2:return x=M.sent(),[4,this.getIC3Client()];case 3:return k=M.sent(),this.OCClient=x,this.IC3Client=k,[4,this.getChatConfig()];case 4:return M.sent(),this.isInitialized=!0,this.scenarioMarker.completeScenario(z.default.InitializeChatSDK),[3,6];case 5:return M.sent(),this.scenarioMarker.failScenario(z.default.InitializeChatSDK),[3,6];case 6:return[2,this.liveChatConfig]}})})},Z.prototype.getChatReconnectContext=function(x){return void 0===x&&(x={}),I(this,void 0,void 0,function(){var k,M,R,X,re,H;return y(this,function(J){switch(J.label){case 0:if(this.scenarioMarker.startScenario(z.default.GetChatReconnectContext,{RequestId:this.requestId,ChatId:this.chatToken.chatId}),k={reconnectId:null,redirectURL:null},!this.authenticatedUserToken)return[3,5];J.label=1;case 1:return J.trys.push([1,3,,4]),[4,this.OCClient.getReconnectableChats({authenticatedUserToken:this.authenticatedUserToken})];case 2:return(M=J.sent())&&M.reconnectid&&(k.reconnectId=M.reconnectid),this.scenarioMarker.completeScenario(z.default.GetChatReconnectContext,{RequestId:this.requestId,ChatId:this.chatToken.chatId}),[3,4];case 3:return R=J.sent(),H={response:"OCClientGetReconnectableChatsFailed"},this.scenarioMarker.failScenario(z.default.GetChatReconnectContext,{RequestId:this.requestId,ChatId:this.chatToken.chatId,ExceptionDetails:JSON.stringify(H)}),console.error("OmnichannelChatSDK/GetChatReconnectContext/error "+R),[3,4];case 4:return[3,9];case 5:if(!x.reconnectId)return[3,9];J.label=6;case 6:return J.trys.push([6,8,,9]),[4,this.OCClient.getReconnectAvailability(x.reconnectId)];case 7:return(X=J.sent())&&!X.isReconnectAvailable?X.reconnectRedirectionURL&&(k.redirectURL=X.reconnectRedirectionURL):k.reconnectId=x.reconnectId,this.scenarioMarker.completeScenario(z.default.GetChatReconnectContext,{RequestId:this.requestId,ChatId:this.chatToken.chatId}),[3,9];case 8:return re=J.sent(),H={response:"OCClientGetReconnectAvailabilityFailed"},this.scenarioMarker.failScenario(z.default.GetChatReconnectContext,{RequestId:this.requestId,ChatId:this.chatToken.chatId,ExceptionDetails:JSON.stringify(H)}),console.error("OmnichannelChatSDK/GetChatReconnectContext/error "+re),[3,9];case 9:return[2,k]}})})},Z.prototype.startChat=function(x){var k,j,M,R,H,X,re,J;return void 0===x&&(x={}),I(this,void 0,void 0,function(){var se,pe,he,Re,ve,Ce,_e,ce,Ge=this;return y(this,function(Ie){switch(Ie.label){case 0:if(this.scenarioMarker.startScenario(z.default.StartChat,{RequestId:this.requestId}),this.isChatReconnect&&!(null===(k=this.chatSDKConfig.chatReconnect)||void 0===k?void 0:k.disable)&&!this.isPersistentChat&&x.reconnectId&&(this.reconnectId=x.reconnectId),!this.isPersistentChat||(null===(j=this.chatSDKConfig.persistentChat)||void 0===j?void 0:j.disable))return[3,4];Ie.label=1;case 1:return Ie.trys.push([1,3,,4]),[4,this.OCClient.getReconnectableChats({authenticatedUserToken:this.authenticatedUserToken})];case 2:return(se=Ie.sent())&&se.reconnectid&&(this.reconnectId=se.reconnectid),[3,4];case 3:throw Ie.sent(),ce={response:"OCClientGetReconnectableChatsFailed"},Error(ce.response);case 4:return!x.liveChatContext||this.isPersistentChat||this.isChatReconnect?[3,6]:(this.chatToken=x.liveChatContext.chatToken||{},this.requestId=x.liveChatContext.requestId||G.uuidv4(),[4,this.getConversationDetails()]);case 5:if(pe=Ie.sent(),0===Object.keys(pe).length)throw ce={response:"InvalidConversation"},this.scenarioMarker.failScenario(z.default.StartChat,{RequestId:this.requestId,ChatId:this.chatToken.chatId,ExceptionDetails:JSON.stringify(ce)}),console.error("Conversation not found"),Error(ce.response);if(pe.state===O.default.WrapUp||pe.state===O.default.Closed)throw ce={response:"ClosedConversation"},this.scenarioMarker.failScenario(z.default.StartChat,{RequestId:this.requestId,ChatId:this.chatToken.chatId,ExceptionDetails:JSON.stringify(ce)}),console.error("Unable to join conversation that's in '"+pe.state+"' state"),Error(ce.response);Ie.label=6;case 6:return this.chatToken&&0===Object.keys(this.chatToken).length?[4,this.getChatToken(!1)]:[3,8];case 7:Ie.sent(),Ie.label=8;case 8:null===(M=this.ic3ClientLogger)||void 0===M||M.setChatId(this.chatToken.chatId||""),null===(R=this.ocSdkLogger)||void 0===R||R.setChatId(this.chatToken.chatId||""),he={initContext:{}},this.isPersistentChat&&!(null===(H=this.chatSDKConfig.persistentChat)||void 0===H?void 0:H.disable)&&(he.reconnectId=this.reconnectId),this.isChatReconnect&&!(null===(X=this.chatSDKConfig.chatReconnect)||void 0===X?void 0:X.disable)&&!this.isPersistentChat&&(he.reconnectId=this.reconnectId),x.customContext&&(he.initContext.customContextData=x.customContext),x.browser&&(he.initContext.browser=x.browser),x.os&&(he.initContext.os=x.os),x.locale&&(he.initContext.locale=x.locale),x.device&&(he.initContext.device=x.device),x.preChatResponse&&(he.initContext.preChatResponse=x.preChatResponse),x.initContext&&(he.initContext=x.initContext),this.authenticatedUserToken&&(he.authenticatedUserToken=this.authenticatedUserToken),Ie.label=9;case 9:return Ie.trys.push([9,11,,12]),[4,this.OCClient.sessionInit(this.requestId,he)];case 10:return Ie.sent(),[3,12];case 11:return Re=Ie.sent(),ce={response:"OCClientSessionInitFailed"},this.scenarioMarker.failScenario(z.default.StartChat,{RequestId:this.requestId,ChatId:this.chatToken.chatId,ExceptionDetails:JSON.stringify(ce)}),console.error("OmnichannelChatSDK/startChat/sessionInit/error "+Re),[2,Re];case 12:return Ie.trys.push([12,14,,15]),[4,this.IC3Client.initialize({token:this.chatToken.token,regionGtms:this.chatToken.regionGTMS,visitor:!0})];case 13:return Ie.sent(),[3,15];case 14:return ve=Ie.sent(),ce={response:"IC3ClientInitializeFailed"},this.scenarioMarker.failScenario(z.default.StartChat,{RequestId:this.requestId,ChatId:this.chatToken.chatId,ExceptionDetails:JSON.stringify(ce)}),console.error("OmnichannelChatSDK/startChat/initialize/error "+ve),[2,ve];case 15:return Ie.trys.push([15,17,,18]),Ce=this,[4,this.IC3Client.joinConversation(this.chatToken.chatId)];case 16:return Ce.conversation=Ie.sent(),this.scenarioMarker.completeScenario(z.default.StartChat,{RequestId:this.requestId,ChatId:this.chatToken.chatId}),[3,18];case 17:return _e=Ie.sent(),ce={response:"IC3ClientJoinConversationFailed"},this.scenarioMarker.failScenario(z.default.StartChat,{RequestId:this.requestId,ChatId:this.chatToken.chatId,ExceptionDetails:JSON.stringify(ce)}),console.error("OmnichannelChatSDK/startChat/joinConversation/error "+_e),[2,_e];case 18:return this.isPersistentChat&&!(null===(re=this.chatSDKConfig.persistentChat)||void 0===re?void 0:re.disable)&&(this.refreshTokenTimer=setInterval(function(){return I(Ge,void 0,void 0,function(){return y(this,function(xe){switch(xe.label){case 0:return[4,this.getChatToken(!1)];case 1:return xe.sent(),this.updateChatToken(this.chatToken.token,this.chatToken.regionGTMS),[2]}})})},null===(J=this.chatSDKConfig.persistentChat)||void 0===J?void 0:J.tokenUpdateTime)),[2]}})})},Z.prototype.endChat=function(){var x,k,j,M,R,H;return I(this,void 0,void 0,function(){var X,re,ne;return y(this,function(le){switch(le.label){case 0:this.scenarioMarker.startScenario(z.default.EndChat,{RequestId:this.requestId,ChatId:this.chatToken.chatId}),X={},this.isPersistentChat&&!(null===(x=this.chatSDKConfig.persistentChat)||void 0===x?void 0:x.disable)&&(re=null!==this.reconnectId,X.isPersistentChat=this.isPersistentChat,X.isReconnectChat=re),this.isChatReconnect&&!(null===(k=this.chatSDKConfig.chatReconnect)||void 0===k?void 0:k.disable)&&!this.isPersistentChat&&(X.isReconnectChat=null!==this.reconnectId),this.authenticatedUserToken&&(X.authenticatedUserToken=this.authenticatedUserToken),le.label=1;case 1:return le.trys.push([1,3,,4]),[4,this.OCClient.sessionClose(this.requestId,X)];case 2:return le.sent(),this.scenarioMarker.completeScenario(z.default.EndChat,{RequestId:this.requestId,ChatId:this.chatToken.chatId}),this.conversation.disconnect(),this.conversation=null,this.requestId=G.uuidv4(),this.chatToken={},this.reconnectId=null,null===(j=this.ic3ClientLogger)||void 0===j||j.setRequestId(this.requestId),null===(M=this.ic3ClientLogger)||void 0===M||M.setChatId(""),null===(R=this.ocSdkLogger)||void 0===R||R.setRequestId(this.requestId),null===(H=this.ocSdkLogger)||void 0===H||H.setChatId(""),[3,4];case 3:return ne=le.sent(),this.scenarioMarker.failScenario(z.default.EndChat,{RequestId:this.requestId,ChatId:this.chatToken.chatId,ExceptionDetails:JSON.stringify({response:"OCClientSessionCloseFailed"})}),console.error("OmnichannelChatSDK/endChat/error "+ne),[2,ne];case 4:return null!==this.refreshTokenTimer&&(clearInterval(this.refreshTokenTimer),this.refreshTokenTimer=null),[2]}})})},Z.prototype.getCurrentLiveChatContext=function(){return I(this,void 0,void 0,function(){var x,j;return y(this,function(M){switch(M.label){case 0:return[4,this.getChatToken()];case 1:return x=M.sent(),j={chatToken:x,requestId:this.requestId},0===Object.keys(j.chatToken).length?[2,{}]:[2,j]}})})},Z.prototype.getConversationDetails=function(){var x,k;return I(this,void 0,void 0,function(){var j,H,X,re;return y(this,function(J){switch(J.label){case 0:this.scenarioMarker.startScenario(z.default.GetConversationDetails,{RequestId:this.requestId,ChatId:(null===(x=this.chatToken)||void 0===x?void 0:x.chatId)||""}),J.label=1;case 1:return J.trys.push([1,3,,4]),[4,this.OCClient.getLWIDetails(this.requestId)];case 2:return j=J.sent(),X={state:j.State,conversationId:j.ConversationId},(H=j.AgentAcceptedOn)&&(X.agentAcceptedOn=H),this.scenarioMarker.completeScenario(z.default.GetConversationDetails,{RequestId:this.requestId,ChatId:(null===(k=this.chatToken)||void 0===k?void 0:k.chatId)||""}),[2,X];case 3:return re=J.sent(),this.scenarioMarker.failScenario(z.default.GetConversationDetails,{RequestId:this.requestId,ChatId:this.chatToken.chatId||""}),console.error("OmnichannelChatSDK/getConversationDetails/error "+re),[3,4];case 4:return[2,{}]}})})},Z.prototype.getPreChatSurvey=function(x){return void 0===x&&(x=!0),I(this,void 0,void 0,function(){return y(this,function(k){return[2,x?JSON.parse(this.preChatSurvey):this.preChatSurvey]})})},Z.prototype.getLiveChatConfig=function(x){return void 0===x&&(x=!0),I(this,void 0,void 0,function(){return y(this,function(k){return x?[2,this.liveChatConfig]:[2,this.getChatConfig()]})})},Z.prototype.getChatToken=function(x){var k,j;return void 0===x&&(x=!0),I(this,void 0,void 0,function(){var M,R,X,J,ne,se,le;return y(this,function(pe){switch(pe.label){case 0:if(this.scenarioMarker.startScenario(z.default.GetChatToken,{RequestId:this.requestId}),x)return[3,5];pe.label=1;case 1:return pe.trys.push([1,3,,4]),M={},this.authenticatedUserToken&&(M.authenticatedUserToken=this.authenticatedUserToken),this.isPersistentChat&&!(null===(k=this.chatSDKConfig.persistentChat)||void 0===k?void 0:k.disable)&&(M.reconnectId=this.reconnectId),this.isChatReconnect&&!(null===(j=this.chatSDKConfig.chatReconnect)||void 0===j?void 0:j.disable)&&!this.isPersistentChat&&(M.reconnectId=this.reconnectId),[4,this.OCClient.getChatToken(this.requestId,M)];case 2:return R=pe.sent(),X=R.Token,J=R.ExpiresIn,ne=R.VisitorId,se=R.VoiceVideoCallToken,this.chatToken={chatId:R.ChatId,regionGTMS:JSON.parse(R.RegionGtms),requestId:this.requestId,token:X,expiresIn:J,visitorId:ne,voiceVideoCallToken:se},this.scenarioMarker.completeScenario(z.default.GetChatToken,{RequestId:this.requestId,ChatId:this.chatToken.chatId}),[3,4];case 3:return le=pe.sent(),this.scenarioMarker.failScenario(z.default.GetChatToken,{RequestId:this.requestId,ChatId:this.chatToken.chatId,ExceptionDetails:JSON.stringify({response:"OCClientGetChatTokenFailed"})}),console.error("OmnichannelChatSDK/getChatToken/error "+le),[3,4];case 4:return[3,6];case 5:this.scenarioMarker.completeScenario(z.default.GetChatToken,{RequestId:this.requestId,ChatId:this.chatToken.chatId}),pe.label=6;case 6:return[2,this.chatToken]}})})},Z.prototype.getCallingToken=function(){return I(this,void 0,void 0,function(){return y(this,function(x){return this.chatToken&&0===Object.keys(this.chatToken).length?[2,""]:this.chatToken.voiceVideoCallToken?(console.log("calling:acs"),[2,this.chatToken.voiceVideoCallToken.Token]):(console.log("calling:skype"),[2,this.chatToken.token])})})},Z.prototype.getMessages=function(){var x;return I(this,void 0,void 0,function(){return y(this,function(k){return[2,null===(x=this.conversation)||void 0===x?void 0:x.getMessages()]})})},Z.prototype.getDataMaskingRules=function(){return I(this,void 0,void 0,function(){return y(this,function(x){return[2,this.dataMaskingRules]})})},Z.prototype.sendMessage=function(x){return I(this,void 0,void 0,function(){var k,j,M,R,H,X,J,ne,se,le;return y(this,function(ce){if(j=(k=this.chatSDKConfig.dataMasking).disable,M=k.maskingCharacter,R=x.content,Object.keys(this.dataMaskingRules).length>0&&!j)for(H=0,X=Object.values(this.dataMaskingRules);H<X.length;H++)for(J=new RegExp(X[H],"g"),ne=void 0;ne=J.exec(R);)se=ne[0].replace(/./g,M),R=R.replace(ne[0],se);return x.content=R,le={content:x.content,timestamp:new Date,contentType:W.default.Text,deliveryMode:S.default.Bridged,messageType:B.default.UserMessage,properties:void 0,tags:_(w.defaultMessageTags),sender:{displayName:"Customer",id:"customer",type:F.default.User}},x.tags&&(le.tags=x.tags),x.timestamp&&(le.timestamp=x.timestamp),[2,this.conversation.sendMessage(le)]})})},Z.prototype.onNewMessage=function(x,k){var j;return void 0===k&&(k={}),I(this,void 0,void 0,function(){var M,R,H,X,re,J;return y(this,function(ne){switch(ne.label){case 0:return M=new Set,k.rehydrate?(this.debug&&console.log("[OmnichannelChatSDK][onNewMessage] rehydrate"),[4,this.getMessages()]):[3,2];case 1:if(R=ne.sent())for(H=0,X=R.reverse();H<X.length;H++)!M.has(J=(re=X[H]).clientmessageid)&&(M.add(J),x(re));ne.label=2;case 2:return null===(j=this.conversation)||void 0===j||j.registerOnNewMessage(function(se){var le=se.clientmessageid,ce=se.messageType;T.isCustomerMessage(se)||M.has(le)||ce!==B.default.Typing&&x(se)}),[2]}})})},Z.prototype.sendTypingEvent=function(){return I(this,void 0,void 0,function(){var x,k,j,M;return y(this,function(R){switch(R.label){case 0:x="{isTyping: 0}",this.scenarioMarker.startScenario(z.default.SendTypingEvent,{RequestId:this.requestId,ChatId:this.chatToken.chatId}),R.label=1;case 1:return R.trys.push([1,5,,6]),[4,this.conversation.indicateTypingStatus(0)];case 2:return R.sent(),[4,this.conversation.getMembers()];case 3:return k=R.sent(),j=k.filter(function(H){return H.type===F.default.Bot}),[4,this.conversation.sendMessageToBot(j[0].id,{payload:x})];case 4:return R.sent(),this.scenarioMarker.completeScenario(z.default.SendTypingEvent,{RequestId:this.requestId,ChatId:this.chatToken.chatId}),[3,6];case 5:return M=R.sent(),console.error("OmnichannelChatSDK/sendTypingEvent/error"),this.scenarioMarker.failScenario(z.default.SendTypingEvent,{RequestId:this.requestId,ChatId:this.chatToken.chatId}),[2,M];case 6:return[2]}})})},Z.prototype.onTypingEvent=function(x){var k;return I(this,void 0,void 0,function(){return y(this,function(j){return null===(k=this.conversation)||void 0===k||k.registerOnNewMessage(function(M){var R=M.messageType;T.isCustomerMessage(M)||R===B.default.Typing&&x(M)}),[2]})})},Z.prototype.onAgentEndSession=function(x){var k;return I(this,void 0,void 0,function(){var j=this;return y(this,function(M){this.scenarioMarker.startScenario(z.default.OnAgentEndSession,{RequestId:this.requestId,ChatId:this.chatToken.chatId});try{null===(k=this.conversation)||void 0===k||k.registerOnThreadUpdate(function(R){1===R.members.length&&(x(R),null!==j.refreshTokenTimer&&(clearInterval(j.refreshTokenTimer),j.refreshTokenTimer=null))}),this.scenarioMarker.completeScenario(z.default.OnAgentEndSession,{RequestId:this.requestId,ChatId:this.chatToken.chatId})}catch(R){this.scenarioMarker.failScenario(z.default.OnAgentEndSession,{RequestId:this.requestId,ChatId:this.chatToken.chatId})}return[2]})})},Z.prototype.uploadFileAttachment=function(x){return I(this,void 0,void 0,function(){var k,j,M;return y(this,function(R){switch(R.label){case 0:return this.scenarioMarker.startScenario(z.default.UploadFileAttachment,{RequestId:this.requestId,ChatId:this.chatToken.chatId}),V.default.isReactNative()||V.default.isNode()?[4,this.conversation.sendFileData(x,b.default.AmsBasedFileSharing)]:[3,2];case 1:return k=R.sent(),[3,4];case 2:return[4,this.conversation.uploadFile(x,b.default.AmsBasedFileSharing)];case 3:k=R.sent(),R.label=4;case 4:j={content:"",timestamp:new Date,contentType:W.default.Text,deliveryMode:S.default.Bridged,messageType:B.default.UserMessage,tags:_(w.defaultMessageTags),sender:{displayName:"Customer",id:"customer",type:F.default.User},fileMetadata:k},R.label=5;case 5:return R.trys.push([5,7,,8]),[4,this.conversation.sendFileMessage(k,j)];case 6:return R.sent(),this.scenarioMarker.completeScenario(z.default.UploadFileAttachment,{RequestId:this.requestId,ChatId:this.chatToken.chatId}),[2,j];case 7:return M=R.sent(),console.error("OmnichannelChatSDK/uploadFileAttachment/error: "+M),this.scenarioMarker.failScenario(z.default.UploadFileAttachment,{RequestId:this.requestId,ChatId:this.chatToken.chatId}),[2,M];case 8:return[2]}})})},Z.prototype.downloadFileAttachment=function(x){return I(this,void 0,void 0,function(){var k,j;return y(this,function(M){switch(M.label){case 0:this.scenarioMarker.startScenario(z.default.DownloadFileAttachment,{RequestId:this.requestId,ChatId:this.chatToken.chatId}),M.label=1;case 1:return M.trys.push([1,3,,4]),[4,this.conversation.downloadFile(x)];case 2:return k=M.sent(),this.scenarioMarker.completeScenario(z.default.DownloadFileAttachment,{RequestId:this.requestId,ChatId:this.chatToken.chatId}),[2,k];case 3:throw j=M.sent(),console.error("OmnichannelChatSDK/downloadFileAttachment/error: "+j),this.scenarioMarker.failScenario(z.default.DownloadFileAttachment,{RequestId:this.requestId,ChatId:this.chatToken.chatId}),new Error("DownloadFileAttachmentFailed");case 4:return[2]}})})},Z.prototype.emailLiveChatTranscript=function(x){return I(this,void 0,void 0,function(){var k,M;return y(this,function(R){k={},this.scenarioMarker.startScenario(z.default.EmailLiveChatTranscript,{RequestId:this.requestId,ChatId:this.chatToken.chatId});try{return this.authenticatedUserToken&&(k.authenticatedUserToken=this.authenticatedUserToken),M=this.OCClient.emailTranscript(this.requestId,this.chatToken.token,{ChatId:this.chatToken.chatId,EmailAddress:x.emailAddress,DefaultAttachmentMessage:x.attachmentMessage,CustomerLocale:x.locale},k),this.scenarioMarker.completeScenario(z.default.EmailLiveChatTranscript,{RequestId:this.requestId,ChatId:this.chatToken.chatId}),[2,M]}catch(H){console.error("OmnichannelChatSDK/emailLiveChatTranscript/error: "+H),this.scenarioMarker.failScenario(z.default.EmailLiveChatTranscript,{RequestId:this.requestId,ChatId:this.chatToken.chatId})}return[2]})})},Z.prototype.getLiveChatTranscript=function(){return I(this,void 0,void 0,function(){var x,k;return y(this,function(j){x={},this.scenarioMarker.startScenario(z.default.GetLiveChatTranscript,{RequestId:this.requestId,ChatId:this.chatToken.chatId});try{return this.authenticatedUserToken&&(x.authenticatedUserToken=this.authenticatedUserToken),k=this.OCClient.getChatTranscripts(this.requestId,this.chatToken.chatId,this.chatToken.token,x),this.scenarioMarker.completeScenario(z.default.GetLiveChatTranscript,{RequestId:this.requestId,ChatId:this.chatToken.chatId}),[2,k]}catch(M){this.scenarioMarker.failScenario(z.default.GetLiveChatTranscript,{RequestId:this.requestId,ChatId:this.chatToken.chatId})}return[2]})})},Z.prototype.createChatAdapter=function(x){return void 0===x&&(x=m.default.IC3),I(this,void 0,void 0,function(){var k=this;return y(this,function(j){return V.default.isNode()||V.default.isReactNative()?[2,Promise.reject("ChatAdapter is only supported on browser")]:x!==m.default.IC3?[2,Promise.reject("ChatAdapter for protocol "+x+" currently not supported")]:[2,new Promise(function(M,R){return I(k,void 0,void 0,function(){var H,re,X=this;return y(this,function(J){switch(J.label){case 0:return H=this.resolveChatAdapterUrl(x),null===(re=this.telemetry)||void 0===re||re.setCDNPackages({IC3Adapter:H}),this.scenarioMarker.startScenario(z.default.CreateIC3Adapter),[4,L.loadScript(H,function(){X.debug&&console.debug("IC3Adapter loaded!");var ne={chatToken:X.chatToken,userDisplayName:"Customer",userId:"teamsvisitor",sdkURL:X.resolveIC3ClientUrl(),sdk:X.IC3Client},se=new window.Microsoft.BotFramework.WebChat.IC3Adapter(ne);se.logger=X.ic3ClientLogger,window.Microsoft.BotFramework.WebChat.IC3SDKProvider.disposeSdk=function(){},X.scenarioMarker.completeScenario(z.default.CreateIC3Adapter),M(se)},function(){X.scenarioMarker.failScenario(z.default.CreateIC3Adapter),R("Failed to load IC3Adapter")})];case 1:return J.sent(),[2]}})})})]})})},Z.prototype.getVoiceVideoCalling=function(x){return void 0===x&&(x={}),I(this,void 0,void 0,function(){var k,M,R,H,X=this;return y(this,function(re){switch(re.label){case 0:return V.default.isNode()||V.default.isReactNative()?[2,Promise.reject("VoiceVideoCalling is only supported on browser")]:this.callingOption.toString()===D.default.NoCalling.toString()?[2,Promise.reject("Voice and video call is not enabled")]:[4,this.getChatConfig()];case 1:return k=re.sent(),M=k.LiveWSAndLiveChatEngJoin.msdyn_widgetsnippet,R=new RegExp('src="(https:\\/\\/[\\w-.]+)[\\w-.\\/]+"'),(H=M.match(R))&&H.length?[2,new Promise(function(J,ne){return I(X,void 0,void 0,function(){var se,le,pe,he,ce=this;return y(this,function(Re){switch(Re.label){case 0:return se=H[1]+"/livechatwidget/WebChatControl/lib/spool-sdk/sdk.bundle.js",null===(pe=this.telemetry)||void 0===pe||pe.setCDNPackages({SpoolSDK:se}),this.scenarioMarker.startScenario(z.default.GetVoiceVideoCalling),[4,L.loadScript(se,function(){ce.debug&&console.debug(se+" loaded!")},function(){ce.scenarioMarker.failScenario(z.default.GetVoiceVideoCalling,{ExceptionDetails:JSON.stringify({response:"SpoolSDKLoadFailed"})}),ne("Failed to load SpoolSDK")})];case 1:return Re.sent(),le=H[1]+"/livechatwidget/WebChatControl/lib/LiveChatWidgetLibs.min.js",null===(he=this.telemetry)||void 0===he||he.setCDNPackages({VoiceVideoCalling:le}),[4,L.loadScript(le,function(){return I(ce,void 0,void 0,function(){var ve;return y(this,function(Ce){switch(Ce.label){case 0:return this.debug&&console.debug(le+" loaded!"),[4,f.default(x)];case 1:return ve=Ce.sent(),this.scenarioMarker.completeScenario(z.default.GetVoiceVideoCalling),ve.useScenarioMarker(this.scenarioMarker),J(ve),[2]}})})},function(){return I(ce,void 0,void 0,function(){return y(this,function(Ce){return this.scenarioMarker.failScenario(z.default.GetVoiceVideoCalling,{ExceptionDetails:JSON.stringify({response:"VoiceVideoCallingLoadFailed"})}),ne("Failed to load VoiceVideoCalling"),[2]})})})];case 2:return Re.sent(),[2]}})})})]:[2]}})})},Z.prototype.getIC3Client=function(){return I(this,void 0,void 0,function(){var x,k=this;return y(this,function(j){switch(j.label){case 0:return V.default.isNode()||V.default.isReactNative()?(this.debug&&console.debug("IC3Core"),this.scenarioMarker.startScenario(z.default.GetIC3Client),this.IC3SDKProvider=ae.SDKProvider,[4,ae.SDKProvider.getSDK({hostType:p.default.Page,protocolType:K.default.IC3V1SDK})]):[3,2];case 1:return(x=j.sent()).setDebug(this.debug),this.scenarioMarker.completeScenario(z.default.GetIC3Client),[2,x];case 2:return this.debug&&console.debug("IC3Client"),[2,new Promise(function(M,R){return I(k,void 0,void 0,function(){var H,re,X=this;return y(this,function(J){switch(J.label){case 0:return H=this.resolveIC3ClientUrl(),null===(re=this.telemetry)||void 0===re||re.setCDNPackages({IC3Client:H}),this.scenarioMarker.startScenario(z.default.GetIC3Client),window.addEventListener("ic3:sdk:load",function(){return I(X,void 0,void 0,function(){var ne,se,le;return y(this,function(ce){switch(ce.label){case 0:return this.debug&&console.debug("ic3:sdk:load"),ne=window.Microsoft.CRM.Omnichannel.IC3Client.SDK,this.IC3SDKProvider=se=ne.SDKProvider,[4,se.getSDK({hostType:p.default.IFrame,protocolType:K.default.IC3V1SDK,logger:this.ic3ClientLogger})];case 1:return le=ce.sent(),this.scenarioMarker.completeScenario(z.default.GetIC3Client),M(le),[2]}})})}),[4,L.loadScript(H,function(){X.debug&&console.debug("IC3Client loaded!")},function(){X.scenarioMarker.failScenario(z.default.GetIC3Client,{ExceptionDetails:JSON.stringify({response:"IC3ClientLoadFailed"})}),R("Failed to load IC3Client")})];case 1:return J.sent(),[2]}})})})]}})})},Z.prototype.getChatConfig=function(){return I(this,void 0,void 0,function(){var x,k,j,M,H,X,re,J,ne,se,le,ce,pe;return y(this,function(he){switch(he.label){case 0:return he.trys.push([0,5,,6]),[4,this.OCClient.getChatConfig()];case 1:return x=he.sent(),j=x.LiveChatConfigAuthSettings,M=x.LiveWSAndLiveChatEngJoin,(k=x.DataMaskingInfo).setting.msdyn_maskforcustomer&&(this.dataMaskingRules=k.dataMaskingRules),j&&(this.authSettings=j),H=M.PreChatSurvey,re=M.msdyn_callingoptions,se=!0===(X=M.msdyn_prechatenabled)||"true"==X,le=!0===(ne=M.msdyn_enablechatreconnect)||"true"==ne,(null==(J=M.msdyn_conversationmode)?void 0:J.toString())===C.default.PersistentChat.toString()&&(this.isPersistentChat=!0),le&&!this.isPersistentChat&&(this.isChatReconnect=!0),se&&H&&H.trim().length>0&&(this.preChatSurvey=H),this.authSettings?this.chatSDKConfig.getAuthToken?(this.debug&&console.log("OmnichannelChatSDK/getChatConfig/auth settings with auth and getAuthToken!",this.authSettings,this.chatSDKConfig.getAuthToken),[4,this.chatSDKConfig.getAuthToken()]):[3,3]:[3,4];case 2:return(ce=he.sent())?this.authenticatedUserToken=ce:console.warn("OmnichannelChatSDK/getChatConfig/auth, chat requires auth, but getAuthToken() returned null"),[3,4];case 3:console.warn("OmnichannelChatSDK/getChatConfig/auth, chat requires auth, but getAuthToken() is missing"),he.label=4;case 4:return this.preChatSurvey&&this.debug&&console.log("Prechat Survey!"),this.callingOption=re,this.liveChatConfig=x,[2,this.liveChatConfig];case 5:return pe=he.sent(),console.error("OmnichannelChatSDK/getChatConfig/error "+pe),[2,pe];case 6:return[2]}})})},Z.prototype.resolveIC3ClientUrl=function(){return this.chatSDKConfig.ic3Config&&"ic3ClientCDNUrl"in this.chatSDKConfig.ic3Config?this.chatSDKConfig.ic3Config.ic3ClientCDNUrl:this.chatSDKConfig.ic3Config&&"ic3ClientVersion"in this.chatSDKConfig.ic3Config?P.default.getIC3ClientCDNUrl(this.chatSDKConfig.ic3Config.ic3ClientVersion):P.default.getIC3ClientCDNUrl()},Z.prototype.resolveChatAdapterUrl=function(x){if(x!==m.default.IC3)throw new Error("ChatAdapter for protocol "+x+" currently not supported");return this.chatSDKConfig.chatAdapterConfig&&"webChatIC3AdapterCDNUrl"in this.chatSDKConfig.chatAdapterConfig?this.chatSDKConfig.chatAdapterConfig.webChatIC3AdapterCDNUrl:this.chatSDKConfig.chatAdapterConfig&&"webChatIC3AdapterVersion"in this.chatSDKConfig.chatAdapterConfig?P.default.getIC3AdapterCDNUrl(this.chatSDKConfig.chatAdapterConfig.webChatIC3AdapterVersion):P.default.getIC3AdapterCDNUrl()},Z.prototype.updateChatToken=function(x,k){return I(this,void 0,void 0,function(){var M;return y(this,function(H){switch(H.label){case 0:this.scenarioMarker.startScenario(z.default.UpdateChatToken,{RequestId:this.requestId,ChatId:this.chatToken.chatId}),H.label=1;case 1:return H.trys.push([1,3,,4]),[4,this.IC3Client.initialize({token:x,regionGtms:k,visitor:!0})];case 2:return H.sent(),this.scenarioMarker.completeScenario(z.default.UpdateChatToken,{RequestId:this.requestId,ChatId:this.chatToken.chatId}),[3,4];case 3:return M=H.sent(),this.scenarioMarker.failScenario(z.default.UpdateChatToken,{RequestId:this.requestId,ChatId:this.chatToken.chatId,ExceptionDetails:JSON.stringify({response:"UpdateChatTokenFailed"})}),console.error("OmnichannelChatSDK/updateChatToken/error "+M),[3,4];case 4:return[2]}})})},Z}();g.default=ue},6633:function($,g,c){"use strict";var u=this&&this.__awaiter||function(v,h,f,w){return new(f||(f=Promise))(function(b,p){function T(L){try{O(w.next(L))}catch(W){p(W)}}function P(L){try{O(w.throw(L))}catch(W){p(W)}}function O(L){L.done?b(L.value):function(b){return b instanceof f?b:new f(function(p){p(b)})}(L.value).then(T,P)}O((w=w.apply(v,h||[])).next())})},I=this&&this.__generator||function(v,h){var w,S,b,p,f={label:0,sent:function(){if(1&b[0])throw b[1];return b[1]},trys:[],ops:[]};return p={next:T(0),throw:T(1),return:T(2)},"function"==typeof Symbol&&(p[Symbol.iterator]=function(){return this}),p;function T(O){return function(L){return function(O){if(w)throw new TypeError("Generator is already executing.");for(;f;)try{if(w=1,S&&(b=2&O[0]?S.return:O[0]?S.throw||((b=S.return)&&b.call(S),0):S.next)&&!(b=b.call(S,O[1])).done)return b;switch(S=0,b&&(O=[2&O[0],b.value]),O[0]){case 0:case 1:b=O;break;case 4:return f.label++,{value:O[1],done:!1};case 5:f.label++,S=O[1],O=[0];continue;case 7:O=f.ops.pop(),f.trys.pop();continue;default:if(!(b=(b=f.trys).length>0&&b[b.length-1])&&(6===O[0]||2===O[0])){f=0;continue}if(3===O[0]&&(!b||O[1]>b[0]&&O[1]<b[3])){f.label=O[1];break}if(6===O[0]&&f.label<b[1]){f.label=b[1],b=O;break}if(b&&f.label<b[2]){f.label=b[2],f.ops.push(O);break}b[2]&&f.ops.pop(),f.trys.pop();continue}O=h.call(v,f)}catch(L){O=[6,L],S=0}finally{w=b=0}if(5&O[0])throw O[1];return{value:O[0]?O[1]:void 0,done:!0}}([O,L])}}};Object.defineProperty(g,"__esModule",{value:!0}),g.VoiceVideoCallingProxy=void 0;var y=c(9600),_=(()=>{return(v=_||(_={}))[v.Voice=19237e4]="Voice",v[v.Video=19238e4]="Video",v[v.Cobrowse=19239e4]="Cobrowse",_;var v})(),D=(()=>{return(v=D||(D={})).Accept="accept",v.Reject="reject",v.Connect="connect",v.End="end",D;var v})(),m=function(){function v(){this.debug=!1,this.proxy=window.Microsoft.OmniChannel.SDK.VoiceVideoCalling,this.proxyInstance=this.proxy.getInstance()}return v.getInstance=function(){return this._instance||(this._instance=new v),this._instance},v.prototype.setDebug=function(h){this.debug=h},v.prototype.useScenarioMarker=function(h){this.scenarioMarker=h},v.prototype.load=function(h){return void 0===h&&(h={}),u(this,void 0,void 0,function(){return I(this,function(f){return h.logger&&(this.logger=h.logger),this.proxyInstance.load(h),[2]})})},v.prototype.isInitialized=function(){return this.proxyInstance.isInitialized()},v.prototype.initialize=function(h){var f,w,S,b,p,T,P,O,L;return u(this,void 0,void 0,function(){return I(this,function(B){switch(B.label){case 0:return this.debug&&console.debug("[VoiceVideoCallingProxy] VoiceVideoCallingParams: "+JSON.stringify(h)),this.callingParams=h,this.callId=null===(f=this.callingParams)||void 0===f?void 0:f.chatToken.chatId,null===(w=this.scenarioMarker)||void 0===w||w.startScenario(y.default.InitializeVoiceVideoCallingSDK,{CallId:this.callId||""}),this.debug&&console.debug("[VoiceVideoCallingProxy][initialize] _isLoaded: "+this.proxyInstance._isLoaded),this.proxyInstance._isLoaded?[3,2]:[4,this.proxyInstance.load(this.logger||{})];case 1:B.sent(),B.label=2;case 2:return B.trys.push([2,4,,5]),[4,this.proxyInstance.initialize({skypeid:null===(S=this.callingParams)||void 0===S?void 0:S.chatToken.visitorId,accesstoken:null===(b=this.callingParams)||void 0===b?void 0:b.chatToken.token,environment:(null===(p=this.callingParams)||void 0===p?void 0:p.environment)||"prod",selfVideoHTMLElementId:null===(T=this.callingParams)||void 0===T?void 0:T.selfVideoHTMLElementId,remoteVideoHTMLElementId:null===(P=this.callingParams)||void 0===P?void 0:P.remoteVideoHTMLElementId})];case 3:return B.sent(),null===(O=this.scenarioMarker)||void 0===O||O.completeScenario(y.default.InitializeVoiceVideoCallingSDK,{CallId:this.callId||""}),[3,5];case 4:return B.sent(),null===(L=this.scenarioMarker)||void 0===L||L.failScenario(y.default.InitializeVoiceVideoCallingSDK,{CallId:this.callId||""}),[3,5];case 5:return[2]}})})},v.prototype.addEventListener=function(h,f){var w=this;this.proxyInstance.registerEvent(h,function(S){var b,p=S.callId;w.debug&&console.debug("[VoiceVideoCallingProxy]["+h+"] callId: "+p),p===(null===(b=w.callingParams)||void 0===b?void 0:b.chatToken.chatId)&&f(S)})},v.prototype.isMicrophoneMuted=function(){return this.proxyInstance.isMicrophoneMuted({callId:this.callId})},v.prototype.acceptCall=function(h){var f,w,S,b,p,T;return void 0===h&&(h={}),u(this,void 0,void 0,function(){var P,W,L;return I(this,function(B){switch(B.label){case 0:P=this.callId,null===(f=this.scenarioMarker)||void 0===f||f.startScenario(h.withVideo?y.default.AcceptVideoCall:y.default.AcceptVoiceCall,{CallId:P||""}),this.debug&&console.debug("[VoiceVideoCallingProxy][acceptCall] callId: "+P),this.debug&&console.debug(h),B.label=1;case 1:return B.trys.push([1,3,,4]),[4,this.proxyInstance.acceptCall({callId:P,withVideo:h.withVideo||!1})];case 2:return B.sent(),[3,4];case 3:return B.sent(),L={response:h.withVideo?"AcceptVideoCallFailed":"AcceptVoiceCallFailed"},null===(w=this.scenarioMarker)||void 0===w||w.failScenario(h.withVideo?y.default.AcceptVideoCall:y.default.AcceptVoiceCall,{CallId:P||"",ExceptionDetails:JSON.stringify(L)}),[3,4];case 4:W={SecondaryChannelType:h.withVideo?_.Video:_.Voice,SecondaryChannelEventType:D.Accept};try{null===(S=this.callingParams)||void 0===S||S.OCClient.makeSecondaryChannelEventRequest(null===(b=this.callingParams)||void 0===b?void 0:b.chatToken.requestId,W),null===(p=this.scenarioMarker)||void 0===p||p.completeScenario(h.withVideo?y.default.AcceptVideoCall:y.default.AcceptVoiceCall,{CallId:P||""}),this.debug&&console.debug("[VoiceVideoCallingProxy][acceptCall][makeSecondaryChannelEventRequest]")}catch(F){L={response:"OCClientMakeSecondaryChannelEventRequestFailed"},null===(T=this.scenarioMarker)||void 0===T||T.failScenario(h.withVideo?y.default.AcceptVideoCall:y.default.AcceptVoiceCall,{CallId:P||"",ExceptionDetails:JSON.stringify(L)}),console.error("[VoiceVideoCallingProxy][acceptCall][makeSecondaryChannelEventRequest] Failure "+F)}return[2]}})})},v.prototype.rejectCall=function(){var h,f,w,S,b,p;return u(this,void 0,void 0,function(){var T,L,O;return I(this,function(W){switch(W.label){case 0:T=this.callId,null===(h=this.scenarioMarker)||void 0===h||h.startScenario(y.default.RejectCall,{CallId:T||""}),this.debug&&console.debug("[VoiceVideoCallingProxy][rejectCall] callId: "+T),W.label=1;case 1:return W.trys.push([1,3,,4]),[4,this.proxyInstance.rejectCall({callId:T})];case 2:return W.sent(),null===(f=this.scenarioMarker)||void 0===f||f.completeScenario(y.default.RejectCall,{CallId:T||""}),[3,4];case 3:return W.sent(),O={response:"RejectCallFailed"},null===(w=this.scenarioMarker)||void 0===w||w.failScenario(y.default.RejectCall,{CallId:T||"",ExceptionDetails:JSON.stringify(O)}),[3,4];case 4:L={SecondaryChannelType:this.isRemoteVideoEnabled()?_.Video:_.Voice,SecondaryChannelEventType:D.Reject};try{null===(S=this.callingParams)||void 0===S||S.OCClient.makeSecondaryChannelEventRequest(null===(b=this.callingParams)||void 0===b?void 0:b.chatToken.requestId,L),this.debug&&console.debug("[VoiceVideoCallingProxy][rejectCall][makeSecondaryChannelEventRequest]")}catch(B){return O={response:"OCClientMakeSecondaryChannelEventRequestFailed"},null===(p=this.scenarioMarker)||void 0===p||p.failScenario(y.default.RejectCall,{CallId:T||"",ExceptionDetails:JSON.stringify(O)}),console.error("[VoiceVideoCallingProxy][rejectCall][makeSecondaryChannelEventRequest] Failure "+B),[2,B]}return[2]}})})},v.prototype.stopCall=function(){var h,f,w;return u(this,void 0,void 0,function(){var S;return I(this,function(p){switch(p.label){case 0:S=this.callId,null===(h=this.scenarioMarker)||void 0===h||h.startScenario(y.default.StopCall,{CallId:S||""}),this.debug&&console.debug("[VoiceVideoCallingProxy][stopCall] callId: "+S),p.label=1;case 1:return p.trys.push([1,3,,4]),[4,this.proxyInstance.stopCall({callId:S})];case 2:return p.sent(),null===(f=this.scenarioMarker)||void 0===f||f.completeScenario(y.default.StopCall,{CallId:S||""}),[3,4];case 3:return p.sent(),null===(w=this.scenarioMarker)||void 0===w||w.failScenario(y.default.StopCall,{CallId:S||""}),[3,4];case 4:return[2]}})})},v.prototype.toggleMute=function(){return u(this,void 0,void 0,function(){return I(this,function(f){return[2,this.proxyInstance.toggleMute({callId:this.callId})]})})},v.prototype.isRemoteVideoEnabled=function(){return this.proxyInstance.isRemoteVideoEnabled({callId:this.callId})},v.prototype.isLocalVideoEnabled=function(){return this.proxyInstance.isLocalVideoEnabled({callId:this.callId})},v.prototype.toggleLocalVideo=function(){return u(this,void 0,void 0,function(){return I(this,function(f){return[2,this.proxyInstance.toggleLocalVideo({callId:this.callId})]})})},v.prototype.isInACall=function(){return this.proxyInstance.isInACall({callId:this.callId})},v.prototype.renderVideoStreams=function(){return this.proxyInstance.renderVideoStreams({callId:this.callId})},v.prototype.disposeVideoRenderers=function(){return this.proxyInstance.disposeVideoRenderers({callId:this.callId})},v.prototype.close=function(){this.debug&&console.debug("[VoiceVideoCallingProxy][close]"),this.proxyInstance.dispose(),this.callingParams=void 0,this.callId=void 0},v.prototype.onCallAdded=function(h){var f="callAdded";this.debug&&console.debug("[VoiceVideoCallingProxy]["+f+"]"),this.addEventListener(f,h)},v.prototype.onLocalVideoStreamAdded=function(h){var f="localVideoStreamAdded";this.debug&&console.debug("[VoiceVideoCallingProxy]["+f+"]"),this.addEventListener(f,h)},v.prototype.onLocalVideoStreamRemoved=function(h){var f="localVideoStreamRemoved";this.debug&&console.debug("[VoiceVideoCallingProxy]["+f+"]"),this.addEventListener(f,h)},v.prototype.onRemoteVideoStreamAdded=function(h){var f="remoteVideoStreamAdded";this.debug&&console.debug("[VoiceVideoCallingProxy]["+f+"]"),this.addEventListener(f,h)},v.prototype.onRemoteVideoStreamRemoved=function(h){var f="remoteVideoStreamRemoved";this.debug&&console.debug("[VoiceVideoCallingProxy]["+f+"]"),this.addEventListener(f,h)},v.prototype.onCallDisconnected=function(h){var f=this,w="callDisconnected";this.debug&&console.debug("[VoiceVideoCallingProxy]["+w+"]"),this.addEventListener(w,function(S){return u(f,void 0,void 0,function(){var b,p,T,P,O,L,W;return I(this,function(B){b={SecondaryChannelType:_.Voice,SecondaryChannelEventType:D.End},null===(T=this.scenarioMarker)||void 0===T||T.startScenario(y.default.OnCallDisconnected,{CallId:this.callId||""});try{null===(P=this.callingParams)||void 0===P||P.OCClient.makeSecondaryChannelEventRequest(null===(O=this.callingParams)||void 0===O?void 0:O.chatToken.requestId,b),this.debug&&console.debug("[VoiceVideoCallingProxy][onCallDisconnected][makeSecondaryChannelEventRequest]"),null===(L=this.scenarioMarker)||void 0===L||L.completeScenario(y.default.OnCallDisconnected,{CallId:this.callId||""})}catch(F){console.error("[VoiceVideoCallingProxy][onCallDisconnected][makeSecondaryChannelEventRequest] Failure "+F),p={response:"OCClientMakeSecondaryChannelEventRequestFailed"},null===(W=this.scenarioMarker)||void 0===W||W.failScenario(y.default.OnCallDisconnected,{CallId:this.callId||"",ExceptionDetails:JSON.stringify(p)})}return this.clearRemoteVideoElementChildren(),h(S),[2]})})})},v.prototype.clearRemoteVideoElementChildren=function(){var h,f;if(null===(h=this.callingParams)||void 0===h?void 0:h.remoteVideoHTMLElementId)for(var w=document.getElementById(null===(f=this.callingParams)||void 0===f?void 0:f.remoteVideoHTMLElementId);null==w?void 0:w.firstChild;)this.debug&&console.debug("[VoiceVideoCallingProxy][clearRemoteVideoElement]"),w.firstChild.remove()},v}();g.VoiceVideoCallingProxy=m,g.default=function(v){return void 0===v&&(v={}),u(void 0,void 0,void 0,function(){var h;return I(this,function(f){switch(f.label){case 0:return[4,(h=m.getInstance()).load(v.logger)];case 1:return f.sent(),[2,Promise.resolve(h)]}})})}},4151:($,g)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.ariaTelemetryKey=g.webChatIC3AdapterVersion=g.ic3ClientVersion=void 0,g.ic3ClientVersion="2021.08.14.1",g.webChatIC3AdapterVersion="0.1.0-master.2dba07b",g.ariaTelemetryKey="c7655518acf1403f93ff6b9f77942f0a-d01a02fd-6b50-4de3-a566-62eda11f93bc-7083"},6419:($,g)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var c=(()=>{return(u=c||(c={}))[u.NoCalling=19235e4]="NoCalling",u[u.VideoAndVoiceCalling=192350001]="VideoAndVoiceCalling",u[u.VoiceOnly=192350002]="VoiceOnly",c;var u})();g.default=c},6397:($,g)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.default={IC3:"IC3",DirectLine:"DirectLine"}},7925:($,g)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var c=(()=>{return(u=c||(c={}))[u.LiveChat=19235e4]="LiveChat",u[u.PersistentChat=192350001]="PersistentChat",c;var u})();g.default=c},5642:($,g)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var c=(()=>{return(u=c||(c={})).Active="Active",u.Closed="Closed",u.Open="Open",u.Waiting="Waiting",u.WrapUp="WrapUp",c;var u})();g.default=c},2626:($,g)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.defaultMessageTags=void 0,g.defaultMessageTags=["ChannelId-lcw"]},9451:($,g)=>{"use strict";var u;Object.defineProperty(g,"__esModule",{value:!0}),(u=g._BondDataType||(g._BondDataType={}))[u._BT_STOP=0]="_BT_STOP",u[u._BT_STOP_BASE=1]="_BT_STOP_BASE",u[u._BT_BOOL=2]="_BT_BOOL",u[u._BT_DOUBLE=8]="_BT_DOUBLE",u[u._BT_STRING=9]="_BT_STRING",u[u._BT_STRUCT=10]="_BT_STRUCT",u[u._BT_LIST=11]="_BT_LIST",u[u._BT_MAP=13]="_BT_MAP",u[u._BT_INT32=16]="_BT_INT32",u[u._BT_INT64=17]="_BT_INT64"},1464:($,g,c)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var u=c(6649),I=c(5644),y=c(514);g._Utf8_GetBytes=function(w){for(var S=[],b=0;b<w.length;++b){var p=w.charCodeAt(b);p<128?S.push(p):p<2048?S.push(192|p>>6,128|63&p):p<55296||p>=57344?S.push(224|p>>12,128|p>>6&63,128|63&p):(p=65536+((1023&p)<<10|1023&w.charCodeAt(++b)),S.push(240|p>>18,128|p>>12&63,128|p>>6&63,128|63&p))}return S},g._Base64_GetString=function(w){for(var S="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",b=[],p=w.length%3,P=0,O=w.length-p;P<O;P+=3)b.push([S.charAt((B=L=(w[P]<<16)+(w[P+1]<<8)+w[P+2])>>18&63),S.charAt(B>>12&63),S.charAt(B>>6&63),S.charAt(63&B)].join(""));var B;switch(p){case 1:var L;b.push(S.charAt((L=w[w.length-1])>>2)),b.push(S.charAt(L<<4&63)),b.push("==");break;case 2:var W=(w[w.length-2]<<8)+w[w.length-1];b.push(S.charAt(W>>10)),b.push(S.charAt(W>>4&63)),b.push(S.charAt(W<<2&63)),b.push("=")}return b.join("")},g._Varint_GetBytes=function(w){for(var S=[];4294967168&w;)S.push(127&w|128),w>>>=7;return S.push(127&w),S},g._Varint64_GetBytes=function(w){for(var S=w.low,b=w.high,p=[];b||4294967168&S;)p.push(127&S|128),S=(127&b)<<25|S>>>7,b>>>=7;return p.push(127&S),p},g._Double_GetBytes=function(w){if(y.BrowserChecker._IsDataViewSupport()){var S=new DataView(new ArrayBuffer(8));S.setFloat64(0,w,!0);for(var b=[],p=0;p<8;++p)b.push(S.getUint8(p));return b}return I.FloatUtils._ConvertNumberToArray(w,!0)},g._Zigzag_EncodeZigzag32=function(w){return(w=u.Number._ToInt32(w))<<1^w>>31},g._Zigzag_EncodeZigzag64=function(w){var S=w.low,b=w.high,p=b<<1|S>>>31,T=S<<1;2147483648&b&&(p=~p,T=~T);var P=new u.UInt64("0");return P.low=T,P.high=p,P}},5644:($,g)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var c=function(){function u(){}return u._ConvertNumberToArray=function(I,y){if(!I)return y?this._doubleZero:this._floatZero;var D=y?52:23,m=(1<<(y?11:8)-1)-1,C=1-m,v=m,h=I<0?1:0;I=Math.abs(I);for(var f=Math.floor(I),w=I-f,S=2*(m+2)+D,b=new Array(S),p=0;p<S;)b[p++]=0;for(p=m+2;p&&f;)b[--p]=f%2,f=Math.floor(f/2);for(p=m+1;p<S-1&&w>0;)(w*=2)>=1?(b[++p]=1,--w):b[++p]=0;for(var T=0;T<S&&!b[T];)T++;var P=m+1-T,O=T+D;if(b[O+1]){for(p=O;p>T&&(b[p]=1-b[p],!b);--p);p===T&&++P}if(P>v||f)return h?y?this._doubleNegInifinity:this._floatNegInifinity:y?this._doubleInifinity:this._floatInifinity;if(P<C)return y?this._doubleZero:this._floatZero;if(y){var L=0;for(p=0;p<20;++p)L=L<<1|b[++T];for(var W=0;p<52;++p)W=W<<1|b[++T];return[255&W,W>>8&255,W>>16&255,W>>>24,255&(L=h<<31|2147483647&(L|=P+m<<20)),L>>8&255,L>>16&255,L>>>24]}var F=0;for(p=0;p<23;++p)F=F<<1|b[++T];return[255&(F=h<<31|2147483647&(F|=P+m<<23)),F>>8&255,F>>16&255,F>>>24]},u._floatZero=[0,0,0,0],u._doubleZero=[0,0,0,0,0,0,0,0],u._floatInifinity=[0,0,128,127],u._floatNegInifinity=[0,0,128,255],u._doubleInifinity=[0,0,0,0,0,0,240,127],u._doubleNegInifinity=[0,0,0,0,0,0,240,255],u}();g.FloatUtils=c},67:($,g,c)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var u=c(6649),I=function(){function y(){this._buffer=[]}return y.prototype._WriteByte=function(_){this._buffer.push(u.Number._ToByte(_))},y.prototype._Write=function(_,D,m){for(;m--;)this._WriteByte(_[D++])},y.prototype._GetBuffer=function(){return this._buffer},y}();g.MemoryStream=I},4356:($,g,c)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var u=c(9451);g._BondDataType=u._BondDataType;var I=c(1464);g._Encoding=I;var y=c(67);g.IO=y;var _=c(6649);g.Int64=_.Int64,g.UInt64=_.UInt64,g.Number=_.Number;var D=function(){function m(C){this._stream=C}return m.prototype._WriteBlob=function(C){this._stream._Write(C,0,C.length)},m.prototype._WriteBool=function(C){this._stream._WriteByte(C?1:0)},m.prototype._WriteContainerBegin=function(C,v){this._WriteUInt8(v),this._WriteUInt32(C)},m.prototype._WriteMapContainerBegin=function(C,v,h){this._WriteUInt8(v),this._WriteUInt8(h),this._WriteUInt32(C)},m.prototype._WriteDouble=function(C){var v=I._Double_GetBytes(C);this._stream._Write(v,0,v.length)},m.prototype._WriteFieldBegin=function(C,v,h){v<=5?this._stream._WriteByte(C|v<<5):v<=255?(this._stream._WriteByte(192|C),this._stream._WriteByte(v)):(this._stream._WriteByte(224|C),this._stream._WriteByte(v),this._stream._WriteByte(v>>8))},m.prototype._WriteInt32=function(C){C=I._Zigzag_EncodeZigzag32(C),this._WriteUInt32(C)},m.prototype._WriteInt64=function(C){this._WriteUInt64(I._Zigzag_EncodeZigzag64(C))},m.prototype._WriteString=function(C){if(""===C)this._WriteUInt32(0);else{var v=I._Utf8_GetBytes(C);this._WriteUInt32(v.length),this._stream._Write(v,0,v.length)}},m.prototype._WriteStructEnd=function(C){this._WriteUInt8(C?u._BondDataType._BT_STOP_BASE:u._BondDataType._BT_STOP)},m.prototype._WriteUInt32=function(C){var v=I._Varint_GetBytes(_.Number._ToUInt32(C));this._stream._Write(v,0,v.length)},m.prototype._WriteUInt64=function(C){var v=I._Varint64_GetBytes(C);this._stream._Write(v,0,v.length)},m.prototype._WriteUInt8=function(C){this._stream._WriteByte(_.Number._ToUInt8(C))},m}();g.CompactBinaryProtocolWriter=D},6649:($,g)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var c=function(){function y(_){this.low=0,this.high=0,this.low=parseInt(_,10),this.low<0&&(this.high=-1)}return y.prototype._Equals=function(_){var D=new y(_);return this.low===D.low&&this.high===D.high},y}();g.Int64=c;var u=function(){function y(_){this.low=0,this.high=0,this.low=parseInt(_,10)}return y.prototype._Equals=function(_){var D=new y(_);return this.low===D.low&&this.high===D.high},y}();g.UInt64=u;var I=function(){function y(){}return y._ToByte=function(_){return this._ToUInt8(_)},y._ToUInt8=function(_){return 255&_},y._ToInt32=function(_){return 2147483647&_|2147483648&_},y._ToUInt32=function(_){return 4294967295&_},y}();g.Number=I},514:($,g)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var c=function(){function u(){}return u._IsDataViewSupport=function(){return"undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},u}();g.BrowserChecker=c},4501:($,g)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var c=function(){function u(I){this.clockSkewRefreshDurationInMins=I,this._reset()}return u.prototype.allowRequestSending=function(){return this._isFirstRequest&&!this._clockSkewSet?(this._isFirstRequest=!1,this._allowRequestSending=!1,!0):this._allowRequestSending},u.prototype.shouldAddClockSkewHeaders=function(){return this._shouldAddClockSkewHeaders},u.prototype.getClockSkewHeaderValue=function(){return this._clockSkewHeaderValue},u.prototype.setClockSkew=function(I){this._clockSkewSet||(I?this._clockSkewHeaderValue=I:this._shouldAddClockSkewHeaders=!1,this._clockSkewSet=!0,this._allowRequestSending=!0)},u.prototype._reset=function(){var I=this;this._isFirstRequest=!0,this._clockSkewSet=!1,this._allowRequestSending=!0,this._shouldAddClockSkewHeaders=!0,this._clockSkewHeaderValue="use-collector-delta",this.clockSkewRefreshDurationInMins>0&&setTimeout(function(){return I._reset()},6e4*this.clockSkewRefreshDurationInMins)},u}();g.default=c},7190:($,g)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var u=function(){function I(){this._killedTokenDictionary={}}return I.prototype.setKillSwitchTenants=function(y,_){if(y&&_)try{var D=y.split(",");if("this-request-only"===_)return D;for(var m=1e3*parseInt(_,10),C=0;C<D.length;++C)this._killedTokenDictionary[D[C]]=Date.now()+m}catch(v){return[]}return[]},I.prototype.isTenantKilled=function(y){return void 0!==this._killedTokenDictionary[y]&&this._killedTokenDictionary[y]>Date.now()||(delete this._killedTokenDictionary[y],!1)},I}();g.default=u},2551:($,g)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var c=function(){function u(){}return u.addNotificationListener=function(I){this.listeners.push(I)},u.removeNotificationListener=function(I){for(var y=this.listeners.indexOf(I);y>-1;)this.listeners.splice(y,1),y=this.listeners.indexOf(I)},u.eventsSent=function(I){for(var y=this,_=function(C){D.listeners[C].eventsSent&&setTimeout(function(){return y.listeners[C].eventsSent(I)},0)},D=this,m=0;m<this.listeners.length;++m)_(m)},u.eventsDropped=function(I,y){for(var _=this,D=function(v){m.listeners[v].eventsDropped&&setTimeout(function(){return _.listeners[v].eventsDropped(I,y)},0)},m=this,C=0;C<this.listeners.length;++C)D(C)},u.eventsRetrying=function(I){for(var y=this,_=function(C){D.listeners[C].eventsRetrying&&setTimeout(function(){return y.listeners[C].eventsRetrying(I)},0)},D=this,m=0;m<this.listeners.length;++m)_(m)},u.eventsRejected=function(I,y){for(var _=this,D=function(v){m.listeners[v].eventsRejected&&setTimeout(function(){return _.listeners[v].eventsRejected(I,y)},0)},m=this,C=0;C<this.listeners.length;++C)D(C)},u.listeners=[],u}();g.default=c},2659:($,g,c)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var u=c(676),I=function(){function y(_,D){this._outboundQueue=_,this._maxNumberOfEvents=D,this._currentBatch={},this._currentNumEventsInBatch=0}return y.prototype.addEventToBatch=function(_){if(_.priority===u.AWTEventPriority.Immediate_sync){var D={};return D[_.apiKey]=[_],D}return this._currentNumEventsInBatch>=this._maxNumberOfEvents&&this.flushBatch(),void 0===this._currentBatch[_.apiKey]&&(this._currentBatch[_.apiKey]=[]),this._currentBatch[_.apiKey].push(_),this._currentNumEventsInBatch++,null},y.prototype.flushBatch=function(){this._currentNumEventsInBatch>0&&(this._outboundQueue.push(this._currentBatch),this._currentBatch={},this._currentNumEventsInBatch=0)},y.prototype.hasBatch=function(){return this._currentNumEventsInBatch>0},y}();g.default=I},7270:($,g)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var _=function(){function D(){}return D.shouldRetryForStatus=function(m){return!(m>=300&&m<500&&408!==m||501===m||505===m)},D.getMillisToBackoffForRetry=function(m){var C,f=Math.floor(1200*Math.random())+2400;return C=Math.pow(4,m)*f,Math.min(C,12e4)},D}();g.default=_},6064:($,g,c)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var u=c(4356),I=c(676),y=c(2551),_=c(5593),D=2936012,m=function(){function C(){}return C.getPayloadBlob=function(v,h){var w,f=!1,S=new u.IO.MemoryStream,b=new u.CompactBinaryProtocolWriter(S);for(var p in b._WriteFieldBegin(u._BondDataType._BT_MAP,3,null),b._WriteMapContainerBegin(h,u._BondDataType._BT_STRING,u._BondDataType._BT_LIST),v)if(f)w||(w={}),w[p]=v[p],delete v[p];else if(v.hasOwnProperty(p)){b._WriteString(p);var T=v[p];b._WriteContainerBegin(1,u._BondDataType._BT_STRUCT),b._WriteFieldBegin(u._BondDataType._BT_STRING,2,null),b._WriteString("act_default_source"),b._WriteFieldBegin(u._BondDataType._BT_STRING,5,null),b._WriteString(_.newGuid()),b._WriteFieldBegin(u._BondDataType._BT_INT64,6,null),b._WriteInt64(_.numberToBondInt64(Date.now())),b._WriteFieldBegin(u._BondDataType._BT_LIST,8,null);var P=S._GetBuffer().length+1;b._WriteContainerBegin(v[p].length,u._BondDataType._BT_STRUCT);for(var O=S._GetBuffer().length-P,L=0;L<T.length;++L){var W=S._GetBuffer().length;if(this.writeEvent(T[L],b),S._GetBuffer().length-W>D)y.default.eventsRejected([T[L]],I.AWTEventsRejectedReason.SizeLimitExceeded),T.splice(L--,1),S._GetBuffer().splice(W),this._addNewDataPackageSize(T.length,S,O,P);else if(S._GetBuffer().length>D){S._GetBuffer().splice(W),w||(w={}),v[p]=T.splice(0,L),w[p]=T,this._addNewDataPackageSize(v[p].length,S,O,P),f=!0;break}}b._WriteStructEnd(!1)}return b._WriteStructEnd(!1),{payloadBlob:S._GetBuffer(),remainingRequest:w}},C._addNewDataPackageSize=function(v,h,f,w){for(var S=u._Encoding._Varint_GetBytes(u.Number._ToUInt32(v)),b=0;b<f;++b){if(!(b<S.length)){h._GetBuffer().slice(w+b,f-b);break}h._GetBuffer()[w+b]=S[b]}},C.writeEvent=function(v,h){h._WriteFieldBegin(u._BondDataType._BT_STRING,1,null),h._WriteString(v.id),h._WriteFieldBegin(u._BondDataType._BT_INT64,3,null),h._WriteInt64(_.numberToBondInt64(v.timestamp)),h._WriteFieldBegin(u._BondDataType._BT_STRING,5,null),h._WriteString(v.type),h._WriteFieldBegin(u._BondDataType._BT_STRING,6,null),h._WriteString(v.name);var f={},w=0,S={},b=0,p={},T=0,P={},O=0,L={},W=0,B={},F=0,V={},K=0;for(var q in v.properties)if(v.properties.hasOwnProperty(q))if((G=v.properties[q]).cc>0)V[q]=G,K++;else if(G.pii>0)B[q]=G,F++;else switch(G.type){case I.AWTPropertyType.String:f[q]=G.value,w++;break;case I.AWTPropertyType.Int64:S[q]=G.value,b++;break;case I.AWTPropertyType.Double:p[q]=G.value,T++;break;case I.AWTPropertyType.Boolean:P[q]=G.value,O++;break;case I.AWTPropertyType.Date:L[q]=G.value,W++}if(w)for(var q in h._WriteFieldBegin(u._BondDataType._BT_MAP,13,null),h._WriteMapContainerBegin(w,u._BondDataType._BT_STRING,u._BondDataType._BT_STRING),f)if(f.hasOwnProperty(q)){var ae=f[q];h._WriteString(q),h._WriteString(ae.toString())}if(F)for(var q in h._WriteFieldBegin(u._BondDataType._BT_MAP,30,null),h._WriteMapContainerBegin(F,u._BondDataType._BT_STRING,u._BondDataType._BT_STRUCT),B)if(B.hasOwnProperty(q)){var G=B[q];h._WriteString(q),h._WriteFieldBegin(u._BondDataType._BT_INT32,1,null),h._WriteInt32(1),h._WriteFieldBegin(u._BondDataType._BT_INT32,2,null),h._WriteInt32(G.pii),h._WriteFieldBegin(u._BondDataType._BT_STRING,3,null),h._WriteString(G.value.toString()),h._WriteStructEnd(!1)}if(O)for(var q in h._WriteFieldBegin(u._BondDataType._BT_MAP,31,null),h._WriteMapContainerBegin(O,u._BondDataType._BT_STRING,u._BondDataType._BT_BOOL),P)P.hasOwnProperty(q)&&(ae=P[q],h._WriteString(q),h._WriteBool(ae));if(W)for(var q in h._WriteFieldBegin(u._BondDataType._BT_MAP,32,null),h._WriteMapContainerBegin(W,u._BondDataType._BT_STRING,u._BondDataType._BT_INT64),L)L.hasOwnProperty(q)&&(ae=L[q],h._WriteString(q),h._WriteInt64(_.numberToBondInt64(ae)));if(b)for(var q in h._WriteFieldBegin(u._BondDataType._BT_MAP,33,null),h._WriteMapContainerBegin(b,u._BondDataType._BT_STRING,u._BondDataType._BT_INT64),S)S.hasOwnProperty(q)&&(ae=S[q],h._WriteString(q),h._WriteInt64(_.numberToBondInt64(ae)));if(T)for(var q in h._WriteFieldBegin(u._BondDataType._BT_MAP,34,null),h._WriteMapContainerBegin(T,u._BondDataType._BT_STRING,u._BondDataType._BT_DOUBLE),p)p.hasOwnProperty(q)&&(ae=p[q],h._WriteString(q),h._WriteDouble(ae));if(K)for(var q in h._WriteFieldBegin(u._BondDataType._BT_MAP,36,null),h._WriteMapContainerBegin(K,u._BondDataType._BT_STRING,u._BondDataType._BT_STRUCT),V)V.hasOwnProperty(q)&&(G=V[q],h._WriteString(q),h._WriteFieldBegin(u._BondDataType._BT_INT32,1,null),h._WriteInt32(G.cc),h._WriteFieldBegin(u._BondDataType._BT_STRING,2,null),h._WriteString(G.value.toString()),h._WriteStructEnd(!1));h._WriteStructEnd(!1)},C.base64Encode=function(v){return u._Encoding._Base64_GetString(v)},C}();g.default=m},5816:($,g,c)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var u=c(5593),I=c(2551),y=c(676),D=function(){function m(){}return m.initialize=function(C){var v=this;this._sendStats=C,this._isInitalized=!0,I.default.addNotificationListener({eventsSent:function(h){v._addStat("records_sent_count",h.length,h[0].apiKey)},eventsDropped:function(h,f){switch(f){case y.AWTEventsDroppedReason.NonRetryableStatus:v._addStat("d_send_fail",h.length,h[0].apiKey),v._addStat("records_dropped_count",h.length,h[0].apiKey);break;case y.AWTEventsDroppedReason.MaxRetryLimit:v._addStat("d_retry_limit",h.length,h[0].apiKey),v._addStat("records_dropped_count",h.length,h[0].apiKey);break;case y.AWTEventsDroppedReason.QueueFull:v._addStat("d_queue_full",h.length,h[0].apiKey)}},eventsRejected:function(h,f){switch(f){case y.AWTEventsRejectedReason.InvalidEvent:v._addStat("r_inv",h.length,h[0].apiKey);break;case y.AWTEventsRejectedReason.KillSwitch:v._addStat("r_kl",h.length,h[0].apiKey);break;case y.AWTEventsRejectedReason.SizeLimitExceeded:v._addStat("r_size",h.length,h[0].apiKey)}v._addStat("r_count",h.length,h[0].apiKey)},eventsRetrying:null}),setTimeout(function(){return v.flush()},6e4)},m.teardown=function(){this._isInitalized&&(this.flush(),this._isInitalized=!1)},m.eventReceived=function(C){m._addStat("records_received_count",1,C)},m.flush=function(){var C=this;if(this._isInitalized){for(var v in this._stats)this._stats.hasOwnProperty(v)&&this._sendStats(this._stats[v],v);this._stats={},setTimeout(function(){return C.flush()},6e4)}},m._addStat=function(C,v,h){if(this._isInitalized&&h!==u.StatsApiKey){var f=u.getTenantId(h);this._stats[f]||(this._stats[f]={}),this._stats[f][C]=this._stats[f][C]?this._stats[f][C]+v:v}},m._isInitalized=!1,m._stats={},m}();g.default=D},676:($,g)=>{"use strict";var m;Object.defineProperty(g,"__esModule",{value:!0}),(m=g.AWTPropertyType||(g.AWTPropertyType={}))[m.Unspecified=0]="Unspecified",m[m.String=1]="String",m[m.Int64=2]="Int64",m[m.Double=3]="Double",m[m.Boolean=4]="Boolean",m[m.Date=5]="Date",function(m){m[m.NotSet=0]="NotSet",m[m.DistinguishedName=1]="DistinguishedName",m[m.GenericData=2]="GenericData",m[m.IPV4Address=3]="IPV4Address",m[m.IPv6Address=4]="IPv6Address",m[m.MailSubject=5]="MailSubject",m[m.PhoneNumber=6]="PhoneNumber",m[m.QueryString=7]="QueryString",m[m.SipAddress=8]="SipAddress",m[m.SmtpAddress=9]="SmtpAddress",m[m.Identity=10]="Identity",m[m.Uri=11]="Uri",m[m.Fqdn=12]="Fqdn",m[m.IPV4AddressLegacy=13]="IPV4AddressLegacy"}(g.AWTPiiKind||(g.AWTPiiKind={})),function(m){m[m.NotSet=0]="NotSet",m[m.GenericContent=1]="GenericContent"}(g.AWTCustomerContentKind||(g.AWTCustomerContentKind={})),function(m){m[m.Low=1]="Low",m[m.Normal=2]="Normal",m[m.High=3]="High",m[m.Immediate_sync=5]="Immediate_sync"}(g.AWTEventPriority||(g.AWTEventPriority={})),function(m){m[m.NonRetryableStatus=1]="NonRetryableStatus",m[m.QueueFull=3]="QueueFull",m[m.MaxRetryLimit=4]="MaxRetryLimit"}(g.AWTEventsDroppedReason||(g.AWTEventsDroppedReason={})),function(m){m[m.InvalidEvent=1]="InvalidEvent",m[m.SizeLimitExceeded=2]="SizeLimitExceeded",m[m.KillSwitch=3]="KillSwitch"}(g.AWTEventsRejectedReason||(g.AWTEventsRejectedReason={}))},5593:($,g,c)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var u=c(6649),I=c(676),y=/[xy]/g,m=null;g.EventNameAndTypeRegex=/^[a-zA-Z]([a-zA-Z0-9]|_){2,98}[a-zA-Z0-9]$/,g.EventNameDotRegex=/\./g,g.PropertyNameRegex=/^[a-zA-Z](([a-zA-Z0-9|_|\.]){0,98}[a-zA-Z0-9])?$/,g.StatsApiKey="a387cfcf60114a43a7699f9fbb49289e-9bceb9fe-1c06-460f-96c5-6a0b247358bc-7238";var C=m,v=m,h=m;function S(R){return"string"==typeof R}function b(R){return"number"==typeof R}function p(R){return"boolean"==typeof R}function T(R){return R instanceof Date}function P(R){return 1e4*(R+621355968e5)}function G(){return!("undefined"==typeof navigator||!navigator.product)&&"ReactNative"===navigator.product}function ae(){return"object"==typeof self&&"ServiceWorkerGlobalScope"===self.constructor.name}function z(R){return R<10?"0"+R:R.toString()}function M(R){return void 0===R||R===m||""===R}g.numberToBondInt64=function(R){var H=new u.Int64("0");return H.low=4294967295&R,H.high=Math.floor(R/4294967296),H},g.newGuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(y,function(R){var H=16*Math.random()|0;return("x"===R?H:3&H|8).toString(16)})},g.isString=S,g.isNumber=b,g.isBoolean=p,g.isDate=T,g.msToTicks=P,g.getTenantId=function(R){var H=R.indexOf("-");return H>-1?R.substring(0,H):""},g.isBeaconsSupported=function(){return C===m&&(C="undefined"!=typeof navigator&&Boolean(navigator.sendBeacon)),C},g.isUint8ArrayAvailable=function(){return v===m&&(v="undefined"!=typeof Uint8Array&&!function(){if("undefined"!=typeof navigator&&navigator.userAgent){var R=navigator.userAgent.toLowerCase();if((R.indexOf("safari")>=0||R.indexOf("firefox")>=0)&&R.indexOf("chrome")<0)return!0}return!1}()&&!G()),v},g.isPriority=function(R){return!(!b(R)||!(R>=1&&R<=3||5===R))},g.sanitizeProperty=function(R,H){return!g.PropertyNameRegex.test(R)||M(H)||(M(H.value)&&(H={value:H,type:I.AWTPropertyType.Unspecified}),H.type=function(R,H){switch(H=function(R){return!!(b(R)&&R>=0&&R<=4)}(H)?H:I.AWTPropertyType.Unspecified){case I.AWTPropertyType.Unspecified:return function(R){switch(typeof R){case"string":return I.AWTPropertyType.String;case"boolean":return I.AWTPropertyType.Boolean;case"number":return I.AWTPropertyType.Double;case"object":return T(R)?I.AWTPropertyType.Date:m}return m}(R);case I.AWTPropertyType.String:return S(R)?H:m;case I.AWTPropertyType.Boolean:return p(R)?H:m;case I.AWTPropertyType.Date:return T(R)&&NaN!==R.getTime()?H:m;case I.AWTPropertyType.Int64:return b(R)&&R%1==0?H:m;case I.AWTPropertyType.Double:return b(R)?H:m}return m}(H.value,H.type),!H.type)||(T(H.value)&&(H.value=P(H.value.getTime())),H.pii>0&&H.cc>0)?m:H.pii?function(R){return!!(b(R)&&R>=0&&R<=13)}(H.pii)?H:m:H.cc?function(R){return!!(b(R)&&R>=0&&R<=1)}(H.cc)?H:m:H},g.getISOString=function(R){return R.getUTCFullYear()+"-"+z(R.getUTCMonth()+1)+"-"+z(R.getUTCDate())+"T"+z(R.getUTCHours())+":"+z(R.getUTCMinutes())+":"+z(R.getUTCSeconds())+"."+function(R){return R<10?"00"+R:R<100?"0"+R:R.toString()}(R.getUTCMilliseconds())+"Z"},g.useXDomainRequest=function(){if(h===m){var R=new XMLHttpRequest;h=void 0===R.withCredentials&&"undefined"!=typeof XDomainRequest}return h},g.useFetchRequest=function(){return G()||ae()},g.isReactNative=G,g.isServiceWorkerGlobalScope=ae},4094:($,g,c)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var u=c(5593),I="MicrosoftApplicationsTelemetryDeviceId",y="MicrosoftApplicationsTelemetryFirstLaunchTime",m_WIN=/(windows|win32)/i,m_WINRT=/ arm;/i,m_WINPHONE=/windows\sphone\s\d+\.\d+/i,m_OSX=/(macintosh|mac os x)/i,m_IOS=/(iPad|iPhone|iPod)(?=.*like Mac OS X)/i,m_LINUX=/(linux|joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk)/i,m_ANDROID=/android/i,m_CROS=/CrOS/i,C={5.1:"XP","6.0":"Vista",6.1:"7",6.2:"8",6.3:"8.1","10.0":"10"},v="([\\d,.]+)",f="Unknown",w="undefined",S=function(){function b(){}return b.addPropertyStorageOverride=function(p){return!!p&&(this._propertyStorage=p,!0)},b.autoCollect=function(p,T,P){if(this._semanticContext=p,this._disableCookies=T,this._autoCollect(),!P&&typeof navigator!==w&&(P=navigator.userAgent||""),this._autoCollectFromUserAgent(P),this._disableCookies&&!this._propertyStorage)return this._deleteCookie(I),void this._deleteCookie(y);(this._propertyStorage||this._areCookiesAvailable&&!this._disableCookies)&&this._autoCollectDeviceId()},b.checkAndSaveDeviceId=function(p){if(p){var T=this._getData(I),P=this._getData(y);T!==p&&(P=u.getISOString(new Date)),this._saveData(I,p),this._saveData(y,P),this._setFirstLaunchTime(P)}},b._autoCollectDeviceId=function(){var p=this._getData(I);p||(p=u.newGuid()),this._semanticContext.setDeviceId(p)},b._autoCollect=function(){typeof document!==w&&document.documentElement&&this._semanticContext.setAppLanguage(document.documentElement.lang),typeof navigator!==w&&this._semanticContext.setUserLanguage(navigator.userLanguage||navigator.language);var p=(new Date).getTimezoneOffset(),T=p%60,P=(p-T)/60,O="+";P>0&&(O="-"),P=Math.abs(P),T=Math.abs(T),this._semanticContext.setUserTimeZone(O+(P<10?"0"+P:P.toString())+":"+(T<10?"0"+T:T.toString()))},b._autoCollectFromUserAgent=function(p){if(p){var T=this._getBrowserName(p);this._semanticContext.setDeviceBrowserName(T),this._semanticContext.setDeviceBrowserVersion(this._getBrowserVersion(p,T));var P=this._getOsName(p);this._semanticContext.setDeviceOsName(P),this._semanticContext.setDeviceOsVersion(this._getOsVersion(p,P))}},b._getBrowserName=function(p){return this._userAgentContainsString("OPR/",p)?"Opera":this._userAgentContainsString("PhantomJS",p)?"PhantomJS":this._userAgentContainsString("Edge",p)||this._userAgentContainsString("Edg",p)?"Edge":this._userAgentContainsString("Electron",p)?"Electron":this._userAgentContainsString("Chrome",p)?"Chrome":this._userAgentContainsString("Trident",p)?"MSIE":this._userAgentContainsString("Firefox",p)?"Firefox":this._userAgentContainsString("Safari",p)?"Safari":this._userAgentContainsString("SkypeShell",p)?"SkypeShell":f},b._setFirstLaunchTime=function(p){if(!isNaN(p)){var T=new Date;T.setTime(parseInt(p,10)),p=u.getISOString(T)}this.firstLaunchTime=p},b._userAgentContainsString=function(p,T){return T.indexOf(p)>-1},b._getBrowserVersion=function(p,T){if("MSIE"===T)return this._getIeVersion(p);if("Edge"===T){var P=this._getOtherVersion(T,p);return P===f?this._getOtherVersion("Edg",p):P}return this._getOtherVersion(T,p)},b._getIeVersion=function(p){var T=p.match(new RegExp("MSIE "+v));if(T)return T[1];var P=p.match(new RegExp("rv:"+v));return P?P[1]:void 0},b._getOtherVersion=function(p,T){"Safari"===p&&(p="Version");var P=T.match(new RegExp(p+"/"+v));return P?P[1]:f},b._getOsName=function(p){return p.match(m_WINPHONE)?"Windows Phone":p.match(m_WINRT)?"Windows RT":p.match(m_IOS)?"iOS":p.match(m_ANDROID)?"Android":p.match(m_LINUX)?"Linux":p.match(m_OSX)?"Mac OS X":p.match(m_WIN)?"Windows":p.match(m_CROS)?"Chrome OS":f},b._getOsVersion=function(p,T){return"Windows"===T?this._getGenericOsVersion(p,"Windows NT"):"Android"===T?this._getGenericOsVersion(p,T):"Mac OS X"===T?this._getMacOsxVersion(p):f},b._getGenericOsVersion=function(p,T){var P=p.match(new RegExp(T+" "+v));return P?C[P[1]]?C[P[1]]:P[1]:f},b._getMacOsxVersion=function(p){var T=p.match(new RegExp("Mac OS X ([\\d,_,.]+)"));if(T){var P=T[1].replace(/_/g,".");if(P){var O=this._getDelimiter(P);return O?P.split(O)[0]:P}}return f},b._getDelimiter=function(p){return p.indexOf(".")>-1?".":p.indexOf("_")>-1?"_":null},b._saveData=function(p,T){if(this._propertyStorage)this._propertyStorage.setProperty(p,T);else if(this._areCookiesAvailable){var P=new Date;P.setTime(P.getTime()+31536e6);var O="expires="+P.toUTCString();document.cookie=p+"="+T+"; "+O}},b._getData=function(p){if(this._propertyStorage)return this._propertyStorage.getProperty(p)||"";if(this._areCookiesAvailable){p+="=";for(var T=document.cookie.split(";"),P=0;P<T.length;P++){for(var O=T[P],L=0;" "===O.charAt(L);)L++;if(0===(O=O.substring(L)).indexOf(p))return O.substring(p.length,O.length)}}return""},b._deleteCookie=function(p){this._areCookiesAvailable&&(document.cookie=p+"=;expires=Thu, 01 Jan 1970 00:00:01 GMT;")},b._disableCookies=!1,b._areCookiesAvailable=typeof document!==w&&typeof document.cookie!==w,b}();g.default=S},58:($,g,c)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var u=c(5593),I=c(676),y=function(){function _(D){this._event={name:"",properties:{}},D&&this.setName(D)}return _.prototype.setName=function(D){this._event.name=D},_.prototype.getName=function(){return this._event.name},_.prototype.setType=function(D){this._event.type=D},_.prototype.getType=function(){return this._event.type},_.prototype.setTimestamp=function(D){this._event.timestamp=D},_.prototype.getTimestamp=function(){return this._event.timestamp},_.prototype.setEventPriority=function(D){this._event.priority=D},_.prototype.getEventPriority=function(){return this._event.priority},_.prototype.setProperty=function(D,m,C){void 0===C&&(C=I.AWTPropertyType.Unspecified);var v={value:m,type:C,pii:I.AWTPiiKind.NotSet,cc:I.AWTCustomerContentKind.NotSet};null!==(v=u.sanitizeProperty(D,v))?this._event.properties[D]=v:delete this._event.properties[D]},_.prototype.setPropertyWithPii=function(D,m,C,v){void 0===v&&(v=I.AWTPropertyType.Unspecified);var h={value:m,type:v,pii:C,cc:I.AWTCustomerContentKind.NotSet};null!==(h=u.sanitizeProperty(D,h))?this._event.properties[D]=h:delete this._event.properties[D]},_.prototype.setPropertyWithCustomerContent=function(D,m,C,v){void 0===v&&(v=I.AWTPropertyType.Unspecified);var h={value:m,type:v,pii:I.AWTPiiKind.NotSet,cc:C};null!==(h=u.sanitizeProperty(D,h))?this._event.properties[D]=h:delete this._event.properties[D]},_.prototype.getPropertyMap=function(){return this._event.properties},_.prototype.getEvent=function(){return this._event},_}();g.default=y},9449:($,g,c)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var u=c(676),I=c(6064),y=c(7270),_=c(7190),D=c(4501),m=c(8779),C=c(5593),v=c(2551),h=c(4023),S="POST",b=function(){function p(T,P,O,L,W){var B=this;this._requestQueue=T,this._queueManager=O,this._httpInterface=L,this._urlString="?qsp=true&content-type=application%2Fbond-compact-binary&client-id=NO_AUTH&sdk-version="+m.FullVersionString,this._killSwitch=new _.default,this._paused=!1,this._useBeacons=!1,this._activeConnections=0,this._clockSkewManager=new D.default(W),C.isUint8ArrayAvailable()||(this._urlString+="&content-encoding=base64"),this._urlString=P+this._urlString,this._httpInterface||(this._useBeacons=!C.isReactNative(),this._httpInterface={sendPOST:function(F,V,K,q,G,ae){try{if(C.useFetchRequest())fetch(F,{body:V,method:S}).then(function(ie){var ue={};ie.headers&&ie.headers.forEach(function(Z,x){ue[x]=Z}),G(ie.status,ue)}).catch(function(ie){q(0,{})});else if(C.useXDomainRequest()){var z=new XDomainRequest;z.open(S,F),z.onload=function(){G(200,null)},z.onerror=function(){q(400,null)},z.ontimeout=function(){K(500,null)},z.send(V)}else{var ee=new XMLHttpRequest;ee.open(S,F,!ae),ee.onload=function(){G(ee.status,B._convertAllHeadersToMap(ee.getAllResponseHeaders()))},ee.onerror=function(){q(ee.status,B._convertAllHeadersToMap(ee.getAllResponseHeaders()))},ee.ontimeout=function(){K(ee.status,B._convertAllHeadersToMap(ee.getAllResponseHeaders()))},ee.send(V)}}catch(ie){q(400,null)}}})}return p.prototype.hasIdleConnection=function(){return this._activeConnections<2},p.prototype.sendQueuedRequests=function(){for(;this.hasIdleConnection()&&!this._paused&&this._requestQueue.length>0&&this._clockSkewManager.allowRequestSending();)this._activeConnections++,this._sendRequest(this._requestQueue.shift(),0,!1);this.hasIdleConnection()&&h.default.scheduleTimer()},p.prototype.isCompletelyIdle=function(){return 0===this._activeConnections},p.prototype.teardown=function(){for(;this._requestQueue.length>0;)this._sendRequest(this._requestQueue.shift(),0,!0)},p.prototype.pause=function(){this._paused=!0},p.prototype.resume=function(){this._paused=!1,this.sendQueuedRequests()},p.prototype.removeQueuedRequests=function(){this._requestQueue.length=0},p.prototype.sendSynchronousRequest=function(T,P){this._paused&&(T[P][0].priority=u.AWTEventPriority.High),this._activeConnections++,this._sendRequest(T,0,!1,!0)},p.prototype._sendRequest=function(T,P,O,L){var W=this;void 0===L&&(L=!1);try{if(this._paused)return this._activeConnections--,void this._queueManager.addBackRequest(T);var B=0,F="";for(var V in T)T.hasOwnProperty(V)&&(this._killSwitch.isTenantKilled(V)?(v.default.eventsRejected(T[V],u.AWTEventsRejectedReason.KillSwitch),delete T[V]):(F.length>0&&(F+=","),F+=V,B++));if(B>0){var K=I.default.getPayloadBlob(T,B);K.remainingRequest&&this._requestQueue.push(K.remainingRequest);var q=this._urlString+"&x-apikey="+F+"&client-time-epoch-millis="+Date.now().toString();this._clockSkewManager.shouldAddClockSkewHeaders()&&(q=q+"&time-delta-to-apply-millis="+this._clockSkewManager.getClockSkewHeaderValue());var G;for(var V in G=C.isUint8ArrayAvailable()?new Uint8Array(K.payloadBlob):I.default.base64Encode(K.payloadBlob),T)if(T.hasOwnProperty(V))for(var ae=0;ae<T[V].length;++ae)T[V][ae].sendAttempt>0?T[V][ae].sendAttempt++:T[V][ae].sendAttempt=1;if(this._useBeacons&&O&&C.isBeaconsSupported()&&navigator.sendBeacon(q,G))return;this._httpInterface.sendPOST(q,G,function(z,ee){W._retryRequestIfNeeded(z,ee,T,B,F,P,O,L)},function(z,ee){W._retryRequestIfNeeded(z,ee,T,B,F,P,O,L)},function(z,ee){W._retryRequestIfNeeded(z,ee,T,B,F,P,O,L)},O||L)}else O||this._handleRequestFinished(!1,{},O,L)}catch(z){this._handleRequestFinished(!1,{},O,L)}},p.prototype._retryRequestIfNeeded=function(T,P,O,L,W,B,F,V){var K=this,q=!0;if(void 0!==T){if(P){var G=this._killSwitch.setKillSwitchTenants(P["kill-tokens"],P["kill-duration-seconds"]);this._clockSkewManager.setClockSkew(P["time-delta-millis"]);for(var ae=0;ae<G.length;++ae)v.default.eventsRejected(O[G[ae]],u.AWTEventsRejectedReason.KillSwitch),delete O[G[ae]],L--}else this._clockSkewManager.setClockSkew(null);if(200===T)return void this._handleRequestFinished(!0,O,F,V);(!y.default.shouldRetryForStatus(T)||L<=0)&&(q=!1)}if(q)if(V)this._activeConnections--,O[W][0].priority=u.AWTEventPriority.High,this._queueManager.addBackRequest(O);else if(B<1){for(var z in O)O.hasOwnProperty(z)&&v.default.eventsRetrying(O[z]);setTimeout(function(){return K._sendRequest(O,B+1,!1)},y.default.getMillisToBackoffForRetry(B))}else this._activeConnections--,h.default.backOffTransmission(),this._queueManager.addBackRequest(O);else this._handleRequestFinished(!1,O,F,V)},p.prototype._handleRequestFinished=function(T,P,O,L){for(var W in T&&h.default.clearBackOff(),P)P.hasOwnProperty(W)&&(T?v.default.eventsSent(P[W]):v.default.eventsDropped(P[W],u.AWTEventsDroppedReason.NonRetryableStatus));this._activeConnections--,!L&&!O&&this.sendQueuedRequests()},p.prototype._convertAllHeadersToMap=function(T){var P={};if(T)for(var O=T.split("\n"),L=0;L<O.length;++L){var W=O[L].split(": ");P[W[0]]=W[1]}return P},p}();g.default=b},7613:($,g,c)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var u=c(676),I=c(5640),y=c(4189),_=c(6208),D=c(4023),m=c(2551),C=c(4094),v=function(){function h(){}return h.initialize=function(f,w){if(void 0===w&&(w={}),!this._isInitialized)return this._isInitialized=!0,y.default.defaultTenantToken=f,this._overrideValuesFromConfig(w),this._config.disableCookiesUsage&&!this._config.propertyStorageOverride&&(y.default.sessionEnabled=!1),C.default.addPropertyStorageOverride(this._config.propertyStorageOverride),C.default.autoCollect(y.default.semanticContext,this._config.disableCookiesUsage,this._config.userAgent),D.default.initialize(this._config),y.default.loggingEnabled=!0,this._config.enableAutoUserSession&&(this.getLogger().logSession(I.AWTSessionState.Started),window.addEventListener("beforeunload",this.flushAndTeardown)),this.getLogger()},h.getSemanticContext=function(){return y.default.semanticContext},h.flush=function(f){this._isInitialized&&!this._isDestroyed&&D.default.flush(f)},h.flushAndTeardown=function(){this._isInitialized&&!this._isDestroyed&&(this._config.enableAutoUserSession&&this.getLogger().logSession(I.AWTSessionState.Ended),D.default.flushAndTeardown(),y.default.loggingEnabled=!1,this._isDestroyed=!0)},h.pauseTransmission=function(){this._isInitialized&&!this._isDestroyed&&D.default.pauseTransmission()},h.resumeTransmision=function(){this._isInitialized&&!this._isDestroyed&&D.default.resumeTransmision()},h.setTransmitProfile=function(f){this._isInitialized&&!this._isDestroyed&&D.default.setTransmitProfile(f)},h.loadTransmitProfiles=function(f){this._isInitialized&&!this._isDestroyed&&D.default.loadTransmitProfiles(f)},h.setContext=function(f,w,S){void 0===S&&(S=u.AWTPropertyType.Unspecified),y.default.logManagerContext.setProperty(f,w,S)},h.setContextWithPii=function(f,w,S,b){void 0===b&&(b=u.AWTPropertyType.Unspecified),y.default.logManagerContext.setPropertyWithPii(f,w,S,b)},h.setContextWithCustomerContent=function(f,w,S,b){void 0===b&&(b=u.AWTPropertyType.Unspecified),y.default.logManagerContext.setPropertyWithCustomerContent(f,w,S,b)},h.getLogger=function(f){var w=f;return(!w||w===y.default.defaultTenantToken)&&(w=""),this._loggers[w]||(this._loggers[w]=new _.default(w)),this._loggers[w]},h.addNotificationListener=function(f){m.default.addNotificationListener(f)},h.removeNotificationListener=function(f){m.default.removeNotificationListener(f)},h._overrideValuesFromConfig=function(f){f.collectorUri&&(this._config.collectorUri=f.collectorUri),f.cacheMemorySizeLimitInNumberOfEvents>0&&(this._config.cacheMemorySizeLimitInNumberOfEvents=f.cacheMemorySizeLimitInNumberOfEvents),f.httpXHROverride&&f.httpXHROverride.sendPOST&&(this._config.httpXHROverride=f.httpXHROverride),f.propertyStorageOverride&&f.propertyStorageOverride.getProperty&&f.propertyStorageOverride.setProperty&&(this._config.propertyStorageOverride=f.propertyStorageOverride),f.userAgent&&(this._config.userAgent=f.userAgent),f.disableCookiesUsage&&(this._config.disableCookiesUsage=f.disableCookiesUsage),f.canSendStatEvent&&(this._config.canSendStatEvent=f.canSendStatEvent),f.enableAutoUserSession&&"undefined"!=typeof window&&window.addEventListener&&(this._config.enableAutoUserSession=f.enableAutoUserSession),f.clockSkewRefreshDurationInMins>0&&(this._config.clockSkewRefreshDurationInMins=f.clockSkewRefreshDurationInMins)},h._loggers={},h._isInitialized=!1,h._isDestroyed=!1,h._config={collectorUri:"https://browser.pipe.aria.microsoft.com/Collector/3.0/",cacheMemorySizeLimitInNumberOfEvents:1e4,disableCookiesUsage:!1,canSendStatEvent:function(f){return!0},clockSkewRefreshDurationInMins:0},h}();g.default=v},4189:($,g,c)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var u=c(58),I=c(1009),y=function(){function _(){}return _.logManagerContext=new u.default,_.sessionEnabled=!0,_.loggingEnabled=!1,_.defaultTenantToken="",_.semanticContext=new I.default(!0,_.logManagerContext),_}();g.default=y},6208:($,g,c)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var u=c(676),I=c(5640),y=c(58),_=c(5593),D=c(5816),m=c(2551),C=c(4023),v=c(4189),h=c(8779),f=c(1009),w=c(4094),S=function(){function b(p){this._apiKey=p,this._contextProperties=new y.default,this._semanticContext=new f.default(!1,this._contextProperties),this._sessionStartTime=0,this._createInitId()}return b.prototype.setContext=function(p,T,P){void 0===P&&(P=u.AWTPropertyType.Unspecified),this._contextProperties.setProperty(p,T,P)},b.prototype.setContextWithPii=function(p,T,P,O){void 0===O&&(O=u.AWTPropertyType.Unspecified),this._contextProperties.setPropertyWithPii(p,T,P,O)},b.prototype.setContextWithCustomerContent=function(p,T,P,O){void 0===O&&(O=u.AWTPropertyType.Unspecified),this._contextProperties.setPropertyWithCustomerContent(p,T,P,O)},b.prototype.getSemanticContext=function(){return this._semanticContext},b.prototype.logEvent=function(p){if(v.default.loggingEnabled){this._apiKey||(this._apiKey=v.default.defaultTenantToken,this._createInitId());var T=!0;_.isString(p)?p={name:p}:p instanceof y.default&&(p=p.getEvent(),T=!1),D.default.eventReceived(this._apiKey),b._logEvent(b._getInternalEvent(p,this._apiKey,T),this._contextProperties)}},b.prototype.logSession=function(p,T){if(v.default.sessionEnabled){var P={name:"session",type:"session",properties:{}};if(b._addPropertiesToEvent(P,T),P.priority=u.AWTEventPriority.High,p===I.AWTSessionState.Started){if(this._sessionStartTime>0)return;this._sessionStartTime=(new Date).getTime(),this._sessionId=_.newGuid(),this.setContext("Session.Id",this._sessionId),P.properties["Session.State"]="Started"}else{if(p!==I.AWTSessionState.Ended)return;if(0===this._sessionStartTime)return;var O=Math.floor(((new Date).getTime()-this._sessionStartTime)/1e3);P.properties["Session.Id"]=this._sessionId,P.properties["Session.State"]="Ended",P.properties["Session.Duration"]=O.toString(),P.properties["Session.DurationBucket"]=b._getSessionDurationFromTime(O),this._sessionStartTime=0,this.setContext("Session.Id",null),this._sessionId=void 0}P.properties["Session.FirstLaunchTime"]=w.default.firstLaunchTime,this.logEvent(P)}},b.prototype.getSessionId=function(){return this._sessionId},b.prototype.logFailure=function(p,T,P,O,L){if(p&&T){var W={name:"failure",type:"failure",properties:{}};b._addPropertiesToEvent(W,L),W.properties["Failure.Signature"]=p,W.properties["Failure.Detail"]=T,P&&(W.properties["Failure.Category"]=P),O&&(W.properties["Failure.Id"]=O),W.priority=u.AWTEventPriority.High,this.logEvent(W)}},b.prototype.logPageView=function(p,T,P,O,L,W){if(p&&T){var B={name:"pageview",type:"pageview",properties:{}};b._addPropertiesToEvent(B,W),B.properties["PageView.Id"]=p,B.properties["PageView.Name"]=T,P&&(B.properties["PageView.Category"]=P),O&&(B.properties["PageView.Uri"]=O),L&&(B.properties["PageView.ReferrerUri"]=L),this.logEvent(B)}},b.prototype._createInitId=function(){!b._initIdMap[this._apiKey]&&this._apiKey&&(b._initIdMap[this._apiKey]=_.newGuid())},b._addPropertiesToEvent=function(p,T){if(T)for(var P in T instanceof y.default&&(T=T.getEvent()),T.name&&(p.name=T.name),T.priority&&(p.priority=T.priority),T.properties)T.properties.hasOwnProperty(P)&&(p.properties[P]=T.properties[P])},b._getSessionDurationFromTime=function(p){return p<0?"Undefined":p<=3?"UpTo3Sec":p<=10?"UpTo10Sec":p<=30?"UpTo30Sec":p<=60?"UpTo60Sec":p<=180?"UpTo3Min":p<=600?"UpTo10Min":p<=1800?"UpTo30Min":"Above30Min"},b._logEvent=function(p,T){p.name&&_.isString(p.name)?(p.name=p.name.toLowerCase(),p.name=p.name.replace(_.EventNameDotRegex,"_"),p.type=p.type&&_.isString(p.type)?p.type.toLowerCase():"custom",_.EventNameAndTypeRegex.test(p.name)&&_.EventNameAndTypeRegex.test(p.type)?((!_.isNumber(p.timestamp)||p.timestamp<0)&&(p.timestamp=(new Date).getTime()),p.properties||(p.properties={}),this._addContextIfAbsent(p,T.getPropertyMap()),this._addContextIfAbsent(p,v.default.logManagerContext.getPropertyMap()),this._setDefaultProperty(p,"EventInfo.InitId",this._getInitId(p.apiKey)),this._setDefaultProperty(p,"EventInfo.Sequence",this._getSequenceId(p.apiKey)),this._setDefaultProperty(p,"EventInfo.SdkVersion",h.FullVersionString),this._setDefaultProperty(p,"EventInfo.Name",p.name),this._setDefaultProperty(p,"EventInfo.Time",new Date(p.timestamp).toISOString()),_.isPriority(p.priority)||(p.priority=u.AWTEventPriority.Normal),this._sendEvent(p)):m.default.eventsRejected([p],u.AWTEventsRejectedReason.InvalidEvent)):m.default.eventsRejected([p],u.AWTEventsRejectedReason.InvalidEvent)},b._addContextIfAbsent=function(p,T){if(T)for(var P in T)T.hasOwnProperty(P)&&(p.properties[P]||(p.properties[P]=T[P]))},b._setDefaultProperty=function(p,T,P){p.properties[T]={value:P,pii:u.AWTPiiKind.NotSet,type:u.AWTPropertyType.String}},b._sendEvent=function(p){C.default.sendEvent(p)},b._getInternalEvent=function(p,T,P){if(p.properties=p.properties||{},P)for(var O in p.properties)p.properties.hasOwnProperty(O)&&(p.properties[O]=_.sanitizeProperty(O,p.properties[O]),null===p.properties[O]&&delete p.properties[O]);var L=p;return L.id=_.newGuid(),L.apiKey=T,L},b._getInitId=function(p){return b._initIdMap[p]},b._getSequenceId=function(p){return void 0===b._sequenceIdMap[p]&&(b._sequenceIdMap[p]=0),(++b._sequenceIdMap[p]).toString()},b._sequenceIdMap={},b._initIdMap={},b}();g.default=S},4220:($,g,c)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var u=c(676),I=c(9449),y=c(4023),_=c(2659),D=c(2551),m=c(5593),f=function(){function w(S,b,p,T){this._queueSizeLimit=b,this._isCurrentlyUploadingNow=!1,this._uploadNowQueue=[],this._shouldDropEventsOnPause=!1,this._paused=!1,this._queueSize=0,this._outboundQueue=[],this._inboundQueues={},this._inboundQueues[u.AWTEventPriority.High]=[],this._inboundQueues[u.AWTEventPriority.Normal]=[],this._inboundQueues[u.AWTEventPriority.Low]=[],this._addEmptyQueues(),this._batcher=new _.default(this._outboundQueue,500),this._httpManager=new I.default(this._outboundQueue,S,this,p,T)}return w.prototype.addEvent=function(S){m.isPriority(S.priority)||(S.priority=u.AWTEventPriority.Normal),S.priority===u.AWTEventPriority.Immediate_sync?this._httpManager.sendSynchronousRequest(this._batcher.addEventToBatch(S),S.apiKey):this._queueSize<this._queueSizeLimit||this._dropEventWithPriorityOrLess(S.priority)?this._addEventToProperQueue(S):D.default.eventsDropped([S],u.AWTEventsDroppedReason.QueueFull)},w.prototype.sendEventsForPriorityAndAbove=function(S){this._batchEvents(S),this._httpManager.sendQueuedRequests()},w.prototype.hasEvents=function(){return(this._inboundQueues[u.AWTEventPriority.High][0].length>0||this._inboundQueues[u.AWTEventPriority.Normal][0].length>0||this._inboundQueues[u.AWTEventPriority.Low][0].length>0||this._batcher.hasBatch())&&this._httpManager.hasIdleConnection()},w.prototype.addBackRequest=function(S){if(!this._paused||!this._shouldDropEventsOnPause){for(var b in S)if(S.hasOwnProperty(b))for(var p=0;p<S[b].length;++p)S[b][p].sendAttempt<6?this.addEvent(S[b][p]):D.default.eventsDropped([S[b][p]],u.AWTEventsDroppedReason.MaxRetryLimit);y.default.scheduleTimer()}},w.prototype.teardown=function(){this._paused||(this._batchEvents(u.AWTEventPriority.Low),this._httpManager.teardown())},w.prototype.uploadNow=function(S){var b=this;this._addEmptyQueues(),this._isCurrentlyUploadingNow?this._uploadNowQueue.push(S):(this._isCurrentlyUploadingNow=!0,setTimeout(function(){return b._uploadNow(S)},0))},w.prototype.pauseTransmission=function(){this._paused=!0,this._httpManager.pause(),this._shouldDropEventsOnPause&&(this._queueSize-=this._inboundQueues[u.AWTEventPriority.High][0].length+this._inboundQueues[u.AWTEventPriority.Normal][0].length+this._inboundQueues[u.AWTEventPriority.Low][0].length,this._inboundQueues[u.AWTEventPriority.High][0]=[],this._inboundQueues[u.AWTEventPriority.Normal][0]=[],this._inboundQueues[u.AWTEventPriority.Low][0]=[],this._httpManager.removeQueuedRequests())},w.prototype.resumeTransmission=function(){this._paused=!1,this._httpManager.resume()},w.prototype.shouldDropEventsOnPause=function(S){this._shouldDropEventsOnPause=S},w.prototype._removeFirstQueues=function(){this._inboundQueues[u.AWTEventPriority.High].shift(),this._inboundQueues[u.AWTEventPriority.Normal].shift(),this._inboundQueues[u.AWTEventPriority.Low].shift()},w.prototype._addEmptyQueues=function(){this._inboundQueues[u.AWTEventPriority.High].push([]),this._inboundQueues[u.AWTEventPriority.Normal].push([]),this._inboundQueues[u.AWTEventPriority.Low].push([])},w.prototype._addEventToProperQueue=function(S){(!this._paused||!this._shouldDropEventsOnPause)&&(this._queueSize++,this._inboundQueues[S.priority][this._inboundQueues[S.priority].length-1].push(S))},w.prototype._dropEventWithPriorityOrLess=function(S){for(var b=u.AWTEventPriority.Low;b<=S;){if(this._inboundQueues[b][this._inboundQueues[b].length-1].length>0)return D.default.eventsDropped([this._inboundQueues[b][this._inboundQueues[b].length-1].shift()],u.AWTEventsDroppedReason.QueueFull),!0;b++}return!1},w.prototype._batchEvents=function(S){for(var b=u.AWTEventPriority.High;b>=S;){for(;this._inboundQueues[b][0].length>0;){var p=this._inboundQueues[b][0].pop();this._queueSize--,this._batcher.addEventToBatch(p)}b--}this._batcher.flushBatch()},w.prototype._uploadNow=function(S){var b=this;this.hasEvents()&&this.sendEventsForPriorityAndAbove(u.AWTEventPriority.Low),this._checkOutboundQueueEmptyAndSent(function(){b._removeFirstQueues(),null!=S&&S(),b._uploadNowQueue.length>0?setTimeout(function(){return b._uploadNow(b._uploadNowQueue.shift())},0):(b._isCurrentlyUploadingNow=!1,b.hasEvents()&&y.default.scheduleTimer())})},w.prototype._checkOutboundQueueEmptyAndSent=function(S){var b=this;this._httpManager.isCompletelyIdle()?S():setTimeout(function(){return b._checkOutboundQueueEmptyAndSent(S)},250)},w}();g.default=f},1009:($,g,c)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var u=c(4094),I=c(676),y=c(5640),_="UserInfo.IdType",D=function(){function m(C,v){this._allowDeviceFields=C,this._properties=v}return m.prototype.setAppId=function(C){this._addContext("AppInfo.Id",C)},m.prototype.setAppVersion=function(C){this._addContext("AppInfo.Version",C)},m.prototype.setAppLanguage=function(C){this._addContext("AppInfo.Language",C)},m.prototype.setDeviceId=function(C){this._allowDeviceFields&&(u.default.checkAndSaveDeviceId(C),this._addContext("DeviceInfo.Id",C))},m.prototype.setDeviceOsName=function(C){this._allowDeviceFields&&this._addContext("DeviceInfo.OsName",C)},m.prototype.setDeviceOsVersion=function(C){this._allowDeviceFields&&this._addContext("DeviceInfo.OsVersion",C)},m.prototype.setDeviceBrowserName=function(C){this._allowDeviceFields&&this._addContext("DeviceInfo.BrowserName",C)},m.prototype.setDeviceBrowserVersion=function(C){this._allowDeviceFields&&this._addContext("DeviceInfo.BrowserVersion",C)},m.prototype.setDeviceMake=function(C){this._allowDeviceFields&&this._addContext("DeviceInfo.Make",C)},m.prototype.setDeviceModel=function(C){this._allowDeviceFields&&this._addContext("DeviceInfo.Model",C)},m.prototype.setUserId=function(C,v,h){if(!isNaN(h)&&null!==h&&h>=0&&h<=12)this._addContext(_,h.toString());else{var f=void 0;switch(v){case I.AWTPiiKind.SipAddress:f=y.AWTUserIdType.SipAddress;break;case I.AWTPiiKind.PhoneNumber:f=y.AWTUserIdType.PhoneNumber;break;case I.AWTPiiKind.SmtpAddress:f=y.AWTUserIdType.EmailAddress;break;default:f=y.AWTUserIdType.Unknown}this._addContext(_,f.toString())}if(isNaN(v)||null===v||v===I.AWTPiiKind.NotSet||v>13)switch(h){case y.AWTUserIdType.Skype:v=I.AWTPiiKind.Identity;break;case y.AWTUserIdType.EmailAddress:v=I.AWTPiiKind.SmtpAddress;break;case y.AWTUserIdType.PhoneNumber:v=I.AWTPiiKind.PhoneNumber;break;case y.AWTUserIdType.SipAddress:v=I.AWTPiiKind.SipAddress;break;default:v=I.AWTPiiKind.NotSet}this._addContextWithPii("UserInfo.Id",C,v)},m.prototype.setUserAdvertisingId=function(C){this._addContext("UserInfo.AdvertisingId",C)},m.prototype.setUserTimeZone=function(C){this._addContext("UserInfo.TimeZone",C)},m.prototype.setUserLanguage=function(C){this._addContext("UserInfo.Language",C)},m.prototype._addContext=function(C,v){"string"==typeof v&&this._properties.setProperty(C,v)},m.prototype._addContextWithPii=function(C,v,h){"string"==typeof v&&this._properties.setPropertyWithPii(C,v,h)},m}();g.default=D},2621:($,g,c)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var u=c(4023),I=function(){function y(){}return y.setEventsHandler=function(_){u.default.setEventsHandler(_)},y.getEventsHandler=function(){return u.default.getEventsHandler()},y.scheduleTimer=function(){u.default.scheduleTimer()},y}();g.default=I},4023:($,g,c)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var u=c(1842),I=c(676),y=c(4220),_=c(5816),D=c(58),m=c(7613),C=c(5593),f="awt_stats",w=function(){function S(){}return S.setEventsHandler=function(b){this._eventHandler=b},S.getEventsHandler=function(){return this._eventHandler},S.scheduleTimer=function(){var b=this,p=this._profiles[this._currentProfile][2];this._timeout<0&&p>=0&&!this._paused&&(this._eventHandler.hasEvents()?(0===p&&this._currentBackoffCount>0&&(p=1),this._timeout=setTimeout(function(){return b._batchAndSendEvents()},p*(1<<this._currentBackoffCount)*1e3)):this._timerCount=0)},S.initialize=function(b){var p=this;this._newEventsAllowed=!0,this._config=b,this._eventHandler=new y.default(b.collectorUri,b.cacheMemorySizeLimitInNumberOfEvents,b.httpXHROverride,b.clockSkewRefreshDurationInMins),this._initializeProfiles(),_.default.initialize(function(T,P){if(p._config.canSendStatEvent(f)){var O=new D.default(f);for(var L in O.setEventPriority(I.AWTEventPriority.High),O.setProperty("TenantId",P),T)T.hasOwnProperty(L)&&O.setProperty(L,T[L].toString());m.default.getLogger(C.StatsApiKey).logEvent(O)}})},S.setTransmitProfile=function(b){this._currentProfile!==b&&void 0!==this._profiles[b]&&(this.clearTimeout(),this._currentProfile=b,this.scheduleTimer())},S.loadTransmitProfiles=function(b){for(var p in this._resetTransmitProfiles(),b)if(b.hasOwnProperty(p)){if(3!==b[p].length)continue;for(var T=2;T>=0;--T)if(b[p][T]<0){for(var P=T;P>=0;--P)b[p][P]=-1;break}for(T=2;T>0;--T)b[p][T]>0&&b[p][T-1]>0&&(b[p][T-1]=Math.ceil(b[p][T-1]/b[p][T])*b[p][T]);this._profiles[p]=b[p]}},S.sendEvent=function(b){this._newEventsAllowed&&(this._currentBackoffCount>0&&b.priority===I.AWTEventPriority.Immediate_sync&&(b.priority=I.AWTEventPriority.High),this._eventHandler.addEvent(b),this.scheduleTimer())},S.flush=function(b){var p=(new Date).getTime();!this._paused&&this._lastUploadNowCall+3e4<p&&(this._lastUploadNowCall=p,this._timeout>-1&&(clearTimeout(this._timeout),this._timeout=-1),this._eventHandler.uploadNow(b))},S.pauseTransmission=function(){this._paused||(this.clearTimeout(),this._eventHandler.pauseTransmission(),this._paused=!0)},S.resumeTransmision=function(){this._paused&&(this._paused=!1,this._eventHandler.resumeTransmission(),this.scheduleTimer())},S.flushAndTeardown=function(){_.default.teardown(),this._newEventsAllowed=!1,this.clearTimeout(),this._eventHandler.teardown()},S.backOffTransmission=function(){this._currentBackoffCount<4&&(this._currentBackoffCount++,this.clearTimeout(),this.scheduleTimer())},S.clearBackOff=function(){this._currentBackoffCount>0&&(this._currentBackoffCount=0,this.clearTimeout(),this.scheduleTimer())},S._resetTransmitProfiles=function(){this.clearTimeout(),this._initializeProfiles(),this._currentProfile=u.AWT_REAL_TIME,this.scheduleTimer()},S.clearTimeout=function(){this._timeout>0&&(clearTimeout(this._timeout),this._timeout=-1,this._timerCount=0)},S._batchAndSendEvents=function(){var b=I.AWTEventPriority.High;this._timerCount++,this._timerCount*this._profiles[this._currentProfile][2]===this._profiles[this._currentProfile][0]?(b=I.AWTEventPriority.Low,this._timerCount=0):this._timerCount*this._profiles[this._currentProfile][2]===this._profiles[this._currentProfile][1]&&(b=I.AWTEventPriority.Normal),this._eventHandler.sendEventsForPriorityAndAbove(b),this._timeout=-1,this.scheduleTimer()},S._initializeProfiles=function(){this._profiles={},this._profiles[u.AWT_REAL_TIME]=[4,2,1],this._profiles[u.AWT_NEAR_REAL_TIME]=[12,6,3],this._profiles[u.AWT_BEST_EFFORT]=[36,18,9]},S._newEventsAllowed=!1,S._currentProfile=u.AWT_REAL_TIME,S._timeout=-1,S._currentBackoffCount=0,S._paused=!1,S._timerCount=0,S._lastUploadNowCall=0,S}();g.default=w},5234:($,g,c)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var u=c(676);g.AWTPropertyType=u.AWTPropertyType,g.AWTPiiKind=u.AWTPiiKind,g.AWTEventPriority=u.AWTEventPriority,g.AWTEventsDroppedReason=u.AWTEventsDroppedReason,g.AWTEventsRejectedReason=u.AWTEventsRejectedReason,g.AWTCustomerContentKind=u.AWTCustomerContentKind;var I=c(5640);g.AWTUserIdType=I.AWTUserIdType,g.AWTSessionState=I.AWTSessionState;var y=c(1842);g.AWT_BEST_EFFORT=y.AWT_BEST_EFFORT,g.AWT_NEAR_REAL_TIME=y.AWT_NEAR_REAL_TIME,g.AWT_REAL_TIME=y.AWT_REAL_TIME;var _=c(58);g.AWTEventProperties=_.default;var D=c(6208);g.AWTLogger=D.default;var m=c(7613);g.AWTLogManager=m.default;var C=c(2621);g.AWTTransmissionManager=C.default;var v=c(6064);g.AWTSerializer=v.default;var h=c(1009);g.AWTSemanticContext=h.default,g.AWT_COLLECTOR_URL_UNITED_STATES="https://us.pipe.aria.microsoft.com/Collector/3.0/",g.AWT_COLLECTOR_URL_GERMANY="https://de.pipe.aria.microsoft.com/Collector/3.0/",g.AWT_COLLECTOR_URL_JAPAN="https://jp.pipe.aria.microsoft.com/Collector/3.0/",g.AWT_COLLECTOR_URL_AUSTRALIA="https://au.pipe.aria.microsoft.com/Collector/3.0/",g.AWT_COLLECTOR_URL_EUROPE="https://eu.pipe.aria.microsoft.com/Collector/3.0/",g.AWT_COLLECTOR_URL_USGOV_DOD="https://pf.pipe.aria.microsoft.com/Collector/3.0",g.AWT_COLLECTOR_URL_USGOV_DOJ="https://tb.pipe.aria.microsoft.com/Collector/3.0"},1842:($,g)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.AWT_REAL_TIME="REAL_TIME",g.AWT_NEAR_REAL_TIME="NEAR_REAL_TIME",g.AWT_BEST_EFFORT="BEST_EFFORT"},5640:($,g)=>{"use strict";var I;Object.defineProperty(g,"__esModule",{value:!0}),(I=g.AWTUserIdType||(g.AWTUserIdType={}))[I.Unknown=0]="Unknown",I[I.MSACID=1]="MSACID",I[I.MSAPUID=2]="MSAPUID",I[I.ANID=3]="ANID",I[I.OrgIdCID=4]="OrgIdCID",I[I.OrgIdPUID=5]="OrgIdPUID",I[I.UserObjectId=6]="UserObjectId",I[I.Skype=7]="Skype",I[I.Yammer=8]="Yammer",I[I.EmailAddress=9]="EmailAddress",I[I.PhoneNumber=10]="PhoneNumber",I[I.SipAddress=11]="SipAddress",I[I.MUID=12]="MUID",function(I){I[I.Started=0]="Started",I[I.Ended=1]="Ended"}(g.AWTSessionState||(g.AWTSessionState={}))},8779:($,g)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.Version="1.8.7",g.FullVersionString="AWT-Web-JS-"+g.Version},5436:($,g,c)=>{"use strict";g.Mg=void 0;c(3762),c(6194);var _=c(7626);g.Mg=_.default,c(448),c(2900),c(3372),c(4352);c(9425)},2235:function($,g,c){"use strict";var u=this&&this.__assign||function(){return(u=Object.assign||function(h){for(var f,w=1,S=arguments.length;w<S;w++)for(var b in f=arguments[w])Object.prototype.hasOwnProperty.call(f,b)&&(h[b]=f[b]);return h}).apply(this,arguments)};Object.defineProperty(g,"__esModule",{value:!0});var I=c(4151),y=c(676),_=c(5234),D=c(7095),m=c(3037),C=c(4151),v=function(){function h(){}return h.initialize=function(f){this._debug&&console.log("[AriaTelemetry][logger][initialize][custom]"),h._logger=_.AWTLogManager.initialize(f)},h.setDebug=function(f){h._debug=f},h.disable=function(){this._debug&&console.log("[AriaTelemetry][disable]"),h._disable=!0},h.setCDNPackages=function(f){h._CDNPackagesInfo=u(u({},h._CDNPackagesInfo),f)},h.info=function(f,w){void 0===w&&(w=m.default.EVENTS);var S={name:m.default.EVENTS,properties:u(u(u(u({},h.populateBaseProperties()),h.fillMobilePlatformData()),f),{LogLevel:D.default.INFO}),priority:y.AWTEventPriority.High};w==m.default.IC3CLIENT&&(S={name:m.default.IC3CLIENT,properties:u(u(u({},h.populateIC3ClientBaseProperties()),f),{LogLevel:D.default.INFO}),priority:y.AWTEventPriority.High}),w==m.default.OCSDK&&(S={name:m.default.OCSDK,properties:u(u(u({},h.populateOCSDKBaseProperties()),f),{LogLevel:D.default.INFO}),priority:y.AWTEventPriority.High}),this._debug&&console.log("[AriaTelemetry][info] "+w),this._debug&&console.log(S),this._debug&&console.log(S.properties.Event),!h._disable&&h.logger.logEvent(S)},h.debug=function(f,w){void 0===w&&(w=m.default.EVENTS);var S={name:m.default.EVENTS,properties:u(u(u(u({},h.populateBaseProperties()),h.fillMobilePlatformData()),f),{LogLevel:D.default.DEBUG}),priority:y.AWTEventPriority.High};w==m.default.IC3CLIENT&&(S={name:m.default.IC3CLIENT,properties:u(u(u({},h.populateIC3ClientBaseProperties()),f),{LogLevel:D.default.DEBUG}),priority:y.AWTEventPriority.High}),w==m.default.OCSDK&&(S={name:m.default.OCSDK,properties:u(u(u({},h.populateOCSDKBaseProperties()),f),{LogLevel:D.default.DEBUG}),priority:y.AWTEventPriority.High}),this._debug&&console.log("[AriaTelemetry][debug] "+w),this._debug&&console.log(S),this._debug&&console.log(S.properties.Event),!h._disable&&h.logger.logEvent(S)},h.warn=function(f,w){void 0===w&&(w=m.default.EVENTS);var S={name:m.default.EVENTS,properties:u(u(u(u({},h.populateBaseProperties()),h.fillMobilePlatformData()),f),{LogLevel:D.default.WARN}),priority:y.AWTEventPriority.High};w==m.default.IC3CLIENT&&(S={name:m.default.IC3CLIENT,properties:u(u(u({},h.populateIC3ClientBaseProperties()),f),{LogLevel:D.default.WARN}),priority:y.AWTEventPriority.High}),w==m.default.OCSDK&&(S={name:m.default.OCSDK,properties:u(u(u({},h.populateOCSDKBaseProperties()),f),{LogLevel:D.default.WARN}),priority:y.AWTEventPriority.High}),this._debug&&console.log("[AriaTelemetry][warn] "+w),this._debug&&console.log(S),this._debug&&console.log(S.properties.Event),!h._disable&&h.logger.logEvent(S)},h.error=function(f,w){void 0===w&&(w=m.default.EVENTS);var S={name:m.default.EVENTS,properties:u(u(u(u({},h.populateBaseProperties()),h.fillMobilePlatformData()),f),{LogLevel:D.default.ERROR}),priority:y.AWTEventPriority.High};w==m.default.IC3CLIENT&&(S={name:m.default.IC3CLIENT,properties:u(u(u({},h.populateIC3ClientBaseProperties()),f),{LogLevel:D.default.ERROR}),priority:y.AWTEventPriority.High}),w==m.default.OCSDK&&(S={name:m.default.OCSDK,properties:u(u(u({},h.populateOCSDKBaseProperties()),f),{LogLevel:D.default.ERROR}),priority:y.AWTEventPriority.High}),this._debug&&console.log("[AriaTelemetry][error] "+w),this._debug&&console.log(S),this._debug&&console.log(S.properties.Event),!h._disable&&h.logger.logEvent(S)},h.log=function(f,w){void 0===w&&(w=m.default.EVENTS);var S={name:m.default.EVENTS,properties:u(u(u(u({},h.populateBaseProperties()),h.fillMobilePlatformData()),f),{LogLevel:D.default.LOG}),priority:y.AWTEventPriority.High};w==m.default.IC3CLIENT&&(S={name:m.default.IC3CLIENT,properties:u(u(u({},h.populateIC3ClientBaseProperties()),f),{LogLevel:D.default.LOG}),priority:y.AWTEventPriority.High}),w==m.default.OCSDK&&(S={name:m.default.OCSDK,properties:u(u(u({},h.populateOCSDKBaseProperties()),f),{LogLevel:D.default.LOG}),priority:y.AWTEventPriority.High}),this._debug&&console.log("[AriaTelemetry][log]"),this._debug&&console.log(S),this._debug&&console.log(S.properties.Event),!h._disable&&h.logger.logEvent(S)},Object.defineProperty(h,"logger",{get:function(){return h._logger||(this._debug&&console.log("[AriaTelemetry][logger][initialize]"),h._logger=_.AWTLogManager.initialize(I.ariaTelemetryKey)),h._logger},enumerable:!1,configurable:!0}),h.populateBaseProperties=function(){var f={OCSDK:c(1528).i8,IC3Core:c(5233).i8};return{OrgId:"",OrgUrl:"",WidgetId:"",RequestId:"",ChatId:"",CallId:"",ExceptionDetails:"",ElapsedTimeInMilliseconds:"",ChatSDKVersion:c(8464).i8,NPMPackagesInfo:JSON.stringify(f),CDNPackagesInfo:JSON.stringify(h._CDNPackagesInfo)}},h.fillMobilePlatformData=function(){var f={};try{var S=c(Object(function(){var p=new Error("Cannot find module 'react-native'");throw p.code="MODULE_NOT_FOUND",p}())).Platform;f.DeviceInfo_OsVersion=S.Version,f.DeviceInfo_OsName="android"===S.OS?"Android":"ios"===S.OS?"iOS":""+S.OS,this._debug&&console.log("[AriaTelemetry][fillMobilePlatformData]["+f.DeviceInfo_OsName+"]")}catch(b){this._debug&&console.log("[AriaTelemetry][fillMobilePlatformData][Web]")}return f},h.populateIC3ClientBaseProperties=function(){return{OrgId:"",OrgUrl:"",WidgetId:"",RequestId:"",ChatId:"",Event:"",Description:"",SubscriptionId:"",EndpointId:"",EndpointUrl:"",ErrorCode:"",ExceptionDetails:"",ElapsedTimeInMilliseconds:"",IC3ClientVersion:C.ic3ClientVersion}},h.populateOCSDKBaseProperties=function(){return{OrgId:"",OrgUrl:"",WidgetId:"",RequestId:"",ChatId:"",TransactionId:"",Event:"",ExceptionDetails:"",ElapsedTimeInMilliseconds:"",OCSDKVersion:c(1528).i8}},h._debug=!1,h._disable=!1,h}();g.default=v},7095:($,g)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var c=(()=>{return(u=c||(c={})).INFO="INFO",u.DEBUG="DEBUG",u.WARN="WARN",u.ERROR="ERROR",u.LOG="LOG",c;var u})();g.default=c},1247:function($,g,c){"use strict";var u=this&&this.__assign||function(){return(u=Object.assign||function(D){for(var m,C=1,v=arguments.length;C<v;C++)for(var h in m=arguments[C])Object.prototype.hasOwnProperty.call(m,h)&&(D[h]=m[h]);return D}).apply(this,arguments)};Object.defineProperty(g,"__esModule",{value:!0});var I=c(8485),y=c(9600),_=function(){function D(m){this.omnichannelConfig=m,this.telemetry=null,this.debug=!1,this.telemetryEvents=new Map}return D.prototype.setDebug=function(m){var C;this.debug=m,null===(C=this.telemetry)||void 0===C||C.setDebug(m)},D.prototype.useTelemetry=function(m){this.debug&&console.log("[ScenarioMarker][useTelemetry]"),this.telemetry=m},D.prototype.startScenario=function(m,C){var v;if(void 0===C&&(C={}),this.debug&&console.log("[ScenarioMarker][startScenario]"),!this.telemetryEvents.has(m)){var h=new I.default;h.start(),this.telemetryEvents.set(m,h)}var f=u({Event:y.startEvent(m),OrgId:this.omnichannelConfig.orgId,OrgUrl:this.omnichannelConfig.orgUrl,WidgetId:this.omnichannelConfig.widgetId},C);null===(v=this.telemetry)||void 0===v||v.info(f)},D.prototype.failScenario=function(m,C){var v;if(void 0===C&&(C={}),this.debug&&console.log("[ScenarioMarker][failScenario]"),this.telemetryEvents.has(m)){var h=this.telemetryEvents.get(m);this.telemetryEvents.delete(m);var f=u({Event:y.failEvent(m),OrgId:this.omnichannelConfig.orgId,OrgUrl:this.omnichannelConfig.orgUrl,WidgetId:this.omnichannelConfig.widgetId,ElapsedTimeInMilliseconds:h.stop()},C);null===(v=this.telemetry)||void 0===v||v.error(f)}else console.warn("'"+m+"' event has not started.")},D.prototype.completeScenario=function(m,C){var v;if(void 0===C&&(C={}),this.debug&&console.log("[ScenarioMarker][completeScenario]"),this.telemetryEvents.has(m)){var h=this.telemetryEvents.get(m);this.telemetryEvents.delete(m);var f=u({Event:y.completeEvent(m),OrgId:this.omnichannelConfig.orgId,OrgUrl:this.omnichannelConfig.orgUrl,WidgetId:this.omnichannelConfig.widgetId,ElapsedTimeInMilliseconds:h.stop()},C);null===(v=this.telemetry)||void 0===v||v.info(f)}else console.warn("'"+m+"' event has not started.")},D}();g.default=_},3037:($,g)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var c=(()=>{return(u=c||(c={})).EVENTS="occhatsdk_events",u.IC3CLIENT="occhatsdk_ic3clientevents",u.OCSDK="occhatsdk_ocsdkevents",u.UNDEFINED="undefined",c;var u})();g.default=c},8485:($,g)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var c=function(){function u(){}return u.prototype.start=function(){this.timeStart=(new Date).getTime()},u.prototype.stop=function(){return(new Date).getTime()-this.timeStart},u}();g.default=c},9600:($,g)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.failEvent=g.completeEvent=g.startEvent=void 0;var c=(()=>{return(u=c||(c={})).ValidateOmnichannelConfig="ValidateOmnichannelConfig",u.ValidateSDKConfig="ValidateSDKConfig",u.InitializeChatSDK="InitializeChatSDK",u.StartChat="StartChat",u.EndChat="EndChat",u.GetLiveChatConfig="GetLiveChatConfig",u.GetChatToken="GetChatToken",u.GetConversationDetails="GetConversationDetails",u.SendTypingEvent="SendTypingEvent",u.OnAgentEndSession="OnAgentEndSession",u.UploadFileAttachment="UploadFileAttachment",u.DownloadFileAttachment="DownloadFileAttachment",u.EmailLiveChatTranscript="EmailLiveChatTranscript",u.GetLiveChatTranscript="GetLiveChatTranscript",u.CreateIC3Adapter="CreateChatAdapter",u.CreateACSAdapter="CreateACSAdapter",u.GetVoiceVideoCalling="GetVoiceVideoCalling",u.GetIC3Client="GetIC3Client",u.InitializeVoiceVideoCallingSDK="InitializeVoiceVideoCallingSDK",u.AcceptVoiceCall="AcceptVoiceCall",u.AcceptVideoCall="AcceptVideoCall",u.RejectCall="RejectCall",u.StopCall="StopCall",u.OnCallDisconnected="OnCallDisconnected",u.UpdateChatToken="UpdateChatToken",u.GetChatReconnectContext="GetChatReconnectContext",c;var u})();g.startEvent=function(u){return u+"Started"},g.completeEvent=function(u){return u+"Completed"},g.failEvent=function(u){return u+"Failed"},g.default=c},6345:function($,g){"use strict";var c=this&&this.__awaiter||function(y,_,D,m){return new(D||(D=Promise))(function(v,h){function f(b){try{S(m.next(b))}catch(p){h(p)}}function w(b){try{S(m.throw(b))}catch(p){h(p)}}function S(b){b.done?v(b.value):function(v){return v instanceof D?v:new D(function(h){h(v)})}(b.value).then(f,w)}S((m=m.apply(y,_||[])).next())})},u=this&&this.__generator||function(y,_){var m,C,v,h,D={label:0,sent:function(){if(1&v[0])throw v[1];return v[1]},trys:[],ops:[]};return h={next:f(0),throw:f(1),return:f(2)},"function"==typeof Symbol&&(h[Symbol.iterator]=function(){return this}),h;function f(S){return function(b){return function(S){if(m)throw new TypeError("Generator is already executing.");for(;D;)try{if(m=1,C&&(v=2&S[0]?C.return:S[0]?C.throw||((v=C.return)&&v.call(C),0):C.next)&&!(v=v.call(C,S[1])).done)return v;switch(C=0,v&&(S=[2&S[0],v.value]),S[0]){case 0:case 1:v=S;break;case 4:return D.label++,{value:S[1],done:!1};case 5:D.label++,C=S[1],S=[0];continue;case 7:S=D.ops.pop(),D.trys.pop();continue;default:if(!(v=(v=D.trys).length>0&&v[v.length-1])&&(6===S[0]||2===S[0])){D=0;continue}if(3===S[0]&&(!v||S[1]>v[0]&&S[1]<v[3])){D.label=S[1];break}if(6===S[0]&&D.label<v[1]){D.label=v[1],v=S;break}if(v&&D.label<v[2]){D.label=v[2],D.ops.push(S);break}v[2]&&D.ops.pop(),D.trys.pop();continue}S=_.call(y,D)}catch(b){S=[6,b],C=0}finally{m=v=0}if(5&S[0])throw S[1];return{value:S[0]?S[1]:void 0,done:!0}}([S,b])}}};Object.defineProperty(g,"__esModule",{value:!0}),g.loadScript=void 0;var I=function(y,_,D){return void 0===_&&(_=function(){}),void 0===D&&(D=function(){}),c(void 0,void 0,void 0,function(){return u(this,function(m){return[2,new Promise(function(C,v){return c(void 0,void 0,void 0,function(){var w;return u(this,function(S){switch(S.label){case 0:return Array.from(document.getElementsByTagName("script")).filter(function(b){return b.src==y}).length?[4,_()]:[3,2];case 1:return S.sent(),[2,C()];case 2:return(w=document.createElement("script")).setAttribute("src",y),w.setAttribute("type","text/javascript"),document.head.appendChild(w),w.addEventListener("load",function(){return c(void 0,void 0,void 0,function(){return u(this,function(b){switch(b.label){case 0:return[4,_()];case 1:return b.sent(),C(),[2]}})})}),w.addEventListener("error",function(){return c(void 0,void 0,void 0,function(){return u(this,function(b){switch(b.label){case 0:return[4,D()];case 1:return b.sent(),v(),[2]}})})}),[2]}})})})]})})};g.loadScript=I,g.default={loadScript:I}},838:($,g,c)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var u=c(2235);g.default=function(y){return void 0===y&&(y=!1),u.default.setDebug(y),u.default}},1775:($,g,c)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.getIC3AdapterCDNUrl=g.getIC3ClientCDNUrl=void 0;var u=c(4151),I=function(_){return void 0===_&&(_=u.ic3ClientVersion),"https://comms.omnichannelengagementhub.com/release/"+_+"/Scripts/SDK/SDK.min.js"};g.getIC3ClientCDNUrl=I;var y=function(_){return void 0===_&&(_=u.webChatIC3AdapterVersion),"https://webchatic3.blob.core.windows.net/webchat-ic3adapter/"+_+"/botframework-webchat-adapter-ic3.production.min.js"};g.getIC3AdapterCDNUrl=y,g.default={getIC3ClientCDNUrl:I,getIC3AdapterCDNUrl:y}},2811:function($,g,c){"use strict";var u=this&&this.__assign||function(){return(u=Object.assign||function(m){for(var C,v=1,h=arguments.length;v<h;v++)for(var f in C=arguments[v])Object.prototype.hasOwnProperty.call(C,f)&&(m[f]=C[f]);return m}).apply(this,arguments)};Object.defineProperty(g,"__esModule",{value:!0}),g.createOCSDKLogger=g.createIC3ClientLogger=g.OCSDKLogger=g.IC3ClientLogger=void 0;var I=c(752),y=c(3037),_=function(){function m(C){this.omnichannelConfig=C,this.debug=!1,this.requestId="",this.chatId="",this.telemetry=null,this.debug=!1}return m.prototype.setDebug=function(C){this.debug=C},m.prototype.setRequestId=function(C){this.requestId=C},m.prototype.setChatId=function(C){this.chatId=C},m.prototype.useTelemetry=function(C){this.debug&&console.log("[IC3ClientLogger][useTelemetry]"),this.telemetry=C},m.prototype.logClientSdkTelemetryEvent=function(C,v){var h,f,w,S;this.debug&&console.log("[IC3ClientLogger][logClientSdkTelemetryEvent]["+C+"]"),this.debug&&console.log(v);var b={OrgId:this.omnichannelConfig.orgId,OrgUrl:this.omnichannelConfig.orgUrl,WidgetId:this.omnichannelConfig.widgetId,RequestId:this.requestId,ChatId:this.chatId},p=u(u({},v),{ExceptionDetails:v.ExceptionDetails?JSON.stringify(v.ExceptionDetails):""});switch(C){case I.default.DEBUG:null===(h=this.telemetry)||void 0===h||h.debug(u(u({},b),p),y.default.IC3CLIENT);break;case I.default.WARN:null===(f=this.telemetry)||void 0===f||f.warn(u(u({},b),p),y.default.IC3CLIENT);break;case I.default.ERROR:null===(w=this.telemetry)||void 0===w||w.error(u(u({},b),p),y.default.IC3CLIENT);break;case I.default.INFO:default:null===(S=this.telemetry)||void 0===S||S.info(u(u({},b),p),y.default.IC3CLIENT)}},m}();g.IC3ClientLogger=_;var D=function(){function m(C){this.omnichannelConfig=C,this.debug=!1,this.requestId="",this.chatId="",this.telemetry=null,this.debug=!1}return m.prototype.setDebug=function(C){this.debug=C},m.prototype.setRequestId=function(C){this.requestId=C},m.prototype.setChatId=function(C){this.chatId=C},m.prototype.useTelemetry=function(C){this.debug&&console.log("[OCSDKLogger][useTelemetry]"),this.telemetry=C},m.prototype.logClientSdkTelemetryEvent=function(C,v){var h,f,w,S;this.debug&&console.log("[OCSDKLogger][logClientSdkTelemetryEvent]["+C+"]"),this.debug&&console.log(v);var b={OrgId:this.omnichannelConfig.orgId,OrgUrl:this.omnichannelConfig.orgUrl,WidgetId:this.omnichannelConfig.widgetId,RequestId:this.requestId,ChatId:this.chatId},p=u(u({},v),{ExceptionDetails:v.ExceptionDetails?JSON.stringify(v.ExceptionDetails):""});switch(C){case I.default.DEBUG:null===(h=this.telemetry)||void 0===h||h.debug(u(u({},b),p),y.default.OCSDK);break;case I.default.WARN:null===(f=this.telemetry)||void 0===f||f.warn(u(u({},b),p),y.default.OCSDK);break;case I.default.ERROR:null===(w=this.telemetry)||void 0===w||w.error(u(u({},b),p),y.default.OCSDK);break;case I.default.INFO:default:null===(S=this.telemetry)||void 0===S||S.info(u(u({},b),p),y.default.OCSDK)}},m}();g.OCSDKLogger=D,g.createIC3ClientLogger=function(m,C){void 0===C&&(C=!1);var v=new _(m);return v.setDebug(C),v},g.createOCSDKLogger=function(m,C){void 0===C&&(C=!1);var v=new D(m);return v.setDebug(C),v}},8098:($,g)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.isReactNative=g.isNode=g.isBrowser=void 0,g.isBrowser=function(){return"undefined"!=typeof window&&void 0!==window.document},g.isNode=function(){return"undefined"!=typeof process&&null!=process.versions&&null!=process.versions.node},g.isReactNative=function(){return"undefined"!=typeof navigator&&"ReactNative"==navigator.product},g.default={isBrowser:g.isBrowser,isNode:g.isNode,isReactNative:g.isReactNative}},9425:($,g,c)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.isCustomerMessage=g.isSystemMessage=void 0;var u=c(3372);g.isSystemMessage=function(I){return I.messageType===u.default.UserMessage&&I.properties.tags.includes("system")},g.isCustomerMessage=function(I){return I.sender.id.includes("contacts/8:")}},7616:($,g)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var c=["orgUrl","orgId","widgetId"];g.default=function(I){if(!I)throw new Error("OmnichannelConfiguration not found");for(var y=Object.keys(I),_=0,D=c;_<D.length;_++){var m=D[_];if(!y.includes(m))throw new Error("Missing '"+m+"' in OmnichannelConfiguration")}}},641:($,g,c)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.defaultChatSDKConfig=void 0;var I={dataMasking:{disable:!1,maskingCharacter:"#"},telemetry:{disable:!1,ariaTelemetryKey:c(4151).ariaTelemetryKey},persistentChat:{disable:!0,tokenUpdateTime:216e5},chatReconnect:{disable:!0}};g.defaultChatSDKConfig=I,g.default=function(m){m.dataMasking&&function(m){"boolean"!=typeof m.disable&&(m.disable=I.dataMasking.disable),("string"!=typeof m.maskingCharacter||1!==m.maskingCharacter.length)&&(m.maskingCharacter=I.dataMasking.maskingCharacter)}(m.dataMasking),m.persistentChat&&function(m){("number"!=typeof m.tokenUpdateTime||!m.tokenUpdateTime)&&(m.tokenUpdateTime=I.persistentChat.tokenUpdateTime)}(m.persistentChat)}},5145:($,g)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var c=function(){function u(){}return u.read="read",u}();g.default=c},3865:function($,g,c){"use strict";var u=this&&this.__awaiter||function(b,p,T,P){return new(T||(T=Promise))(function(L,W){function B(K){try{V(P.next(K))}catch(q){W(q)}}function F(K){try{V(P.throw(K))}catch(q){W(q)}}function V(K){K.done?L(K.value):function(L){return L instanceof T?L:new T(function(W){W(L)})}(K.value).then(B,F)}V((P=P.apply(b,p||[])).next())})},I=this&&this.__generator||function(b,p){var P,O,L,W,T={label:0,sent:function(){if(1&L[0])throw L[1];return L[1]},trys:[],ops:[]};return W={next:B(0),throw:B(1),return:B(2)},"function"==typeof Symbol&&(W[Symbol.iterator]=function(){return this}),W;function B(V){return function(K){return function(V){if(P)throw new TypeError("Generator is already executing.");for(;T;)try{if(P=1,O&&(L=2&V[0]?O.return:V[0]?O.throw||((L=O.return)&&L.call(O),0):O.next)&&!(L=L.call(O,V[1])).done)return L;switch(O=0,L&&(V=[2&V[0],L.value]),V[0]){case 0:case 1:L=V;break;case 4:return T.label++,{value:V[1],done:!1};case 5:T.label++,O=V[1],V=[0];continue;case 7:V=T.ops.pop(),T.trys.pop();continue;default:if(!(L=(L=T.trys).length>0&&L[L.length-1])&&(6===V[0]||2===V[0])){T=0;continue}if(3===V[0]&&(!L||V[1]>L[0]&&V[1]<L[3])){T.label=V[1];break}if(6===V[0]&&T.label<L[1]){T.label=L[1],L=V;break}if(L&&T.label<L[2]){T.label=L[2],T.ops.push(V);break}L[2]&&T.ops.pop(),T.trys.pop();continue}V=p.call(b,T)}catch(K){V=[6,K],O=0}finally{P=L=0}if(5&V[0])throw V[1];return{value:V[0]?V[1]:void 0,done:!0}}([V,K])}}};Object.defineProperty(g,"__esModule",{value:!0});var y=c(501),_=c(6849),D=c(5874),m=c(2915),C=c(1927),v=c(6648),h=c(5145),f=c(6355),w=c(8636),S=function(){function b(){}return b.getDocumentTypeFromContentType=function(p){return w.default.isDocumentTypeImage(p)?y.default.DocumentTypeImage:y.default.DocumentTypeFile},b.createNewDocument=function(p,T,P){return u(this,void 0,void 0,function(){var L,W,B,F,V;return I(this,function(K){return(V={})[p]=[h.default[h.default.read]],L={filename:T.name,permissions:V,type:b.getDocumentTypeFromContentType(T.type)},W=C.default.getAmsObjectsUrl(P.RegionGtms),(B=v.default.getDefaultAMSHeaders(P.SkypeToken))[_.default.ContentTypeHeader]=y.default.ContentTypeJson,F={data:JSON.stringify(L),headers:B,type:D.default.POST,url:W},[2,m.HttpClient.MakeRequest(F)]})})},b.uploadDocument=function(p,T,P){return u(this,void 0,void 0,function(){var O,L,W;return I(this,function(F){return console.log("AmsHelper.ts uploadDocument(): "+p+", "+T+", "+P),O=w.default.isDocumentTypeImage(T.type),L=C.default.getAmsObjectContentUrl(p,P.RegionGtms,O),W=v.default.getDefaultAMSHeaders(P.SkypeToken),[2,m.HttpClient.MakeRequest({data:T.data,headers:W,processData:!1,type:D.default.PUT,url:L})]})})},b.getFileStatus=function(p,T){console.log("AmsHelper.ts getFileStatus(): "+p+", "+T);var P=w.default.isImageType(p.type),O=C.default.getAmsStatusUrl(p.id,T.RegionGtms,P);return this.getViewStatus(O,T).then(function(L){return L.scan&&L.scan.status===y.default.Malware?f.default.Error:L.view_state===y.default.Ready?f.default.Success:L.scan&&L.scan.status===y.default.InProgress||L.view_state&&L.view_state!==y.default.Failed?f.default.InProgress:f.default.Error}).catch(function(){return Promise.reject({})})},b.downloadDocument=function(p,T){var P=this;console.log("AmsHelper.ts downloadDocument(): "+p+", "+T);var O=w.default.isImageType(p.type),L=C.default.getAmsStatusUrl(p.id,T.RegionGtms,O);return new Promise(function(W){P.getViewUri(L,T).then(function(B){var F=new Headers;return F.append("Authorization","skype_token "+T.SkypeToken),F.append("X-MS-Client-Version",y.default.ClientVersion),O&&(F.append("accept",y.default.AMSAcceptHeaderValue),F.append("Accept-Encoding",y.default.AMSAcceptEncodingHeaderValue)),fetch(B,{headers:F,method:D.default.GET}).then(function(K){W(K.blob())}).catch(function(){return Promise.reject({})})})})},b.getViewUri=function(p,T){var P=this;return console.log("AmsHelper.ts getViewUri(): "+p+", "+T),this.getViewStatus(p,T).then(function(O){return!O.view_location||O.view_state===y.default.Failed||O.scan&&O.scan.status===y.default.Malware?Promise.reject({}):O.view_state&&O.view_state!==y.default.Ready?P.getViewUri(p,T):O.content_state===y.default.Expired?Promise.reject({}):Promise.resolve(O.view_location)}).catch(function(){return Promise.reject("")})},b.getViewStatus=function(p,T){var P=this;return console.log("AmsHelper.ts getViewStatus(): "+p+", "+T),new Promise(function(O){setTimeout(O,y.default.DelayForAms)}).then(function(){var O=v.default.getDefaultAMSViewHeaders(T.SkypeToken);return m.HttpClient.MakeRequest({headers:O,type:D.default.GET,url:p}).then(function(W){return W.status_location&&!W.view_state?P.getViewStatus(W.status_location,T):Promise.resolve(W)}).catch(function(W){return Promise.reject(401===W.status||403===W.status?"unauthorized":{})})})},b}();g.default=S},501:($,g)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var c=function(){function u(){}return u.NewMessageEvent="NewMessage",u.MessageUpdateEvent="MessageUpdate",u.ThreadUpdateEvent="ThreadUpdate",u.ConversationUpdateEvent="ConversationUpdate",u.HttpLongPoll="HttpLongPoll",u.ContentTypeJson="application/json",u.ContentTypeTextPlain="text/plain;charset=UTF-8",u.ContentTypeForm="application/x-www-form-urlencoded",u.RedirectAs404="redirectAs404",u.NoCache="no-cache",u.User="user",u.Web="web",u.ClientInfoValue="os=Windows; osVer=10; proc=Win32; lcid=en-us; deviceType=1; country=IN; clientName=swc; clientVer=912/0.106.0.34//swc",u.TextPlainMimeType="text/plain",u.SwcName="SWC",u.Image="image",u.ClientVersion="937/0.123.0.9",u.DelayForAms=50,u.Reset_Flag="reset_ic3_needed",u.Malware="malware",u.Ready="ready",u.InProgress="in progress",u.Failed="failed",u.Expired="expired",u.ImageView="imgpsh_fullsize_anim",u.FileView="original",u.DocumentTypeImage="pish/image",u.DocumentTypeFile="sharing/file",u.ImageContent="imgpsh",u.FileContent="original",u.AMSAcceptHeaderValue="image/webp,image/ *,*/*;q=0.8",u.AMSAcceptEncodingHeaderValue="gzip, deflate, sdch, br",u.AMSAuthorizationSkypeTokenValue="skype_token ",u.stabilizePollMaxRetryCount=50,u.timeBetweenStabilizingPoll=1e3,u.retryCount=2,u.retry404Count=3,u.retryOtherCount=3,u.liveStateRetryCount=3,u.timeBetweenOperationRetry=1e3,u.heartBeatDuration=3e4,u.endpointRequestLog="Endpoint request",u.subscriptionRequestLog="Subscription request",u.setPropertiesRequestLog="Set message properties request",u.unsubscribeRequestLog="Unsubscribe from endpoint request",u.pollRequestLog="Polling",u.oldInitializer="Old initializer",u.newInitializer="New Initializer",u.skypeTokenAuthURL="/v1/skypetokenauth",u.skypeTokenConstantForData="skypetoken=",u}();g.default=c},1927:($,g,c)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var u=c(501),I=c(6849),y=c(909),_=function(){function D(){}return D.getV2EndpointUrl=function(m,C){return C.chatService+"/v2/users/ME/endpoints/"+m},D.getThreadUrl=function(m,C){return C.chatService+"/v1/threads/"+m+"?view=msnp24Equivalent"},D.getMessagesUrl=function(m,C){return C.chatService+"/v1/users/ME/conversations/"+m+"/messages"},D.getBotMessagesUrl=function(m,C){return C.chatService+"/v1/agents/"+m+"/invoke"},D.getAmsObjectsUrl=function(m){return y.default.sanitizeUrlWithBackSlash(m.ams)+"v1/objects"},D.getAmsObjectContentUrl=function(m,C,v){void 0===v&&(v=!1);var h=v?u.default.ImageContent:u.default.FileContent;return y.default.sanitizeUrlWithBackSlash(C.ams)+"v1/objects/"+m+"/content/"+h},D.getAmsObjectViewUrl=function(m,C,v){void 0===v&&(v=!1);var h=v?u.default.ImageView:u.default.FileView;return y.default.sanitizeUrlWithBackSlash(C.ams)+"v1/objects/"+m+"/views/"+h},D.getAmsStatusUrl=function(m,C,v){void 0===v&&(v=!1);var h=v?u.default.ImageView:u.default.FileView;return y.default.sanitizeUrlWithBackSlash(C.ams)+"v1/objects/"+m+"/views/"+h+"/status"},D.getV1EndpointUrl=function(m){return m.chatService+"/v1/users/ME/endpoints"},D.getV1DeleteEndpointUrl=function(m,C){return m.chatService+"/v1/users/ME/endpoints/"+C},D.getV1SubscriptionUrl=function(m){return m.chatService+"/v1/users/ME/endpoints/SELF/subscriptions"},D.getV1PollUrl=function(m,C){return m.chatService+"/v1/users/ME/endpoints/SELF/subscriptions/"+C+"/poll"},D.getV1SetPropertiesUrl=function(m){return m.chatService+"/v1/users/ME/endpoints/SELF/properties?name="+I.default.SetEndpointProperty},D}();g.default=_},8636:function($,g,c){"use strict";var u=this&&this.__assign||function(){return(u=Object.assign||function(p){for(var T,P=1,O=arguments.length;P<O;P++)for(var L in T=arguments[P])Object.prototype.hasOwnProperty.call(T,L)&&(p[L]=T[L]);return p}).apply(this,arguments)};Object.defineProperty(g,"__esModule",{value:!0});var I=c(501),y=c(2900),_=c(4694),D=c(9306),m=c(448),C=c(3207),v=c(3372),h=c(4352),f=c(1927),w=c(7708),S=c(909),b=function(){function p(){}return p.createMessageData=function(T){var O=T.content,L=p.createBaseMessageData(T.contentType===m.default.Text?C.default.Text:C.default.RichTextHtml,T.contentType.toString(),O);return L.properties=this.getMessageProperties(T),S.default.isNullOrUndefined(T.sender.displayName)||(L.imdisplayname=T.sender.displayName),L},p.createBaseMessageData=function(T,P,O){return{"Has-Mentions":"false",clientmessageid:Date.now().toString(),composetime:(new Date).toISOString(),content:O,contenttype:P,messagetype:T}},p.getMessageProperties=function(T){var P={};if(P.deliveryMode=T.deliveryMode.toString(),T.tags){var O=[];T.tags.forEach(function(L){O.push(L)}),P.tags=O.join()}return P},p.createTypingStatusThreadMessageData=function(T,P){var O="";switch(T){case w.default.Typing:O=C.default.ControlTyping;break;case w.default.ClearTyping:O=C.default.ControlClearTyping}var L=p.createBaseMessageData(O,m.default.Text,"");return S.default.isNullOrUndefined(P)||(L=u(u({},P),L)),L},p.createBotMessageData=function(T,P){return JSON.stringify({conversation:{id:T},value:P})},p.createFileMessage=function(T,P,O){var L=C.default.Text,W=m.default.Text.toString().toLowerCase(),B=p.createBaseMessageData(L,W.toString(),"");return B.amsreferences=JSON.stringify([T.id]),B.properties=JSON.stringify(this.createFileMessageProperties(T,P,O)),S.default.isNullOrUndefined(O.sender.displayName)||(B.imdisplayname=O.sender.displayName),B},p.createFileMessageProperties=function(T,P,O){var L={};if(L.deliveryMode=O.deliveryMode.toString(),L.files=JSON.stringify([this.createFileProperty(T,P)]),L.importance="",L.subject="",O.tags){var W=[];O.tags.forEach(function(B){W.push(B)}),L.tags=W.join()}return L},p.createFileProperty=function(T,P){var O=!!p.isDocumentTypeImage(T.type);return{"@type":"http://schema.skype.com/File",type:T.type,itemid:"",baseUrl:"",providerData:"",version:2,id:T.id,title:T.name,state:"active",objectUrl:f.default.getAmsObjectViewUrl(T.id,P.RegionGtms,O),fileName:T.name,fileType:p.getNameAndExtension(T.name).extension,botFileProperties:{url:f.default.getAmsObjectViewUrl(T.id,P.RegionGtms,O)},fileInfo:{fileUrl:f.default.getAmsObjectContentUrl(T.id,P.RegionGtms,O),siteUrl:"",serverRelativeUrl:""},filePreview:{previewUrl:""}}},p.getNameAndExtension=function(T){var P=(T||"").split("."),O="",L="";return P.length>1?(L=P.pop().toLowerCase(),O=P.join(".")):(L="",O=P[0]),{name:O,extension:L}},p.createIRawMessage=function(T,P,O){var W,B,L={clientmessageid:T.clientmessageid,content:T.content,contentType:p.getMessageContentType(T),deliveryMode:S.default.isNullOrUndefined(T.properties)||T.properties.deliveryMode!==y.default.Bridged?y.default.Unbridged:y.default.Bridged,messageType:p.getMessageType(T),properties:T.properties,sender:{displayName:T.imdisplayname,id:T.from,type:p.getPersonType(T.from)},timestamp:new Date(Date.parse(T.originalarrivaltime))};(O&&(L.resourceType=O),S.default.isNullOrUndefined(T.properties)||S.default.isNullOrEmptyString(T.properties.tags))||(W=T.properties.tags.split(","),L.tags=W);if(!S.default.isNullOrUndefined(T.properties)&&!S.default.isNullOrEmptyString(T.properties.files)&&(B=JSON.parse(T.properties.files)).length>0){var F=B[0].id;S.default.isNullOrUndefined(F)&&T.amsreferences&&(F=T.amsreferences[0]);var V=p.getFileUrl(B[0],F,P);L.fileMetadata={fileSharingProtocolType:_.default.AmsBasedFileSharing,id:F,name:B[0].fileName,size:B[0].version,type:B[0].fileType,url:V}}return L},p.createIRawThread=function(T){return{id:T.id,members:T.members,messages:T.messages,properties:T.properties,rosterVersion:T.rosterVersion,type:T.type,version:T.version}},p.getConversationIdFromUrl=function(T){var P=T&&T.match(/\/(\d+:[^\/]*)[\/]?/);return P&&P[1]?P[1]:void 0},p.isSystemMessage=function(T){var P=!1;return S.default.isNullOrEmptyString(T.messagetype)||(P=p.getSystemMessageTypes().reduce(function(O,L){return O||0===T.messagetype.toLowerCase().indexOf(L.toLowerCase())},P)),P},p.getPersonType=function(T){var P=h.default.Unknown,O=T.split("/").pop();return 0===O.indexOf("28:")?P=h.default.Bot:0===O.indexOf("19:")&&(P=h.default.User),P},p.isImageType=function(T){switch(T.toLowerCase()){case"jpeg":case"jpg":case"gif":case"png":case"bmp":case"tiff":case"jfif":return!0;default:return!1}},p.getMessageType=function(T){var P;switch(T.messagetype){case v.default.Typing:P=v.default.Typing;break;case v.default.ClearTyping:P=v.default.ClearTyping;break;default:P=v.default.UserMessage}return P},p.getMessageContentType=function(T){var O=T.contenttype?T.contenttype:T.messagetype;return O===C.default.Text.toLowerCase()||O.indexOf(I.default.TextPlainMimeType)>=0?m.default.Text:m.default.RichText},p.getSystemMessageTypes=function(){return["ThreadActivity"]},p.getFileUrl=function(T,P,O){var W,L=T.fileInfo;if(L&&L.fileUrl)W=L.fileUrl;else if(P){var B=p.isImageType(T.fileType);W=f.default.getAmsObjectContentUrl(P,O.RegionGtms,B)}return W},p.isDocumentTypeImage=function(T){return-1!==T.indexOf(I.default.Image)},p.getDomainRegexp=function(){return new RegExp(/^(https?:.+?\.microsoft\.com)/i)},p.parseDomain=function(T){var P=T.match(p.getDomainRegexp());return P?P[1]:null},p.parseChatServiceHostUrl=function(T){return p.parseDomain(T)},p.shouldRetryOnFailure=function(T){return T!==D.default.Accepted&&T!==D.default.Created},p}();g.default=b},909:($,g,c)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var u=c(6849),I=function(){function y(){}return y.isNullOrEmptyString=function(_){return y.isNullOrUndefined(_)||""===_},y.isNullOrUndefinedOrEmptyArray=function(_){return y.isNullOrUndefined(_)||0===_.length},y.isNullOrUndefined=function(_){return null==_},y.isPrimitiveString=function(_){return"string"==typeof _},y.convertStringToBoolean=function(_){return!y.isNullOrUndefined(_)&&"true"===_.toLowerCase()},y.sanitizeUrlWithBackSlash=function(_){return _.endsWith("/")?_:_+"/"},y.getRegistrationTokenValue=function(_){var D=_.match(/registrationToken=(.+); expires=(\d+)/);return D&&D.length>=2?u.default.RegistrationTokenHeaderValue+D[1]:""},y.addQueryParametersToPath=function(_,D){var m=_;if(!y.isNullOrUndefined(D))for(var C in m.indexOf("?")>=0||(m+="?"),D)if(D.hasOwnProperty(C)){var v=C+"="+D[C];"?"!==m[m.length-1]&&(v="&"+v),m+=v}return m},y.getResponseHeader=function(_,D){var m;return y.isNullOrUndefined(_)||(m=_.headers[D]),m},y.timer=function(){var _=(new Date).getTime();return{get milliSecondsElapsed(){return(new Date).getTime()-_}}},y.concatArrays=function(_,D){!y.isNullOrUndefined(_)&&!y.isNullOrUndefined(D)&&D.forEach(function(m){_.push(m)})},y}();g.default=I},1288:function($,g,c){"use strict";var u=this&&this.__awaiter||function(m,C,v,h){return new(v||(v=Promise))(function(w,S){function b(P){try{T(h.next(P))}catch(O){S(O)}}function p(P){try{T(h.throw(P))}catch(O){S(O)}}function T(P){P.done?w(P.value):function(w){return w instanceof v?w:new v(function(S){S(w)})}(P.value).then(b,p)}T((h=h.apply(m,C||[])).next())})},I=this&&this.__generator||function(m,C){var h,f,w,S,v={label:0,sent:function(){if(1&w[0])throw w[1];return w[1]},trys:[],ops:[]};return S={next:b(0),throw:b(1),return:b(2)},"function"==typeof Symbol&&(S[Symbol.iterator]=function(){return this}),S;function b(T){return function(P){return function(T){if(h)throw new TypeError("Generator is already executing.");for(;v;)try{if(h=1,f&&(w=2&T[0]?f.return:T[0]?f.throw||((w=f.return)&&w.call(f),0):f.next)&&!(w=w.call(f,T[1])).done)return w;switch(f=0,w&&(T=[2&T[0],w.value]),T[0]){case 0:case 1:w=T;break;case 4:return v.label++,{value:T[1],done:!1};case 5:v.label++,f=T[1],T=[0];continue;case 7:T=v.ops.pop(),v.trys.pop();continue;default:if(!(w=(w=v.trys).length>0&&w[w.length-1])&&(6===T[0]||2===T[0])){v=0;continue}if(3===T[0]&&(!w||T[1]>w[0]&&T[1]<w[3])){v.label=T[1];break}if(6===T[0]&&v.label<w[1]){v.label=w[1],w=T;break}if(w&&v.label<w[2]){v.label=w[2],v.ops.push(T);break}w[2]&&v.ops.pop(),v.trys.pop();continue}T=C.call(m,v)}catch(P){T=[6,P],f=0}finally{h=w=0}if(5&T[0])throw T[1];return{value:T[0]?T[1]:void 0,done:!0}}([T,P])}}};Object.defineProperty(g,"__esModule",{value:!0});var y=c(2217),_=c(737),D=function(){function m(C){this.hostType=y.default.Page,this.id=_.uuidv4(),this.protocolType=C,this.newConversationMessageListeners={},this.threadUpdateListeners={},this.debug=!1}return m.prototype.setDebug=function(C){this.debug=C},m.prototype.joinConversation=function(C,v){var h=this;return this.onJoinConversation(C,v).then(function(f){return{disconnect:h.disconnectFromConversation.bind(h,f),downloadFile:h.downloadFile.bind(h,f),getFileStatus:h.getFileStatus.bind(h,f),getMembers:h.getMembers.bind(h,f),getMessages:h.getMessages.bind(h,f),id:f.id,indicateTypingStatus:h.indicateTypingStatus.bind(h,f),registerOnNewMessage:h.registerOnNewMessage.bind(h,f),registerOnThreadUpdate:h.registerOnThreadUpdate.bind(h,f),sendFileMessage:h.sendFileMessage.bind(h,f),sendMessage:h.sendMessage.bind(h,f),sendMessageToBot:h.sendMessageToBot.bind(h,f),uploadFile:h.uploadFile.bind(h,f),sendFileData:h.sendFileData.bind(h,f)}})},m.prototype.registerOnNewMessage=function(C,v){return u(this,void 0,void 0,function(){return I(this,function(h){return[2,Promise.resolve()]})})},m.prototype.registerOnThreadUpdate=function(C,v){return u(this,void 0,void 0,function(){return I(this,function(h){return[2,Promise.resolve()]})})},m.prototype.uploadFile=function(C,v,h){return Promise.resolve()},m.prototype.downloadFile=function(C,v){return this.debug&&console.debug("IC3Core/ClientBridge/downloadFile"),this.downloadFileData(C,v).then(function(h){if(h&&h.size)return h;var w=new Blob([new Uint8Array(h)]);return!w||0===w.size&&""===w.type?h:w})},m}();g.default=D},2518:($,g,c)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var u=c(333),I=c(2217),y=function(){function _(){}return _.getClientBridge=function(D){switch(D.hostType){case I.default.IFrame:throw new Error("Framed bridge not implemented for "+D.hostType+" in IC3Core");case I.default.Page:return new u.default(D.protocolType);default:throw new Error("Client bridge not implemented for "+D.hostType+" in IC3Core")}},_}();g.default=y},333:function($,g,c){"use strict";var v,u=this&&this.__extends||(v=function(h,f){return(v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,S){w.__proto__=S}||function(w,S){for(var b in S)S.hasOwnProperty(b)&&(w[b]=S[b])})(h,f)},function(h,f){function w(){this.constructor=h}v(h,f),h.prototype=null===f?Object.create(f):(w.prototype=f.prototype,new w)}),I=this&&this.__awaiter||function(v,h,f,w){return new(f||(f=Promise))(function(b,p){function T(L){try{O(w.next(L))}catch(W){p(W)}}function P(L){try{O(w.throw(L))}catch(W){p(W)}}function O(L){L.done?b(L.value):function(b){return b instanceof f?b:new f(function(p){p(b)})}(L.value).then(T,P)}O((w=w.apply(v,h||[])).next())})},y=this&&this.__generator||function(v,h){var w,S,b,p,f={label:0,sent:function(){if(1&b[0])throw b[1];return b[1]},trys:[],ops:[]};return p={next:T(0),throw:T(1),return:T(2)},"function"==typeof Symbol&&(p[Symbol.iterator]=function(){return this}),p;function T(O){return function(L){return function(O){if(w)throw new TypeError("Generator is already executing.");for(;f;)try{if(w=1,S&&(b=2&O[0]?S.return:O[0]?S.throw||((b=S.return)&&b.call(S),0):S.next)&&!(b=b.call(S,O[1])).done)return b;switch(S=0,b&&(O=[2&O[0],b.value]),O[0]){case 0:case 1:b=O;break;case 4:return f.label++,{value:O[1],done:!1};case 5:f.label++,S=O[1],O=[0];continue;case 7:O=f.ops.pop(),f.trys.pop();continue;default:if(!(b=(b=f.trys).length>0&&b[b.length-1])&&(6===O[0]||2===O[0])){f=0;continue}if(3===O[0]&&(!b||O[1]>b[0]&&O[1]<b[3])){f.label=O[1];break}if(6===O[0]&&f.label<b[1]){f.label=b[1],b=O;break}if(b&&f.label<b[2]){f.label=b[2],f.ops.push(O);break}b[2]&&f.ops.pop(),f.trys.pop();continue}O=h.call(v,f)}catch(L){O=[6,L],S=0}finally{w=b=0}if(5&O[0])throw O[1];return{value:O[0]?O[1]:void 0,done:!0}}([O,L])}}};Object.defineProperty(g,"__esModule",{value:!0});var _=c(1288),D=c(2217),m=c(9515),C=function(v){function h(f){var w=v.call(this,f)||this;return w.hostType=D.default.Page,w.protocolAdapter=new m.default("",w.hostType),w}return u(h,v),h.prototype.setup=function(f){return Promise.resolve()},h.prototype.update=function(f){return Promise.resolve()},h.prototype.onRegisterOnNewMessage=function(f){return Promise.resolve()},h.prototype.onRegisterOnThreadUpdate=function(f){return Promise.resolve()},h.prototype.initialize=function(f){return this.protocolAdapter.initialize(f)},h.prototype.dispose=function(){return this.protocolAdapter.dispose()},h.prototype.sendMessage=function(f,w){return this.protocolAdapter.sendMessage(f,w)},h.prototype.sendFileMessage=function(f,w,S){return this.protocolAdapter.sendFileMessage(f,w,S)},h.prototype.getMessages=function(f){return this.protocolAdapter.getMessages(f)},h.prototype.disconnectFromConversation=function(f){return this.protocolAdapter.disconnectFromConversation(f)},h.prototype.onJoinConversation=function(f,w){return this.protocolAdapter.joinConversation(f,w)},h.prototype.sendFileData=function(f,w,S){return this.protocolAdapter.sendFileData(f,w,S)},h.prototype.downloadFileData=function(f,w){return this.protocolAdapter.downloadFileData(f,w)},h.prototype.getFileStatus=function(f,w){return this.protocolAdapter.getFileStatus(f,w)},h.prototype.indicateTypingStatus=function(f,w,S){return this.protocolAdapter.indicateTypingStatus(f,w,S)},h.prototype.sendMessageToBot=function(f,w,S){return this.protocolAdapter.sendMessageToBot(f,w,S)},h.prototype.getMembers=function(f){return this.protocolAdapter.getMembers(f)},h.prototype.registerOnNewMessage=function(f,w){return I(this,void 0,void 0,function(){return y(this,function(S){return this.protocolAdapter.registerOnNewMessage(f,w),[2,Promise.resolve()]})})},h.prototype.registerOnThreadUpdate=function(f,w){return I(this,void 0,void 0,function(){return y(this,function(S){return this.protocolAdapter.registerOnThreadUpdate(f,w),[2,Promise.resolve()]})})},h.prototype.setDebug=function(f){void 0===f&&(f=!1),this.protocolAdapter.setDebug(f)},h}(_.default);g.default=C},1218:($,g,c)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var u=c(3865),I=c(501),y=c(4694),_=c(6355),D=c(2217),m=c(2915),C=c(5256),v=c(6849),h=c(5874),f=c(3671),w=c(752),S=c(448),b=c(3207),p=c(5655),T=c(6648),P=c(1927),O=c(8636),L=c(909),W=function(){function B(F){this.hostType=D.default.Page,this.protocolType=p.default.IC3V1SDK,this.id=F,this.conversations=[],this.newConversationMessageListeners={},this.threadUpdateListeners={},this.internalConversationsData={},this.liveStateFailureCount=0,this.debug=!1}return B.prototype.startPolling=function(){this.ic3Initializer&&this.ic3Initializer.startPolling()},B.prototype.stopPolling=function(){this.ic3Initializer&&this.ic3Initializer.stopPolling()},B.prototype.setup=function(F){return this.logger=F.logger,m.HttpClient.setLogger(this.logger),Promise.resolve()},B.prototype.initialize=function(F){return this.setupSession(F),Promise.resolve()},B.prototype.update=function(F){return Promise.resolve()},B.prototype.dispose=function(){return this.conversations=[],this.newConversationMessageListeners={},this.threadUpdateListeners={},this.internalConversationsData={},Promise.resolve()},B.prototype.joinConversation=function(F,V){var K;void 0===V&&(V=!0);var q=L.default.timer(),G={id:F};return-1===this.conversations.findIndex(function(z){return z.id===G.id})&&(this.conversations.push(G),this.newConversationMessageListeners[G.id]=this.newConversationMessageListeners[G.id]||[],this.threadUpdateListeners[G.id]=this.threadUpdateListeners[G.id]||[]),null===(K=this.logger)||void 0===K||K.log(w.default.INFO,f.default.JoinConversation,{ElapsedTimeInMilliseconds:q.milliSecondsElapsed,EndpointUrl:this.EndpointUrl,EndpointId:this.EndpointId}),!L.default.isNullOrUndefined(V)&&!0===V&&this.sendHeartBeat(G.id),Promise.resolve(G)},B.prototype.sendLiveState=function(F){var V=this;this.debug&&console.debug("IC3Core/sendLiveState");var G=O.default.createBaseMessageData(b.default.LiveState,S.default.Text,"");return this.sendMessageToIC3(F,G).then(function(){return V.liveStateFailureCount=0,Promise.resolve()}).catch(function(ae){var z;V.liveStateFailureCount++,V.liveStateFailureCount>=I.default.liveStateRetryCount&&(null===(z=V.logger)||void 0===z||z.log(w.default.ERROR,f.default.SendLiveStateFailure,{ExceptionDetails:ae,EndpointUrl:V.EndpointUrl,EndpointId:V.EndpointId}),V.stopHeartBeat(),V.liveStateFailureCount=0)})},B.prototype.sendHeartBeat=function(F){this.heartBeatTimer||(this.debug&&console.debug("IC3Core/sendHeartBeat"),this.sendLiveState(F),this.heartBeatTimer=window.setInterval(this.sendLiveState.bind(this,F),I.default.heartBeatDuration))},B.prototype.stopHeartBeat=function(){clearInterval(this.heartBeatTimer)},B.prototype.sendMessage=function(F,V){var K=O.default.createMessageData(V);return this.sendMessageToIC3(F.id,K)},B.prototype.getMessages=function(F){var V=this,K=T.default.getDefaultGetMessagesQueryParameters(),q=L.default.addQueryParametersToPath(P.default.getMessagesUrl(F.id,this.ic3Info.RegionGtms),K),G=T.default.getDefaultIC3Headers();return G[v.default.RegistrationTokenHeader]=this.ic3Info.RegistrationToken,G[v.default.ContentTypeHeader]=I.default.ContentTypeJson,m.HttpClient.MakeRequest({enableExponentialBackoff:!0,headers:G,redirect404RetryCount:I.default.retryCount,retryCount:I.default.retryCount,shouldRedirectOn404:!1,shouldResetOnFailure:!1,shouldRetryOnFailure:O.default.shouldRetryOnFailure,timeBetweenRetry:I.default.timeBetweenOperationRetry,type:h.default.GET,url:q}).then(function(z){for(var ee=[],ie=0,ue=z.messages;ie<ue.length;ie++){var Z=ue[ie];O.default.isSystemMessage(Z)||ee.push(O.default.createIRawMessage(Z,V.ic3Info))}return V.getAllMessagesFromBackwardLinkUrl(z._metadata.backwardLink,K.startTime,ee)})},B.prototype.registerOnNewMessage=function(F,V){var K;return this.newConversationMessageListeners[F.id].push(V),null===(K=this.logger)||void 0===K||K.log(w.default.INFO,f.default.RegisterOnNewMessage,{EndpointUrl:this.EndpointUrl,EndpointId:this.EndpointId}),Promise.resolve()},B.prototype.registerOnThreadUpdate=function(F,V){var K;return this.threadUpdateListeners[F.id].push(V),null===(K=this.logger)||void 0===K||K.log(w.default.INFO,f.default.RegisterOnThreadUpdate,{EndpointUrl:this.EndpointUrl,EndpointId:this.EndpointId}),Promise.resolve()},B.prototype.disconnectFromConversation=function(F){return this.conversations.findIndex(function(V){return V.id===F.id}),delete this.internalConversationsData[F.id],this.ic3Info.visitor&&(this.stopHeartBeat(),this.stopPolling()),Promise.resolve()},B.prototype.sendFileData=function(F,V,K){var q=this;if(L.default.isNullOrUndefined(K)&&(K=y.default.AmsBasedFileSharing),V.size<=0)throw new Error("File size is lesser or equal to zero.");var G={fileSharingProtocolType:K,id:"",name:V.name,size:V.size,type:V.type,url:""};return new Promise(function(ae,z){u.default.createNewDocument(F.id,V,q.ic3Info).then(function(ee){G.id=ee.id;var ie=O.default.isDocumentTypeImage(V.type);G.url=P.default.getAmsObjectContentUrl(ee.id,q.ic3Info.RegionGtms,ie),u.default.uploadDocument(ee.id,V,q.ic3Info).then(function(){ae(G)}).catch(function(ue){z(ue)})}).catch(function(ee){z(ee)})})},B.prototype.sendFileMessage=function(F,V,K){return this.sendMessageToIC3(F.id,O.default.createFileMessage(V,this.ic3Info,K))},B.prototype.downloadFileData=function(F,V){var K=this;return this.debug&&console.debug("IC3Core/IC3ClientAdapter/downloadFileData"),new Promise(function(q,G){var ae=V.fileSharingProtocolType;L.default.isNullOrUndefined(ae)&&(ae=y.default.AmsBasedFileSharing),ae===y.default.AmsBasedFileSharing?u.default.downloadDocument(V,K.ic3Info).then(function(z){q(z)}).catch(function(z){G(z)}):G("This Protocol is not implemented")})},B.prototype.getFileStatus=function(F,V){var K=this;return new Promise(function(q,G){var ae=V.fileSharingProtocolType;L.default.isNullOrUndefined(ae)&&(ae=y.default.AmsBasedFileSharing),ae===y.default.AmsBasedFileSharing?u.default.getFileStatus(V,K.ic3Info).then(function(z){q(z)}).catch(function(z){G(_.default.Error+" e")}):G("This Protocol is not implemented")})},B.prototype.indicateTypingStatus=function(F,V,K){var q=O.default.createTypingStatusThreadMessageData(V,K);return this.sendMessageToIC3(F.id,q)},B.prototype.sendMessageToBot=function(F,V,K){var q=O.default.createBotMessageData(F.id,K),G=P.default.getBotMessagesUrl(V,this.ic3Info.RegionGtms),ae=T.default.getDefaultIC3Headers();return ae[v.default.RegistrationTokenHeader]=this.ic3Info.RegistrationToken,ae[v.default.ContentTypeHeader]=I.default.ContentTypeTextPlain,m.HttpClient.MakeRequest({data:q,dataType:C.default.TEXT,enableExponentialBackoff:!0,headers:ae,redirect404RetryCount:I.default.retryCount,retryCount:I.default.retryCount,shouldRedirectOn404:!1,shouldResetOnFailure:!1,shouldRetryOnFailure:O.default.shouldRetryOnFailure,timeBetweenRetry:I.default.timeBetweenOperationRetry,type:h.default.POST,url:G})},B.prototype.getMembers=function(F){var V=this.internalConversationsData[F.id].members,K=[];return L.default.isNullOrUndefinedOrEmptyArray(V)||V.forEach(function(q){var G={displayName:q.friendlyName,id:q.id,type:O.default.getPersonType(q.id)};K.push(G)}),Promise.resolve(K)},B.prototype.sendMessageToIC3=function(F,V){var K=P.default.getMessagesUrl(F,this.ic3Info.RegionGtms),q=T.default.getDefaultIC3Headers();q[v.default.RegistrationTokenHeader]=this.ic3Info.RegistrationToken,q[v.default.ContentTypeHeader]=I.default.ContentTypeJson;var G={data:JSON.stringify(V),enableExponentialBackoff:!0,headers:q,redirect404RetryCount:I.default.retryCount,retryCount:I.default.retryCount,shouldRedirectOn404:!1,shouldResetOnFailure:!1,shouldRetryOnFailure:O.default.shouldRetryOnFailure,timeBetweenRetry:I.default.timeBetweenOperationRetry,type:h.default.POST,url:K};return m.HttpClient.MakeRequest(G)},B.prototype.onNewMessage=function(F,V,K){var G,q=this,ae=L.default.timer();try{F&&(L.default.isNullOrUndefined(this.newConversationMessageListeners[F.id])||O.default.isSystemMessage(V)||this.newConversationMessageListeners[F.id].forEach(function(ee){ee(O.default.createIRawMessage(V,q.ic3Info,K))}))}catch(ee){return void(null===(G=this.logger)||void 0===G||G.log(w.default.ERROR,f.default.OnNewMessageFailure,{ExceptionDetails:ee,ElapsedTimeInMilliseconds:ae.milliSecondsElapsed,EndpointUrl:this.EndpointUrl,EndpointId:this.EndpointId}))}},B.prototype.onThreadUpdate=function(F,V){var K,q=L.default.timer();try{F&&(L.default.isNullOrUndefined(this.threadUpdateListeners[F.id])||this.threadUpdateListeners[F.id].forEach(function(ae){ae(O.default.createIRawThread(V))}))}catch(ae){return void(null===(K=this.logger)||void 0===K||K.log(w.default.ERROR,f.default.OnThreadUpdateFailure,{ExceptionDetails:ae,ElapsedTimeInMilliseconds:q.milliSecondsElapsed,EndpointUrl:this.EndpointUrl,EndpointId:this.EndpointId}))}},B.prototype.getAllMessagesFromBackwardLinkUrl=function(F,V,K){var q=this;return L.default.isNullOrEmptyString(F)?Promise.resolve(K):this.getMessagesFromBackwardLinkUrl(F,V).then(function(G){for(var ae=0,z=G.messages;ae<z.length;ae++){var ee=z[ae];O.default.isSystemMessage(ee)||K.push(O.default.createIRawMessage(ee,q.ic3Info))}return q.getAllMessagesFromBackwardLinkUrl(G._metadata.backwardLink,V,K)})},B.prototype.getMessagesFromBackwardLinkUrl=function(F,V){var q=L.default.addQueryParametersToPath(F,{startTime:V}),G=T.default.getDefaultIC3Headers();return G[v.default.RegistrationTokenHeader]=this.ic3Info.RegistrationToken,G[v.default.ContentTypeHeader]=I.default.ContentTypeJson,m.HttpClient.MakeRequest({enableExponentialBackoff:!0,headers:G,redirect404RetryCount:I.default.retryCount,retryCount:I.default.retryCount,shouldRedirectOn404:!1,shouldResetOnFailure:!1,shouldRetryOnFailure:O.default.shouldRetryOnFailure,timeBetweenRetry:I.default.timeBetweenOperationRetry,type:h.default.GET,url:q})},B.prototype.setupSession=function(F){this.ic3Info={SkypeToken:F.token,RegionGtms:F.regionGtms,visitor:F.visitor},L.default.isNullOrUndefined(this.ic3Info)||(this.EndpointId=this.ic3Info.endpointId,this.EndpointUrl=this.ic3Info.RegionGtms?this.ic3Info.RegionGtms.chatService:"")},B.prototype.setDebug=function(F){void 0===F&&(F=!1),this.debug=F},B}();g.default=W},9515:function($,g,c){"use strict";var W,u=this&&this.__extends||(W=function(B,F){return(W=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(V,K){V.__proto__=K}||function(V,K){for(var q in K)K.hasOwnProperty(q)&&(V[q]=K[q])})(B,F)},function(B,F){function V(){this.constructor=B}W(B,F),B.prototype=null===F?Object.create(F):(V.prototype=F.prototype,new V)}),I=this&&this.__awaiter||function(W,B,F,V){return new(F||(F=Promise))(function(q,G){function ae(ie){try{ee(V.next(ie))}catch(ue){G(ue)}}function z(ie){try{ee(V.throw(ie))}catch(ue){G(ue)}}function ee(ie){ie.done?q(ie.value):function(q){return q instanceof F?q:new F(function(G){G(q)})}(ie.value).then(ae,z)}ee((V=V.apply(W,B||[])).next())})},y=this&&this.__generator||function(W,B){var V,K,q,G,F={label:0,sent:function(){if(1&q[0])throw q[1];return q[1]},trys:[],ops:[]};return G={next:ae(0),throw:ae(1),return:ae(2)},"function"==typeof Symbol&&(G[Symbol.iterator]=function(){return this}),G;function ae(ee){return function(ie){return function(ee){if(V)throw new TypeError("Generator is already executing.");for(;F;)try{if(V=1,K&&(q=2&ee[0]?K.return:ee[0]?K.throw||((q=K.return)&&q.call(K),0):K.next)&&!(q=q.call(K,ee[1])).done)return q;switch(K=0,q&&(ee=[2&ee[0],q.value]),ee[0]){case 0:case 1:q=ee;break;case 4:return F.label++,{value:ee[1],done:!1};case 5:F.label++,K=ee[1],ee=[0];continue;case 7:ee=F.ops.pop(),F.trys.pop();continue;default:if(!(q=(q=F.trys).length>0&&q[q.length-1])&&(6===ee[0]||2===ee[0])){F=0;continue}if(3===ee[0]&&(!q||ee[1]>q[0]&&ee[1]<q[3])){F.label=ee[1];break}if(6===ee[0]&&F.label<q[1]){F.label=q[1],q=ee;break}if(q&&F.label<q[2]){F.label=q[2],F.ops.push(ee);break}q[2]&&F.ops.pop(),F.trys.pop();continue}ee=B.call(W,F)}catch(ie){ee=[6,ie],K=0}finally{V=q=0}if(5&ee[0])throw ee[1];return{value:ee[0]?ee[1]:void 0,done:!0}}([ee,ie])}}};Object.defineProperty(g,"__esModule",{value:!0});var _=c(501),D=c(6849),m=c(5874),C=c(1218),v=c(7037),h=c(3671),f=c(2915),w=c(752),S=c(5655),b=c(6648),p=c(5785),T=c(1927),P=c(8636),O=c(909),L=function(W){function B(F,V){var K=W.call(this,F)||this;return K.debug&&console.debug("IC3Core/Constructor"),K.protocolType=S.default.IC3V1SDK,K.hostType=V,K.ic3Initializer=new v.default,K}return u(B,W),B.prototype.startPolling=function(){W.prototype.startPolling.call(this)},B.prototype.stopPolling=function(){W.prototype.stopPolling.call(this)},B.prototype.setup=function(F){return W.prototype.setup.call(this,F)},B.prototype.initialize=function(F){var V=this;return W.prototype.initialize.call(this,F).then(function(){var q;return null===(q=V.ic3Initializer)||void 0===q?void 0:q.setup(V.logger).then(function(){return V.setSkypeTokenCookie()}).then(function(){var G;return null===(G=V.ic3Initializer)||void 0===G?void 0:G.setIc3Info(V.ic3Info)}).then(function(){var G;return null===(G=V.ic3Initializer)||void 0===G?void 0:G.initializeIC3(V.handlePollData.bind(V))}).then(function(G){V.ic3Info=G})})},B.prototype.update=function(F){var V=this;return W.prototype.update.call(this,F).then(function(){return V.updateToken({RegionGtms:F.regionGtms,SkypeToken:F.token,visitor:F.visitor})})},B.prototype.dispose=function(){var F;return I(this,void 0,void 0,function(){return y(this,function(V){return null===(F=this.ic3Initializer)||void 0===F||F.stopPolling(),this.heartBeatTimer&&clearInterval(this.heartBeatTimer),Promise.resolve(),[2]})})},B.prototype.joinConversation=function(F,V){var K=this,q=O.default.timer();return W.prototype.joinConversation.call(this,F,V).then(function(G){return K.getThreadRequest(G.id).then(function(ae){return K.internalConversationsData[G.id]={id:F,members:ae.members},G}).catch(function(ae){return K.logger&&K.logger.log(w.default.WARN,h.default.JoinConversationV1GetThreadRequestFailed,{Description:"Unable to retrieve thread: "+ae,ElapsedTimeInMilliseconds:q.milliSecondsElapsed,EndpointUrl:K.EndpointUrl,EndpointId:K.ic3Info.endpointId}),K.internalConversationsData[G.id]={id:F,members:[]},G})})},B.prototype.sendMessage=function(F,V){return W.prototype.sendMessage.call(this,F,V)},B.prototype.sendFileMessage=function(F,V,K){return W.prototype.sendFileMessage.call(this,F,V,K)},B.prototype.getMessages=function(F){return W.prototype.getMessages.call(this,F)},B.prototype.registerOnNewMessage=function(F,V){return W.prototype.registerOnNewMessage.call(this,F,V)},B.prototype.registerOnThreadUpdate=function(F,V){return W.prototype.registerOnThreadUpdate.call(this,F,V)},B.prototype.disconnectFromConversation=function(F){return W.prototype.disconnectFromConversation.call(this,F)},B.prototype.setSkypeTokenCookie=function(){var F=this.ic3Info.RegionGtms.ams.concat(_.default.skypeTokenAuthURL),V=b.default.getDefaultBaseIC3Headers();return V[D.default.ContentTypeHeader]=_.default.ContentTypeForm,f.HttpClient.MakeRequest({data:_.default.skypeTokenConstantForData+this.ic3Info.SkypeToken,enableExponentialBackoff:!0,useXHRWithCredentials:!0,headers:V,redirect404RetryCount:_.default.retryCount,retryCount:_.default.retryCount,shouldRedirectOn404:!1,shouldResetOnFailure:!1,shouldRetryOnFailure:P.default.shouldRetryOnFailure,timeBetweenRetry:_.default.timeBetweenOperationRetry,type:m.default.POST,url:F})},B.prototype.getThreadRequest=function(F){var V=T.default.getThreadUrl(F,this.ic3Info.RegionGtms),K=b.default.getDefaultBaseIC3Headers();return K[D.default.RegistrationTokenHeader]=this.ic3Info.RegistrationToken,f.HttpClient.MakeRequest({enableExponentialBackoff:!0,headers:K,redirect404RetryCount:_.default.retryCount,retryCount:_.default.retryCount,shouldRedirectOn404:!0,shouldRetryOnFailure:P.default.shouldRetryOnFailure,timeBetweenRetry:_.default.timeBetweenOperationRetry,type:m.default.GET,url:V})},B.prototype.newMessageReceived=function(F,V,K){W.prototype.onNewMessage.call(this,F,V,K)},B.prototype.newThreadUpdate=function(F,V){W.prototype.onThreadUpdate.call(this,F,V)},B.prototype.handleNewMessageEvent=function(F){var V;V=F.resource&&F.resource.conversationid?F.resource.conversationid:P.default.getConversationIdFromUrl(F.resource.conversationLink?F.resource.conversationLink:F.resourceLink);var K=this.conversations.findIndex(function(G){return G.id===V});this.newMessageReceived(this.conversations[K],F.resource,F.resourceType)},B.prototype.handleConversationUpdateEvent=function(F){},B.prototype.handleThreadUpdate=function(F){if(F.resourceType===p.default.ThreadUpdate){var V;V=F.resource&&F.resource.id?F.resource.id:P.default.getConversationIdFromUrl(F.resource.messages?F.resource.messages:F.resourceLink);var K=this.conversations.findIndex(function(G){return G.id===V});this.newThreadUpdate(this.conversations[K],F.resource)}},B.prototype.handlePollData=function(F){if(F&&F.eventMessages)for(var V=0,K=F.eventMessages;V<K.length;V++)this.handlePollEventMessage(K[V])},B.prototype.handlePollEventMessage=function(F){F.resourceType===p.default.NewMessage||F.resourceType===p.default.MessageUpdate?this.handleNewMessageEvent(F):F.resourceType===p.default.ThreadUpdate?this.handleThreadUpdate(F):F.resourceType===p.default.ConversationUpdate&&this.handleConversationUpdateEvent(F)},B.prototype.updateToken=function(F){return I(this,void 0,void 0,function(){var V,K,q,G,ae,z,ee,ie,ue,Z,k=this;return y(this,function(j){switch(j.label){case 0:return this.logger&&this.logger.log(w.default.INFO,h.default.UpdateToken,{EndpointUrl:this.EndpointUrl,EndpointId:this.ic3Info.endpointId}),V=[],K=function(M){M&&M.eventMessages&&O.default.concatArrays(V,M.eventMessages)},q=[],G=function(M){M&&M.eventMessages&&O.default.concatArrays(q,M.eventMessages)},ae=this.ic3Initializer,z=new v.default,ee=this.updateTokenClearTimeoutHandle,ie=this.ic3Info,ae.getPoller().onNewData=K,this.logger?[4,z.setup(this.logger)]:[3,2];case 1:j.sent(),j.label=2;case 2:return[2,z.setIc3Info(F).then(function(){return z.initializeIC3(G)}).then(function(M){ue=M}).then(function(){return k.getMatchingIC3EventIndex(V,q)}).then(function(M){Z=M}).then(function(){return ae.reset(!0)}).then(function(){return k.syncPollingData(V,q,Z)}).then(function(){k.ic3Info=ue,k.ic3Initializer=z,k.ic3Initializer.getPoller().onNewData=k.handlePollData.bind(k)}).catch(function(M){throw k.updateTokenClearTimeoutHandle!==ee&&(clearTimeout(k.updateTokenClearTimeoutHandle),k.updateTokenClearTimeoutHandle=ee),k.ic3Info=ie,k.ic3Initializer.getPoller().onNewData=k.handlePollData.bind(k),k.ic3Initializer.getPoller().start(),new Error("Update token failed: "+(M&&M.message))})]}})})},B.prototype.getMatchingIC3EventIndex=function(F,V,K){var q=this;return new Promise(function(G,ae){if((K=K||0)===_.default.stabilizePollMaxRetryCount)G({newPollIndex:-1,previousPollIndex:-1});else{for(var z=0,ee=0;z<F.length&&ee<V.length;){var ie=F[z];if(ie.time===V[ee].time)return void G({newPollIndex:ee,previousPollIndex:z});new Date(ie.time)<new Date(ie.time)?z++:ee++}setTimeout(function(){q.getMatchingIC3EventIndex(F,V,K+1).then(function(Z){G(Z)}).catch(function(Z){ae(Z)})},_.default.timeBetweenStabilizingPoll)}})},B.prototype.syncPollingData=function(F,V,K){this.logger&&this.logger.log(w.default.INFO,h.default.SyncingPollData,{EndpointUrl:this.EndpointUrl,EndpointId:this.ic3Info.endpointId});var q=K.previousPollIndex,G=K.newPollIndex+1;-1===K.previousPollIndex&&-1===K.newPollIndex&&(q=F.length-1,G=0);for(var ae=0;ae<=q;ae++)this.handlePollEventMessage(F[ae]);for(ae=G;ae<V.length;ae++)this.handlePollEventMessage(V[ae])},B}(C.default);g.default=L},7037:function($,g,c){"use strict";var u=this&&this.__awaiter||function(L,W,B,F){return new(B||(B=Promise))(function(K,q){function G(ee){try{z(F.next(ee))}catch(ie){q(ie)}}function ae(ee){try{z(F.throw(ee))}catch(ie){q(ie)}}function z(ee){ee.done?K(ee.value):function(K){return K instanceof B?K:new B(function(q){q(K)})}(ee.value).then(G,ae)}z((F=F.apply(L,W||[])).next())})},I=this&&this.__generator||function(L,W){var F,V,K,q,B={label:0,sent:function(){if(1&K[0])throw K[1];return K[1]},trys:[],ops:[]};return q={next:G(0),throw:G(1),return:G(2)},"function"==typeof Symbol&&(q[Symbol.iterator]=function(){return this}),q;function G(z){return function(ee){return function(z){if(F)throw new TypeError("Generator is already executing.");for(;B;)try{if(F=1,V&&(K=2&z[0]?V.return:z[0]?V.throw||((K=V.return)&&K.call(V),0):V.next)&&!(K=K.call(V,z[1])).done)return K;switch(V=0,K&&(z=[2&z[0],K.value]),z[0]){case 0:case 1:K=z;break;case 4:return B.label++,{value:z[1],done:!1};case 5:B.label++,V=z[1],z=[0];continue;case 7:z=B.ops.pop(),B.trys.pop();continue;default:if(!(K=(K=B.trys).length>0&&K[K.length-1])&&(6===z[0]||2===z[0])){B=0;continue}if(3===z[0]&&(!K||z[1]>K[0]&&z[1]<K[3])){B.label=z[1];break}if(6===z[0]&&B.label<K[1]){B.label=K[1],K=z;break}if(K&&B.label<K[2]){B.label=K[2],B.ops.push(z);break}K[2]&&B.ops.pop(),B.trys.pop();continue}z=W.call(L,B)}catch(ee){z=[6,ee],V=0}finally{F=K=0}if(5&z[0])throw z[1];return{value:z[0]?z[1]:void 0,done:!0}}([z,ee])}}};Object.defineProperty(g,"__esModule",{value:!0});var y=c(501),_=c(6849),D=c(5850),m=c(8311),C=c(6648),v=c(1927),h=c(909),f=c(3805),w=c(752),S=c(3671),b=c(9306),p=c(8636),T=c(2915),P=c(5874),O=function(){function L(){this.debug=!1,this.current404RetryCount=0,this.currentOtherRetryCount=0,this.skipUnsubscribe=!1,this.telemetryMessage="",this.errorCode="",this.pollDataHandler=function(W){},this.resetRetryCount()}return L.prototype.setup=function(W){return u(this,void 0,void 0,function(){return I(this,function(B){return this.logger=W,[2]})})},L.prototype.getPoller=function(){var W=this.pollDataHandler.bind(this);return this.poller||(this.poller=new f.default(this.ic3Info,W,this.redirectErrorHandler.bind(this),this.onRequestCreationFailure.bind(this))),this.poller},L.prototype.setIc3Info=function(W){return u(this,void 0,void 0,function(){var B;return I(this,function(F){return B={RegionGtms:JSON.parse(JSON.stringify(W.RegionGtms)),SkypeToken:W.SkypeToken,visitor:W.visitor},this.ic3Info=B,[2]})})},L.prototype.initializeIC3=function(W){var F,B=this;return W&&(this.pollDataHandler=W),null===(F=this.logger)||void 0===F||F.log(w.default.INFO,S.default.IC3InitializationBegins,{Description:"Endpoint to poll is "+JSON.stringify(this.ic3Info.RegionGtms.chatService),EndpointUrl:this.ic3Info.RegionGtms.chatService,EndpointId:this.ic3Info.endpointId}),this.createEndpoint().then(function(){return B.createSubscription()}).then(function(){return B.setEndpointProperty()}).then(function(){return B.startPolling(W)}).then(function(){return B.resetRetryCount()}).then(function(){return Promise.resolve(B.ic3Info)}).catch(function(K){return B.redirectErrorHandler(K)})},L.prototype.startPolling=function(W){var B,F=!W&&this.pollDataHandler?this.pollDataHandler.bind(this):this.pollDataHandler;this.poller||(this.poller=new f.default(this.ic3Info,F,this.redirectErrorHandler.bind(this),this.onRequestCreationFailure.bind(this))),this.poller.ic3Info=this.ic3Info,null===(B=this.logger)||void 0===B||B.log(w.default.INFO,S.default.IC3StartedPolling,{EndpointUrl:this.ic3Info.RegionGtms.chatService,EndpointId:this.ic3Info.endpointId}),this.poller.start()},L.prototype.stopPolling=function(W){var B;null===(B=this.logger)||void 0===B||B.log(w.default.INFO,S.default.IC3StoppedPolling,{Description:(W?y.default.oldInitializer:y.default.newInitializer)+" stopped polling.",EndpointUrl:this.ic3Info.RegionGtms.chatService,EndpointId:this.ic3Info.endpointId}),this.poller&&this.poller.stop()},L.prototype.reset=function(W){return this.stopPolling(W),this.unsubscribeFromEndpoint()},L.prototype.resetRetryCount=function(){this.current404RetryCount=0,this.currentOtherRetryCount=0},L.prototype.onEndpointCreationFailure=function(W){this.onRequestCreationFailure(W,y.default.endpointRequestLog)},L.prototype.onEndpointCreationSuccess=function(W){var B,F,V=h.default.getResponseHeader(W,_.default.SetRegistrationTokenHeader);h.default.isNullOrUndefined(V)||(this.ic3Info.RegistrationToken=h.default.getRegistrationTokenValue(V));var K=h.default.getResponseHeader(W,_.default.LocationHeader);if(!h.default.isNullOrUndefined(K)){var q=K.match(/endpoints\/(%7B[\da-z\-]+%7D)/);this.ic3Info.endpointId=q&&q[1],null===(B=this.logger)||void 0===B||B.log(w.default.INFO,S.default.IC3EndpointCreationSuccess,{Description:"IC3 endpoint Id is "+this.ic3Info.endpointId,EndpointUrl:this.ic3Info.RegionGtms.chatService,EndpointId:this.ic3Info.endpointId}),W.status===b.default.Created&&p.default.parseChatServiceHostUrl(K)!==this.ic3Info.RegionGtms.chatService&&(this.ic3Info.RegionGtms.chatService=p.default.parseChatServiceHostUrl(K),null===(F=this.logger)||void 0===F||F.log(w.default.WARN,S.default.OnRequestCreationSuccessRedirect,{Description:"Endpoint changed",EndpointUrl:this.ic3Info.RegionGtms.chatService,EndpointId:this.ic3Info.endpointId}))}},L.prototype.createEndpointRequest=function(){var W=v.default.getV1EndpointUrl(this.ic3Info.RegionGtms),B=C.default.getDefaultIC3Headers();B[_.default.AuthenticationHeader]=_.default.SkypeTokenHeaderValue+this.ic3Info.SkypeToken,B[_.default.ContentTypeHeader]=y.default.ContentTypeJson;var V={endpointFeatures:[m.default.Agent,m.default.InviteFree,m.default.MessageProperties].join(",")},K={callbackOnFailure:this.onEndpointCreationFailure.bind(this),callbackOnSuccess:this.onEndpointCreationSuccess.bind(this),data:JSON.stringify(V),enableExponentialBackoff:!0,headers:B,redirect404RetryCount:y.default.retryCount,retryCount:y.default.retryCount,shouldRedirectOn404:!0,shouldResetOnFailure:!0,shouldRetryOnFailure:p.default.shouldRetryOnFailure,timeBetweenRetry:y.default.timeBetweenOperationRetry,type:P.default.POST,url:W};return T.HttpClient.MakeRequest(K)},L.prototype.createEndpoint=function(){var W=this;return this.createEndpointRequest().then(function(B){return B.subscriptions&&B.subscriptions.length>0&&(W.ic3Info.subscriptionId=B.subscriptions[0].id),B})},L.prototype.onSubscriptionCreationFailure=function(W){this.onRequestCreationFailure(W,y.default.subscriptionRequestLog)},L.prototype.onSubscriptionCreationSuccess=function(W){var B,F=h.default.getResponseHeader(W,_.default.LocationHeader)||"";W.status===b.default.Created&&!h.default.isNullOrUndefined(F)&&p.default.parseChatServiceHostUrl(F)!==this.ic3Info.RegionGtms.chatService&&(this.ic3Info.RegionGtms.chatService=p.default.parseChatServiceHostUrl(F),null===(B=this.logger)||void 0===B||B.log(w.default.WARN,S.default.OnRequestCreationSuccessRedirect,{Description:"Endpoint changed",EndpointUrl:this.ic3Info.RegionGtms.chatService,EndpointId:this.ic3Info.endpointId}));var V=F.match(/\/(\d+)$/);V&&(this.ic3Info.subscriptionId=V[1])},L.prototype.createSubscriptionRequest=function(){var W=v.default.getV1SubscriptionUrl(this.ic3Info.RegionGtms),B=C.default.getDefaultIC3Headers();B[_.default.RegistrationTokenHeader]=this.ic3Info.RegistrationToken,B[_.default.ContentTypeHeader]=y.default.ContentTypeJson;var F={channelType:y.default.HttpLongPoll,interestedResources:[D.default.ConversationMessages,D.default.ConversationProperties,D.default.Threads,D.default.Contacts]},V={callbackOnFailure:this.onSubscriptionCreationFailure.bind(this),callbackOnSuccess:this.onSubscriptionCreationSuccess.bind(this),data:JSON.stringify(F),enableExponentialBackoff:!0,headers:B,redirect404RetryCount:y.default.retryCount,retryCount:y.default.retryCount,shouldRedirectOn404:!0,shouldResetOnFailure:!0,shouldRetryOnFailure:p.default.shouldRetryOnFailure,timeBetweenRetry:y.default.timeBetweenOperationRetry,type:P.default.POST,url:W};return T.HttpClient.MakeRequest(V)},L.prototype.createSubscription=function(){return this.createSubscriptionRequest()},L.prototype.onSetEndpointPropertyCreationFailure=function(W){this.onRequestCreationFailure(W,y.default.setPropertiesRequestLog)},L.prototype.setEndpointProperty=function(){if(this.ic3Info.visitor)return Promise.resolve();var W=v.default.getV1SetPropertiesUrl(this.ic3Info.RegionGtms),B={};B[_.default.SetEndpointProperty]=!0;var V=C.default.getDefaultIC3Headers();V[_.default.AuthenticationHeader]=_.default.SkypeTokenHeaderValue+this.ic3Info.SkypeToken,V[_.default.RegistrationTokenHeader]=this.ic3Info.RegistrationToken,V[_.default.ContentTypeHeader]=y.default.ContentTypeJson;var K={callbackOnFailure:this.onSetEndpointPropertyCreationFailure.bind(this),data:JSON.stringify(B),enableExponentialBackoff:!0,headers:V,redirect404RetryCount:y.default.retryCount,retryCount:y.default.retryCount,shouldRedirectOn404:!0,shouldResetOnFailure:!0,shouldRetryOnFailure:p.default.shouldRetryOnFailure,timeBetweenRetry:y.default.timeBetweenOperationRetry,type:P.default.PUT,url:W};return T.HttpClient.MakeRequest(K)},L.prototype.onUnsubscribeCreationFailure=function(W){this.onRequestCreationFailure(W,y.default.unsubscribeRequestLog)},L.prototype.unsubscribeFromEndpoint=function(){if(this.ic3Info.visitor||h.default.isNullOrUndefined(this.ic3Info.endpointId)||this.skipUnsubscribe)return this.skipUnsubscribe=!0,Promise.resolve();var W=v.default.getV1DeleteEndpointUrl(this.ic3Info.RegionGtms,this.ic3Info.endpointId),B=C.default.getDefaultIC3Headers();B[_.default.AuthenticationHeader]=_.default.SkypeTokenHeaderValue+this.ic3Info.SkypeToken,B[_.default.RegistrationTokenHeader]=this.ic3Info.RegistrationToken,B[_.default.ContentTypeHeader]=y.default.ContentTypeJson;var F={callbackOnFailure:this.onUnsubscribeCreationFailure.bind(this),enableExponentialBackoff:!0,headers:B,redirect404RetryCount:y.default.retryCount,retryCount:y.default.retryCount,shouldRedirectOn404:!0,shouldResetOnFailure:!0,shouldRetryOnFailure:p.default.shouldRetryOnFailure,timeBetweenRetry:y.default.timeBetweenOperationRetry,type:P.default.DELETE,url:W};return T.HttpClient.MakeRequest(F)},L.prototype.onRequestCreationFailure=function(W,B){var F,V,K=h.default.getResponseHeader(W,_.default.LocationHeader);this.telemetryMessage=B+" failed. Error Code: "+W.status+".",this.errorCode=W.status.toString(),this.skipUnsubscribe=!0,W.status!==b.default.Redirect||h.default.isNullOrEmptyString(K)?(null===(V=this.logger)||void 0===V||V.log(w.default.WARN,S.default.ResetOnRequestCreationFailure,{Description:this.telemetryMessage+" Trying to reset.",ErrorCode:W.status.toString(),EndpointUrl:this.ic3Info.RegionGtms.chatService,EndpointId:this.ic3Info.endpointId}),this.current404RetryCount=0,this.currentOtherRetryCount++):(null===(F=this.logger)||void 0===F||F.log(w.default.WARN,S.default.RedirectOnRequestCreationFailure,{Description:this.telemetryMessage+" Trying to redirect.",ErrorCode:W.status.toString(),EndpointUrl:this.ic3Info.RegionGtms.chatService,EndpointId:this.ic3Info.endpointId}),this.onRequestCreationFailureRedirect(W))},L.prototype.redirectErrorHandler=function(W){var F,B=this;return W.message===y.default.Reset_Flag&&this.current404RetryCount<=y.default.retry404Count&&this.currentOtherRetryCount<=y.default.retryCount?this.reset().then(function(){return B.initializeIC3()}):(null===(F=this.logger)||void 0===F||F.log(w.default.ERROR,S.default.MaxRetryCountReachedForRedirect,{Description:"Fatal Error. Initialization failed. Maximum retry count reached. Exiting. "+this.telemetryMessage,ErrorCode:this.errorCode,ExceptionDetails:W,EndpointUrl:this.ic3Info.RegionGtms.chatService,EndpointId:this.ic3Info.endpointId}),this.reset().then(function(){return Promise.reject(W.message)}))},L.prototype.onRequestCreationFailureRedirect=function(W){var B;this.current404RetryCount++,this.currentOtherRetryCount=0,this.ic3Info.RegionGtms.chatService=p.default.parseChatServiceHostUrl(h.default.getResponseHeader(W,_.default.LocationHeader)),null===(B=this.logger)||void 0===B||B.log(w.default.WARN,S.default.OnRequestCreationFailureRedirect,{Description:"Endpoint changed.",EndpointUrl:this.ic3Info.RegionGtms.chatService,EndpointId:this.ic3Info.endpointId})},L}();g.default=O},9202:($,g,c)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var u=c(2518),I=c(1356),y=function(){function _(){}return _.getSDK=function(D){return new Promise(function(m){var v=u.default.getClientBridge({hostType:D.hostType,protocolType:D.protocolType}),h={logger:new I.default(v,D.logger)};return v.setup(h).then(function(){var f={dispose:v.dispose.bind(v),id:v.id,initialize:v.initialize.bind(v),joinConversation:v.joinConversation.bind(v),update:v.update.bind(v),setDebug:v.setDebug.bind(v)};return m(f)})})},_}();g.default=y},2915:($,g,c)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.HttpClient=void 0;var u=c(909),I=c(501),y=c(3671),_=c(752),D=c(6849),m=c(9306),C=c(8686),v=function(){function h(){}return h.MakeRequest=function(f){return new Promise(function(S,b){var P=0,O=f.retryCount||1,L={url:f.url,method:f.type,data:f.data,timeout:f.timeout,headers:f.headers,withCredentials:f.useXHRWithCredentials||!1},W=function(){C.default.request(L).then(function(B){!function(B,F){if(F.status>=400){var V={ResponseText:F.statusText,Status:status};h.logWarning("Requesting "+f.url,F.status,V)}f.callbackOnSuccess&&f.callbackOnSuccess(F),S(B)}(B.data,B)}).catch(function(B){!function(B){var F,V,K,q,G,ae,z,ee,ie,ue,Z={ErrorThrown:B.message,ResponseText:null===(F=B.response)||void 0===F?void 0:F.statusText,Status:null===(V=B.response)||void 0===V?void 0:V.status},x=function(){var H,X;h.logError("Request to "+f.url+" failed.",(null===(H=B.response)||void 0===H?void 0:H.status)||0,Z),b(new Error((null===(X=B.response)||void 0===X?void 0:X.statusText)||""))},k=function(){var H;h.logError("Request to "+f.url+" failed. Resetting endpoint.",(null===(H=B.response)||void 0===H?void 0:H.status)||0,Z),f.callbackOnFailure&&f.callbackOnFailure(B),b(new Error(I.default.Reset_Flag))},j=function(){var H;P++;var X=f.timeBetweenRetry||0;(f.enableExponentialBackoff||(null===(H=B.response)||void 0===H?void 0:H.status)===m.default.TooManyRequests)&&(X*=Math.exp(P)),setTimeout(function(){W()},X)},M=null===(K=B.response)||void 0===K?void 0:K.headers[D.default.LocationHeader],R=null===(q=B.response)||void 0===q?void 0:q.headers[D.default.SetRegistrationTokenHeader];(null===(G=B.response)||void 0===G?void 0:G.status)!==m.default.Redirect||u.default.isNullOrEmptyString(M)?(null===(ae=B.response)||void 0===ae?void 0:ae.status)!==m.default.Unauthorized&&(null===(z=B.response)||void 0===z?void 0:z.status)!==m.default.Forbidden||u.default.isNullOrEmptyString(R)?P<=O&&f.shouldRetryOnFailure&&f.shouldRetryOnFailure((null===(ie=B.response)||void 0===ie?void 0:ie.status)||0)||(null===(ue=B.response)||void 0===ue?void 0:ue.status)===m.default.TooManyRequests?j():f.shouldResetOnFailure?k():x():P<=O&&f.shouldRetryOnFailure&&f.shouldRetryOnFailure((null===(ee=B.response)||void 0===ee?void 0:ee.status)||0)?(f.headers&&(f.headers[D.default.RegistrationTokenHeader]=u.default.getRegistrationTokenValue(R)),j()):f.shouldResetOnFailure?k():x():f.shouldRedirectOn404?k():P<=O?(f.url=M,j()):x()}(B)})};W()})},h.isClientError=function(f){if(!f)return!1;var w=f.message,S=!1;return u.default.isNullOrEmptyString(w)||(S=w.search(/Status- 40\d/)>=-1),S},h.setLogger=function(f){h.logger=f},h.logError=function(f,w,S){h.logger&&h.logger.log(_.default.ERROR,y.default.HTTPRequestFailed,{Description:f,ErrorCode:w.toString(),ExceptionDetails:S})},h.logWarning=function(f,w,S){h.logger&&h.logger.log(_.default.INFO,y.default.HTTPRequestUnusualResponse,{Description:f,ErrorCode:w.toString(),ExceptionDetails:S})},h}();g.HttpClient=v},9306:($,g)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var c=function(){function u(){}return u.OK=200,u.Created=201,u.Accepted=202,u.NoContent=204,u.Unauthorized=401,u.Forbidden=403,u.Redirect=404,u.TooManyRequests=429,u.InternalServerError=500,u.ServiceUnavailable=503,u.NotFound=729,u}();g.default=c},5256:($,g)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var c=function(){function u(){}return u.TEXT="text",u}();g.default=c},6849:($,g)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var c=function(){function u(){}return u.LocationHeader="location",u.SetRegistrationTokenHeader="set-registrationtoken",u.RegistrationTokenHeader="RegistrationToken",u.RegistrationTokenHeaderValue="registrationToken=",u.ContentTypeHeader="content-type",u.AuthenticationHeader="authentication",u.BehaviorOverrideHeader="behavioroverride",u.SkypeTokenHeaderValue="skypetoken=",u.SetEndpointProperty="supportsMessageProperties",u}();g.default=c},5874:($,g)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var c=(()=>{return(u=c||(c={})).GET="get",u.POST="post",u.PUT="put",u.DELETE="delete",c;var u})();g.default=c},6648:($,g,c)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var u=c(501),I=c(737),y=function(){function _(){}return _.getDefaultIC3Headers=function(){return{Accept:u.default.ContentTypeJson,BehaviorOverride:u.default.RedirectAs404,ClientInfo:u.default.ClientInfoValue,ContextId:"tcid="+I.uuidv4(),Expires:0,Pragma:u.default.NoCache,"x-ms-client-type":u.default.Web,"x-ms-user-type":u.default.User}},_.getDefaultBaseIC3Headers=function(){return{Accept:u.default.ContentTypeJson,BehaviorOverride:u.default.RedirectAs404,"content-type":u.default.ContentTypeJson}},_.getDefaultGetMessagesQueryParameters=function(){return{pageSize:20,startTime:0,view:"msnp24Equivalent|supportsMessageProperties"}},_.getDefaultAMSHeaders=function(D){return{Authorization:u.default.AMSAuthorizationSkypeTokenValue+D,"X-MS-Client-Version":u.default.ClientInfoValue}},_.getDefaultAMSViewHeaders=function(D){return{Accept:u.default.AMSAcceptHeaderValue,"Accept-Encoding":u.default.AMSAcceptEncodingHeaderValue,Authorization:u.default.AMSAuthorizationSkypeTokenValue+D,"X-MS-Client-Version":u.default.ClientInfoValue}},_}();g.default=y},6194:($,g,c)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.SDKProvider=void 0;var u=c(9202);g.SDKProvider=u.default},2217:($,g)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var c=function(){function u(){}return u.IFrame=0,u.Page=1,u}();g.default=c},5655:($,g)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var c=function(){function u(){}return u.IC3V1SDK=0,u.IC3V2SDK=1,u.MockIC3SDK=2,u}();g.default=c},3671:($,g)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var c=(()=>{return(u=c||(c={})).JoinConversation="JoinConversation",u.RegisterOnNewMessage="RegisterOnNewMessage",u.RegisterOnThreadUpdate="RegisterOnThreadUpdate",u.OnNewMessageFailure="OnNewMessageFailure",u.OnThreadUpdateFailure="OnThreadUpdateFailure",u.SendLiveStateFailure="SendLiveStateFailure",u.JoinConversationV1GetThreadRequestFailed="JoinConversationV1GetThreadRequestFailed",u.UpdateToken="UpdateToken",u.SyncingPollData="SyncingPollData",u.IC3InitializationBegins="IC3InitializationBegins",u.IC3StartedPolling="IC3StartedPolling",u.IC3StoppedPolling="IC3StoppedPolling",u.IC3EndpointCreationSuccess="IC3EndpointCreationSuccess",u.RedirectOnRequestCreationFailure="RedirectOnRequestCreationFailure",u.ResetOnRequestCreationFailure="ResetOnRequestCreationFailure",u.MaxRetryCountReachedForRedirect="MaxRetryCountReachedForRedirect",u.OnRequestCreationFailureRedirect="OnRequestCreationFailureRedirect",u.OnRequestCreationSuccessRedirect="OnRequestCreationSuccessRedirect",u.ErrorDuringPolling="ErrorDuringPolling",u.HTTPRequestFailed="HTTPRequestFailed",u.HTTPRequestUnusualResponse="HTTPRequestUnusualResponse",c;var u})();g.default=c},752:($,g)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var c=(()=>{return(u=c||(c={})).INFO="INFO",u.DEBUG="DEBUG",u.WARN="WARN",u.ERROR="ERROR",c;var u})();g.default=c},1356:($,g,c)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var u=c(909),I=c(8261),y=function(){function _(D,m){this.sdk=D,this.logger=m}return _.prototype.log=function(D,m,C){if(this.isLoggingEnabled()){var v=I.default.getTelemetryEventData(this.sdk,m,C);this.logEvent(D,v)}},_.prototype.logEvent=function(D,m){this.isLoggingEnabled()&&setTimeout(this.logger.logClientSdkTelemetryEvent.bind(this.logger),0,D,m)},_.prototype.isLoggingEnabled=function(){return!u.default.isNullOrUndefined(this.logger)},_}();g.default=y},8261:($,g)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var c=function(){function u(){}return u.getTelemetryEventData=function(I,y,_){return{Description:_.Description,ElapsedTimeInMilliseconds:_.ElapsedTimeInMilliseconds,EndpointUrl:_.EndpointUrl,EndpointId:_.EndpointId,ErrorCode:_.ErrorCode,Event:y,ExceptionDetails:_.ExceptionDetails,ShouldBubbleToHost:_.ShouldBubbleToHost,SubscriptionId:I.id}},u}();g.default=c},2900:($,g)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var c=function(){function u(){}return u.Bridged="bridged",u.Unbridged="unbridged",u}();g.default=c},4694:($,g)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var c=(()=>{return(u=c||(c={}))[u.AmsBasedFileSharing=0]="AmsBasedFileSharing",c;var u})();g.default=c},6355:($,g)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var c=(()=>{return(u=c||(c={}))[u.Unknown=0]="Unknown",u[u.InProgress=1]="InProgress",u[u.Success=2]="Success",u[u.Error=3]="Error",c;var u})();g.default=c},5850:($,g)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var c=function(){function u(){}return u.ConversationProperties="/v1/users/ME/conversations/ALL/properties",u.ConversationMessages="/v1/users/ME/conversations/ALL/messages",u.Threads="/v1/threads/ALL",u.Contacts="/v1/users/ME/contacts/ALL",u}();g.default=c},8311:($,g)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var c=function(){function u(){}return u.Agent="Agent",u.MessageProperties="MessageProperties",u.InviteFree="InviteFree",u}();g.default=c},448:($,g)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var c=function(){function u(){}return u.RichText="RichText",u.Text="Text",u}();g.default=c},3207:($,g)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var c=function(){function u(){}return u.Text="Text",u.RichText="RichText",u.RichTextHtml="RichText/Html",u.ControlTyping="Control/Typing",u.ControlClearTyping="Control/ClearTyping",u.LiveState="Control/LiveState",u}();g.default=c},3372:($,g)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var c=function(){function u(){}return u.UserMessage="UserMessage",u.SwiftCard="SwiftCard",u.Typing="Control/Typing",u.ClearTyping="Control/ClearTyping",u.LiveState="Control/LiveState",u}();g.default=c},4352:($,g)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var c=(()=>{return(u=c||(c={}))[u.Unknown=0]="Unknown",u[u.User=1]="User",u[u.Bot=2]="Bot",c;var u})();g.default=c},5785:($,g)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var c=function(){function u(){}return u.NewMessage="NewMessage",u.MessageUpdate="MessageUpdate",u.UserPresence="UserPresence",u.ConversationUpdate="ConversationUpdate",u.ThreadUpdate="ThreadUpdate",u}();g.default=c},7708:($,g)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var c=(()=>{return(u=c||(c={}))[u.Typing=0]="Typing",u[u.ClearTyping=1]="ClearTyping",c;var u})();g.default=c},3805:($,g,c)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var u=c(1927),I=c(2553),y=c(501),_=function(){function D(m,C,v,h){this.isPolling=!1,this._ic3Info=m,this._onNewData=C,this._onError=v,this.callbackOnFailure=h}return D.prototype.start=function(){return this.isPolling||(this.isPolling=!0,this.startPolling()),Promise.resolve()},D.prototype.stop=function(){return this.isPolling=!1,Promise.resolve()},Object.defineProperty(D.prototype,"onNewData",{get:function(){return this._onNewData},set:function(m){this._onNewData=m},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"onError",{get:function(){return this._onError},set:function(m){this._onError=m},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"setCallbackOnFailure",{set:function(m){this.setCallbackOnFailure=m},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"ic3Info",{get:function(){return this._ic3Info},set:function(m){this._ic3Info=m},enumerable:!1,configurable:!0}),D.prototype.startPolling=function(){var m=this;this.isPolling&&this.poll().then(function(C){m.isPolling&&m._onNewData&&m._onNewData(C)}).catch(function(C){m._onError&&m._onError(C)}).then(function(){m.startPolling()})},D.prototype.poll=function(){var m=u.default.getV1PollUrl(this._ic3Info.RegionGtms,this._ic3Info.subscriptionId);return I.default.poll(m,this._ic3Info.RegistrationToken,this.callbackOnEachRequestCompleted.bind(this))},D.prototype.callbackOnEachRequestCompleted=function(m){this.callbackOnFailure(m,y.default.pollRequestLog)},D}();g.default=_},2553:($,g,c)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var u=c(501),I=c(2915),y=c(6849),_=c(5874),D=c(6648),m=c(8636),C=function(){function v(){}return v.poll=function(h,f,w){var S=D.default.getDefaultIC3Headers();S[y.default.RegistrationTokenHeader]=f,S[y.default.ContentTypeHeader]=u.default.ContentTypeJson;var b=JSON.stringify({});return I.HttpClient.MakeRequest({callbackOnFailure:w,data:b,enableExponentialBackoff:!0,headers:S,redirect404RetryCount:u.default.retryCount,retryCount:u.default.retryCount,shouldRedirectOn404:!0,shouldResetOnFailure:!0,shouldRetryOnFailure:m.default.shouldRetryOnFailure,timeBetweenRetry:u.default.timeBetweenOperationRetry,type:_.default.POST,url:h})},v}();g.default=C},737:($,g)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.uuidv4=void 0,g.uuidv4=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(c){var u=16*Math.random()|0;return("x"===c?u:3&u|8).toString(16)})}},8686:($,g,c)=>{$.exports=c(5454)},4054:($,g,c)=>{"use strict";var u=c(9471),I=c(5650),y=c(300),_=c(7790),D=c(4634),m=c(1929),C=c(2984),v=c(5886);$.exports=function(f){return new Promise(function(S,b){var p=f.data,T=f.headers,P=f.responseType;u.isFormData(p)&&delete T["Content-Type"];var O=new XMLHttpRequest;if(f.auth){var L=f.auth.username||"",W=f.auth.password?unescape(encodeURIComponent(f.auth.password)):"";T.Authorization="Basic "+btoa(L+":"+W)}var B=D(f.baseURL,f.url);function F(){if(O){var K="getAllResponseHeaders"in O?m(O.getAllResponseHeaders()):null;I(S,b,{data:P&&"text"!==P&&"json"!==P?O.response:O.responseText,status:O.status,statusText:O.statusText,headers:K,config:f,request:O}),O=null}}if(O.open(f.method.toUpperCase(),_(B,f.params,f.paramsSerializer),!0),O.timeout=f.timeout,"onloadend"in O?O.onloadend=F:O.onreadystatechange=function(){!O||4!==O.readyState||0===O.status&&(!O.responseURL||0!==O.responseURL.indexOf("file:"))||setTimeout(F)},O.onabort=function(){!O||(b(v("Request aborted",f,"ECONNABORTED",O)),O=null)},O.onerror=function(){b(v("Network Error",f,null,O)),O=null},O.ontimeout=function(){var q="timeout of "+f.timeout+"ms exceeded";f.timeoutErrorMessage&&(q=f.timeoutErrorMessage),b(v(q,f,f.transitional&&f.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",O)),O=null},u.isStandardBrowserEnv()){var V=(f.withCredentials||C(B))&&f.xsrfCookieName?y.read(f.xsrfCookieName):void 0;V&&(T[f.xsrfHeaderName]=V)}"setRequestHeader"in O&&u.forEach(T,function(q,G){void 0===p&&"content-type"===G.toLowerCase()?delete T[G]:O.setRequestHeader(G,q)}),u.isUndefined(f.withCredentials)||(O.withCredentials=!!f.withCredentials),P&&"json"!==P&&(O.responseType=f.responseType),"function"==typeof f.onDownloadProgress&&O.addEventListener("progress",f.onDownloadProgress),"function"==typeof f.onUploadProgress&&O.upload&&O.upload.addEventListener("progress",f.onUploadProgress),f.cancelToken&&f.cancelToken.promise.then(function(q){!O||(O.abort(),b(q),O=null)}),p||(p=null),O.send(p)})}},5454:($,g,c)=>{"use strict";var u=c(9471),I=c(1533),y=c(3227),_=c(4018);function m(v){var h=new y(v),f=I(y.prototype.request,h);return u.extend(f,y.prototype,h),u.extend(f,h),f}var C=m(c(2567));C.Axios=y,C.create=function(h){return m(_(C.defaults,h))},C.Cancel=c(8728),C.CancelToken=c(701),C.isCancel=c(2130),C.all=function(h){return Promise.all(h)},C.spread=c(8908),C.isAxiosError=c(9541),$.exports=C,$.exports.default=C},8728:$=>{"use strict";function g(c){this.message=c}g.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},g.prototype.__CANCEL__=!0,$.exports=g},701:($,g,c)=>{"use strict";var u=c(8728);function I(y){if("function"!=typeof y)throw new TypeError("executor must be a function.");var _;this.promise=new Promise(function(C){_=C});var D=this;y(function(C){D.reason||(D.reason=new u(C),_(D.reason))})}I.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},I.source=function(){var _;return{token:new I(function(C){_=C}),cancel:_}},$.exports=I},2130:$=>{"use strict";$.exports=function(c){return!(!c||!c.__CANCEL__)}},3227:($,g,c)=>{"use strict";var u=c(9471),I=c(7790),y=c(3976),_=c(6764),D=c(4018),m=c(3558),C=m.validators;function v(h){this.defaults=h,this.interceptors={request:new y,response:new y}}v.prototype.request=function(f){"string"==typeof f?(f=arguments[1]||{}).url=arguments[0]:f=f||{},(f=D(this.defaults,f)).method=f.method?f.method.toLowerCase():this.defaults.method?this.defaults.method.toLowerCase():"get";var w=f.transitional;void 0!==w&&m.assertOptions(w,{silentJSONParsing:C.transitional(C.boolean,"1.0.0"),forcedJSONParsing:C.transitional(C.boolean,"1.0.0"),clarifyTimeoutError:C.transitional(C.boolean,"1.0.0")},!1);var S=[],b=!0;this.interceptors.request.forEach(function(F){"function"==typeof F.runWhen&&!1===F.runWhen(f)||(b=b&&F.synchronous,S.unshift(F.fulfilled,F.rejected))});var T,p=[];if(this.interceptors.response.forEach(function(F){p.push(F.fulfilled,F.rejected)}),!b){var P=[_,void 0];for(Array.prototype.unshift.apply(P,S),P=P.concat(p),T=Promise.resolve(f);P.length;)T=T.then(P.shift(),P.shift());return T}for(var O=f;S.length;){var L=S.shift(),W=S.shift();try{O=L(O)}catch(B){W(B);break}}try{T=_(O)}catch(B){return Promise.reject(B)}for(;p.length;)T=T.then(p.shift(),p.shift());return T},v.prototype.getUri=function(f){return f=D(this.defaults,f),I(f.url,f.params,f.paramsSerializer).replace(/^\?/,"")},u.forEach(["delete","get","head","options"],function(f){v.prototype[f]=function(w,S){return this.request(D(S||{},{method:f,url:w,data:(S||{}).data}))}}),u.forEach(["post","put","patch"],function(f){v.prototype[f]=function(w,S,b){return this.request(D(b||{},{method:f,url:w,data:S}))}}),$.exports=v},3976:($,g,c)=>{"use strict";var u=c(9471);function I(){this.handlers=[]}I.prototype.use=function(_,D,m){return this.handlers.push({fulfilled:_,rejected:D,synchronous:!!m&&m.synchronous,runWhen:m?m.runWhen:null}),this.handlers.length-1},I.prototype.eject=function(_){this.handlers[_]&&(this.handlers[_]=null)},I.prototype.forEach=function(_){u.forEach(this.handlers,function(m){null!==m&&_(m)})},$.exports=I},4634:($,g,c)=>{"use strict";var u=c(5164),I=c(1540);$.exports=function(_,D){return _&&!u(D)?I(_,D):D}},5886:($,g,c)=>{"use strict";var u=c(9570);$.exports=function(y,_,D,m,C){var v=new Error(y);return u(v,_,D,m,C)}},6764:($,g,c)=>{"use strict";var u=c(9471),I=c(4284),y=c(2130),_=c(2567);function D(m){m.cancelToken&&m.cancelToken.throwIfRequested()}$.exports=function(C){return D(C),C.headers=C.headers||{},C.data=I.call(C,C.data,C.headers,C.transformRequest),C.headers=u.merge(C.headers.common||{},C.headers[C.method]||{},C.headers),u.forEach(["delete","get","head","post","put","patch","common"],function(f){delete C.headers[f]}),(C.adapter||_.adapter)(C).then(function(f){return D(C),f.data=I.call(C,f.data,f.headers,C.transformResponse),f},function(f){return y(f)||(D(C),f&&f.response&&(f.response.data=I.call(C,f.response.data,f.response.headers,C.transformResponse))),Promise.reject(f)})}},9570:$=>{"use strict";$.exports=function(c,u,I,y,_){return c.config=u,I&&(c.code=I),c.request=y,c.response=_,c.isAxiosError=!0,c.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},c}},4018:($,g,c)=>{"use strict";var u=c(9471);$.exports=function(y,_){_=_||{};var D={},m=["url","method","data"],C=["headers","auth","proxy","params"],v=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],h=["validateStatus"];function f(p,T){return u.isPlainObject(p)&&u.isPlainObject(T)?u.merge(p,T):u.isPlainObject(T)?u.merge({},T):u.isArray(T)?T.slice():T}function w(p){u.isUndefined(_[p])?u.isUndefined(y[p])||(D[p]=f(void 0,y[p])):D[p]=f(y[p],_[p])}u.forEach(m,function(T){u.isUndefined(_[T])||(D[T]=f(void 0,_[T]))}),u.forEach(C,w),u.forEach(v,function(T){u.isUndefined(_[T])?u.isUndefined(y[T])||(D[T]=f(void 0,y[T])):D[T]=f(void 0,_[T])}),u.forEach(h,function(T){T in _?D[T]=f(y[T],_[T]):T in y&&(D[T]=f(void 0,y[T]))});var S=m.concat(C).concat(v).concat(h),b=Object.keys(y).concat(Object.keys(_)).filter(function(T){return-1===S.indexOf(T)});return u.forEach(b,w),D}},5650:($,g,c)=>{"use strict";var u=c(5886);$.exports=function(y,_,D){var m=D.config.validateStatus;D.status&&m&&!m(D.status)?_(u("Request failed with status code "+D.status,D.config,null,D.request,D)):y(D)}},4284:($,g,c)=>{"use strict";var u=c(9471),I=c(2567);$.exports=function(_,D,m){var C=this||I;return u.forEach(m,function(h){_=h.call(C,_,D)}),_}},2567:($,g,c)=>{"use strict";var u=c(9471),I=c(2196),y=c(9570),_={"Content-Type":"application/x-www-form-urlencoded"};function D(h,f){!u.isUndefined(h)&&u.isUndefined(h["Content-Type"])&&(h["Content-Type"]=f)}var h,v={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(h=c(4054)),h),transformRequest:[function(f,w){return I(w,"Accept"),I(w,"Content-Type"),u.isFormData(f)||u.isArrayBuffer(f)||u.isBuffer(f)||u.isStream(f)||u.isFile(f)||u.isBlob(f)?f:u.isArrayBufferView(f)?f.buffer:u.isURLSearchParams(f)?(D(w,"application/x-www-form-urlencoded;charset=utf-8"),f.toString()):u.isObject(f)||w&&"application/json"===w["Content-Type"]?(D(w,"application/json"),function(h,f,w){if(u.isString(h))try{return(0,JSON.parse)(h),u.trim(h)}catch(S){if("SyntaxError"!==S.name)throw S}return(0,JSON.stringify)(h)}(f)):f}],transformResponse:[function(f){var w=this.transitional,p=!(w&&w.silentJSONParsing)&&"json"===this.responseType;if(p||w&&w.forcedJSONParsing&&u.isString(f)&&f.length)try{return JSON.parse(f)}catch(T){if(p)throw"SyntaxError"===T.name?y(T,this,"E_JSON_PARSE"):T}return f}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(f){return f>=200&&f<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};u.forEach(["delete","get","head"],function(f){v.headers[f]={}}),u.forEach(["post","put","patch"],function(f){v.headers[f]=u.merge(_)}),$.exports=v},1533:$=>{"use strict";$.exports=function(c,u){return function(){for(var y=new Array(arguments.length),_=0;_<y.length;_++)y[_]=arguments[_];return c.apply(u,y)}}},7790:($,g,c)=>{"use strict";var u=c(9471);function I(y){return encodeURIComponent(y).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}$.exports=function(_,D,m){if(!D)return _;var C;if(m)C=m(D);else if(u.isURLSearchParams(D))C=D.toString();else{var v=[];u.forEach(D,function(w,S){null==w||(u.isArray(w)?S+="[]":w=[w],u.forEach(w,function(p){u.isDate(p)?p=p.toISOString():u.isObject(p)&&(p=JSON.stringify(p)),v.push(I(S)+"="+I(p))}))}),C=v.join("&")}if(C){var h=_.indexOf("#");-1!==h&&(_=_.slice(0,h)),_+=(-1===_.indexOf("?")?"?":"&")+C}return _}},1540:$=>{"use strict";$.exports=function(c,u){return u?c.replace(/\/+$/,"")+"/"+u.replace(/^\/+/,""):c}},300:($,g,c)=>{"use strict";var u=c(9471);$.exports=u.isStandardBrowserEnv()?{write:function(_,D,m,C,v,h){var f=[];f.push(_+"="+encodeURIComponent(D)),u.isNumber(m)&&f.push("expires="+new Date(m).toGMTString()),u.isString(C)&&f.push("path="+C),u.isString(v)&&f.push("domain="+v),!0===h&&f.push("secure"),document.cookie=f.join("; ")},read:function(_){var D=document.cookie.match(new RegExp("(^|;\\s*)("+_+")=([^;]*)"));return D?decodeURIComponent(D[3]):null},remove:function(_){this.write(_,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},5164:$=>{"use strict";$.exports=function(c){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(c)}},9541:$=>{"use strict";$.exports=function(c){return"object"==typeof c&&!0===c.isAxiosError}},2984:($,g,c)=>{"use strict";var u=c(9471);$.exports=u.isStandardBrowserEnv()?function(){var D,y=/(msie|trident)/i.test(navigator.userAgent),_=document.createElement("a");function m(C){var v=C;return y&&(_.setAttribute("href",v),v=_.href),_.setAttribute("href",v),{href:_.href,protocol:_.protocol?_.protocol.replace(/:$/,""):"",host:_.host,search:_.search?_.search.replace(/^\?/,""):"",hash:_.hash?_.hash.replace(/^#/,""):"",hostname:_.hostname,port:_.port,pathname:"/"===_.pathname.charAt(0)?_.pathname:"/"+_.pathname}}return D=m(window.location.href),function(v){var h=u.isString(v)?m(v):v;return h.protocol===D.protocol&&h.host===D.host}}():function(){return!0}},2196:($,g,c)=>{"use strict";var u=c(9471);$.exports=function(y,_){u.forEach(y,function(m,C){C!==_&&C.toUpperCase()===_.toUpperCase()&&(y[_]=m,delete y[C])})}},1929:($,g,c)=>{"use strict";var u=c(9471),I=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];$.exports=function(_){var m,C,v,D={};return _&&u.forEach(_.split("\n"),function(f){if(v=f.indexOf(":"),m=u.trim(f.substr(0,v)).toLowerCase(),C=u.trim(f.substr(v+1)),m){if(D[m]&&I.indexOf(m)>=0)return;D[m]="set-cookie"===m?(D[m]?D[m]:[]).concat([C]):D[m]?D[m]+", "+C:C}}),D}},8908:$=>{"use strict";$.exports=function(c){return function(I){return c.apply(null,I)}}},3558:($,g,c)=>{"use strict";var u=c(8593),I={};["object","boolean","number","function","string","symbol"].forEach(function(C,v){I[C]=function(f){return typeof f===C||"a"+(v<1?"n ":" ")+C}});var y={},_=u.version.split(".");function D(C,v){for(var h=v?v.split("."):_,f=C.split("."),w=0;w<3;w++){if(h[w]>f[w])return!0;if(h[w]<f[w])return!1}return!1}I.transitional=function(v,h,f){var w=h&&D(h);function S(b,p){return"[Axios v"+u.version+"] Transitional option '"+b+"'"+p+(f?". "+f:"")}return function(b,p,T){if(!1===v)throw new Error(S(p," has been removed in "+h));return w&&!y[p]&&(y[p]=!0,console.warn(S(p," has been deprecated since v"+h+" and will be removed in the near future"))),!v||v(b,p,T)}},$.exports={isOlderVersion:D,assertOptions:function(C,v,h){if("object"!=typeof C)throw new TypeError("options must be an object");for(var f=Object.keys(C),w=f.length;w-- >0;){var S=f[w],b=v[S];if(b){var p=C[S],T=void 0===p||b(p,S,C);if(!0!==T)throw new TypeError("option "+S+" must be "+T)}else if(!0!==h)throw Error("Unknown option "+S)}},validators:I}},9471:($,g,c)=>{"use strict";var u=c(1533),I=Object.prototype.toString;function y(G){return"[object Array]"===I.call(G)}function _(G){return void 0===G}function w(G){return null!==G&&"object"==typeof G}function S(G){if("[object Object]"!==I.call(G))return!1;var ae=Object.getPrototypeOf(G);return null===ae||ae===Object.prototype}function P(G){return"[object Function]"===I.call(G)}function F(G,ae){if(null!=G)if("object"!=typeof G&&(G=[G]),y(G))for(var z=0,ee=G.length;z<ee;z++)ae.call(null,G[z],z,G);else for(var ie in G)Object.prototype.hasOwnProperty.call(G,ie)&&ae.call(null,G[ie],ie,G)}$.exports={isArray:y,isArrayBuffer:function(G){return"[object ArrayBuffer]"===I.call(G)},isBuffer:function(G){return null!==G&&!_(G)&&null!==G.constructor&&!_(G.constructor)&&"function"==typeof G.constructor.isBuffer&&G.constructor.isBuffer(G)},isFormData:function(G){return"undefined"!=typeof FormData&&G instanceof FormData},isArrayBufferView:function(G){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(G):G&&G.buffer&&G.buffer instanceof ArrayBuffer},isString:function(G){return"string"==typeof G},isNumber:function(G){return"number"==typeof G},isObject:w,isPlainObject:S,isUndefined:_,isDate:function(G){return"[object Date]"===I.call(G)},isFile:function(G){return"[object File]"===I.call(G)},isBlob:function(G){return"[object Blob]"===I.call(G)},isFunction:P,isStream:function(G){return w(G)&&P(G.pipe)},isURLSearchParams:function(G){return"undefined"!=typeof URLSearchParams&&G instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:F,merge:function V(){var G={};function ae(ie,ue){G[ue]=S(G[ue])&&S(ie)?V(G[ue],ie):S(ie)?V({},ie):y(ie)?ie.slice():ie}for(var z=0,ee=arguments.length;z<ee;z++)F(arguments[z],ae);return G},extend:function(G,ae,z){return F(ae,function(ie,ue){G[ue]=z&&"function"==typeof ie?u(ie,z):ie}),G},trim:function(G){return G.trim?G.trim():G.replace(/^\s+|\s+$/g,"")},stripBOM:function(G){return 65279===G.charCodeAt(0)&&(G=G.slice(1)),G}}},8228:$=>{"use strict";var g=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable;function I(_){if(null==_)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(_)}$.exports=function(){try{if(!Object.assign)return!1;var _=new String("abc");if(_[5]="de","5"===Object.getOwnPropertyNames(_)[0])return!1;for(var D={},m=0;m<10;m++)D["_"+String.fromCharCode(m)]=m;if("0123456789"!==Object.getOwnPropertyNames(D).map(function(h){return D[h]}).join(""))return!1;var v={};return"abcdefghijklmnopqrst".split("").forEach(function(h){v[h]=h}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},v)).join("")}catch(h){return!1}}()?Object.assign:function(_,D){for(var m,v,C=I(_),h=1;h<arguments.length;h++){for(var f in m=Object(arguments[h]))c.call(m,f)&&(C[f]=m[f]);if(g){v=g(m);for(var w=0;w<v.length;w++)u.call(m,v[w])&&(C[v[w]]=m[v[w]])}}return C}},5429:($,g,c)=>{"use strict";var I=c(8228),y=60103;if("function"==typeof Symbol&&Symbol.for){var f=Symbol.for;y=f("react.element"),f("react.portal"),f("react.fragment"),f("react.strict_mode"),f("react.profiler"),f("react.provider"),f("react.context"),f("react.forward_ref"),f("react.suspense"),f("react.memo"),f("react.lazy")}"function"==typeof Symbol&&Symbol;function b(M){for(var R="https://reactjs.org/docs/error-decoder.html?invariant="+M,H=1;H<arguments.length;H++)R+="&args[]="+encodeURIComponent(arguments[H]);return"Minified React error #"+M+"; visit "+R+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T={};function P(M,R,H){this.props=M,this.context=R,this.refs=T,this.updater=H||p}function O(){}function L(M,R,H){this.props=M,this.context=R,this.refs=T,this.updater=H||p}P.prototype.isReactComponent={},P.prototype.setState=function(M,R){if("object"!=typeof M&&"function"!=typeof M&&null!=M)throw Error(b(85));this.updater.enqueueSetState(this,M,R,"setState")},P.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")},O.prototype=P.prototype;var W=L.prototype=new O;W.constructor=L,I(W,P.prototype),W.isPureReactComponent=!0;var B_current=null,F=Object.prototype.hasOwnProperty,V={key:!0,ref:!0,__self:!0,__source:!0};g.createElement=function(M,R,H){var X,re={},J=null,ne=null;if(null!=R)for(X in void 0!==R.ref&&(ne=R.ref),void 0!==R.key&&(J=""+R.key),R)F.call(R,X)&&!V.hasOwnProperty(X)&&(re[X]=R[X]);var se=arguments.length-2;if(1===se)re.children=H;else if(1<se){for(var le=Array(se),ce=0;ce<se;ce++)le[ce]=arguments[ce+2];re.children=le}if(M&&M.defaultProps)for(X in se=M.defaultProps)void 0===re[X]&&(re[X]=se[X]);return{$$typeof:y,type:M,key:J,ref:ne,props:re,_owner:B_current}}},8139:($,g,c)=>{"use strict";$.exports=c(5429)},7941:$=>{var g=function(c){"use strict";var y,u=Object.prototype,I=u.hasOwnProperty,_="function"==typeof Symbol?Symbol:{},D=_.iterator||"@@iterator",m=_.asyncIterator||"@@asyncIterator",C=_.toStringTag||"@@toStringTag";function v(x,k,j){return Object.defineProperty(x,k,{value:j,enumerable:!0,configurable:!0,writable:!0}),x[k]}try{v({},"")}catch(x){v=function(k,j,M){return k[j]=M}}function h(x,k,j,M){var H=Object.create((k&&k.prototype instanceof P?k:P).prototype),X=new ie(M||[]);return H._invoke=function(x,k,j){var M=w;return function(H,X){if(M===b)throw new Error("Generator is already running");if(M===p){if("throw"===H)throw X;return Z()}for(j.method=H,j.arg=X;;){var re=j.delegate;if(re){var J=ae(re,j);if(J){if(J===T)continue;return J}}if("next"===j.method)j.sent=j._sent=j.arg;else if("throw"===j.method){if(M===w)throw M=p,j.arg;j.dispatchException(j.arg)}else"return"===j.method&&j.abrupt("return",j.arg);M=b;var ne=f(x,k,j);if("normal"===ne.type){if(M=j.done?p:S,ne.arg===T)continue;return{value:ne.arg,done:j.done}}"throw"===ne.type&&(M=p,j.method="throw",j.arg=ne.arg)}}}(x,j,X),H}function f(x,k,j){try{return{type:"normal",arg:x.call(k,j)}}catch(M){return{type:"throw",arg:M}}}c.wrap=h;var w="suspendedStart",S="suspendedYield",b="executing",p="completed",T={};function P(){}function O(){}function L(){}var W={};v(W,D,function(){return this});var B=Object.getPrototypeOf,F=B&&B(B(ue([])));F&&F!==u&&I.call(F,D)&&(W=F);var V=L.prototype=P.prototype=Object.create(W);function K(x){["next","throw","return"].forEach(function(k){v(x,k,function(j){return this._invoke(k,j)})})}function q(x,k){function j(H,X,re,J){var ne=f(x[H],x,X);if("throw"!==ne.type){var se=ne.arg,le=se.value;return le&&"object"==typeof le&&I.call(le,"__await")?k.resolve(le.__await).then(function(ce){j("next",ce,re,J)},function(ce){j("throw",ce,re,J)}):k.resolve(le).then(function(ce){se.value=ce,re(se)},function(ce){return j("throw",ce,re,J)})}J(ne.arg)}var M;this._invoke=function(H,X){function re(){return new k(function(J,ne){j(H,X,J,ne)})}return M=M?M.then(re,re):re()}}function ae(x,k){var j=x.iterator[k.method];if(j===y){if(k.delegate=null,"throw"===k.method){if(x.iterator.return&&(k.method="return",k.arg=y,ae(x,k),"throw"===k.method))return T;k.method="throw",k.arg=new TypeError("The iterator does not provide a 'throw' method")}return T}var M=f(j,x.iterator,k.arg);if("throw"===M.type)return k.method="throw",k.arg=M.arg,k.delegate=null,T;var R=M.arg;return R?R.done?(k[x.resultName]=R.value,k.next=x.nextLoc,"return"!==k.method&&(k.method="next",k.arg=y),k.delegate=null,T):R:(k.method="throw",k.arg=new TypeError("iterator result is not an object"),k.delegate=null,T)}function z(x){var k={tryLoc:x[0]};1 in x&&(k.catchLoc=x[1]),2 in x&&(k.finallyLoc=x[2],k.afterLoc=x[3]),this.tryEntries.push(k)}function ee(x){var k=x.completion||{};k.type="normal",delete k.arg,x.completion=k}function ie(x){this.tryEntries=[{tryLoc:"root"}],x.forEach(z,this),this.reset(!0)}function ue(x){if(x){var k=x[D];if(k)return k.call(x);if("function"==typeof x.next)return x;if(!isNaN(x.length)){var j=-1,M=function R(){for(;++j<x.length;)if(I.call(x,j))return R.value=x[j],R.done=!1,R;return R.value=y,R.done=!0,R};return M.next=M}}return{next:Z}}function Z(){return{value:y,done:!0}}return O.prototype=L,v(V,"constructor",L),v(L,"constructor",O),O.displayName=v(L,C,"GeneratorFunction"),c.isGeneratorFunction=function(x){var k="function"==typeof x&&x.constructor;return!!k&&(k===O||"GeneratorFunction"===(k.displayName||k.name))},c.mark=function(x){return Object.setPrototypeOf?Object.setPrototypeOf(x,L):(x.__proto__=L,v(x,C,"GeneratorFunction")),x.prototype=Object.create(V),x},c.awrap=function(x){return{__await:x}},K(q.prototype),v(q.prototype,m,function(){return this}),c.AsyncIterator=q,c.async=function(x,k,j,M,R){void 0===R&&(R=Promise);var H=new q(h(x,k,j,M),R);return c.isGeneratorFunction(k)?H:H.next().then(function(X){return X.done?X.value:H.next()})},K(V),v(V,C,"Generator"),v(V,D,function(){return this}),v(V,"toString",function(){return"[object Generator]"}),c.keys=function(x){var k=[];for(var j in x)k.push(j);return k.reverse(),function M(){for(;k.length;){var R=k.pop();if(R in x)return M.value=R,M.done=!1,M}return M.done=!0,M}},c.values=ue,ie.prototype={constructor:ie,reset:function(x){if(this.prev=0,this.next=0,this.sent=this._sent=y,this.done=!1,this.delegate=null,this.method="next",this.arg=y,this.tryEntries.forEach(ee),!x)for(var k in this)"t"===k.charAt(0)&&I.call(this,k)&&!isNaN(+k.slice(1))&&(this[k]=y)},stop:function(){this.done=!0;var k=this.tryEntries[0].completion;if("throw"===k.type)throw k.arg;return this.rval},dispatchException:function(x){if(this.done)throw x;var k=this;function j(J,ne){return H.type="throw",H.arg=x,k.next=J,ne&&(k.method="next",k.arg=y),!!ne}for(var M=this.tryEntries.length-1;M>=0;--M){var R=this.tryEntries[M],H=R.completion;if("root"===R.tryLoc)return j("end");if(R.tryLoc<=this.prev){var X=I.call(R,"catchLoc"),re=I.call(R,"finallyLoc");if(X&&re){if(this.prev<R.catchLoc)return j(R.catchLoc,!0);if(this.prev<R.finallyLoc)return j(R.finallyLoc)}else if(X){if(this.prev<R.catchLoc)return j(R.catchLoc,!0)}else{if(!re)throw new Error("try statement without catch or finally");if(this.prev<R.finallyLoc)return j(R.finallyLoc)}}}},abrupt:function(x,k){for(var j=this.tryEntries.length-1;j>=0;--j){var M=this.tryEntries[j];if(M.tryLoc<=this.prev&&I.call(M,"finallyLoc")&&this.prev<M.finallyLoc){var R=M;break}}R&&("break"===x||"continue"===x)&&R.tryLoc<=k&&k<=R.finallyLoc&&(R=null);var H=R?R.completion:{};return H.type=x,H.arg=k,R?(this.method="next",this.next=R.finallyLoc,T):this.complete(H)},complete:function(x,k){if("throw"===x.type)throw x.arg;return"break"===x.type||"continue"===x.type?this.next=x.arg:"return"===x.type?(this.rval=this.arg=x.arg,this.method="return",this.next="end"):"normal"===x.type&&k&&(this.next=k),T},finish:function(x){for(var k=this.tryEntries.length-1;k>=0;--k){var j=this.tryEntries[k];if(j.finallyLoc===x)return this.complete(j.completion,j.afterLoc),ee(j),T}},catch:function(x){for(var k=this.tryEntries.length-1;k>=0;--k){var j=this.tryEntries[k];if(j.tryLoc===x){var M=j.completion;if("throw"===M.type){var R=M.arg;ee(j)}return R}}throw new Error("illegal catch attempt")},delegateYield:function(x,k,j){return this.delegate={iterator:ue(x),resultName:k,nextLoc:j},"next"===this.method&&(this.arg=y),T}},c}($.exports);try{regeneratorRuntime=g}catch(c){"object"==typeof globalThis?globalThis.regeneratorRuntime=g:Function("r","regeneratorRuntime = r")(g)}},5618:($,g,c)=>{"use strict";function u(t){return"function"==typeof t}let I=!1;const y={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else I&&console.log("RxJS: Back to a better error behavior. Thank you. <3");I=t},get useDeprecatedSynchronousErrorHandling(){return I}};function _(t){setTimeout(()=>{throw t},0)}const D={closed:!0,next(t){},error(t){if(y.useDeprecatedSynchronousErrorHandling)throw t;_(t)},complete(){}},m=Array.isArray||(t=>t&&"number"==typeof t.length);function C(t){return null!==t&&"object"==typeof t}const h=(()=>{function t(e){return Error.call(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((n,r)=>`${r+1}) ${n.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e,this}return t.prototype=Object.create(Error.prototype),t})();class f{constructor(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:r,_unsubscribe:i,_subscriptions:o}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof f)n.remove(this);else if(null!==n)for(let s=0;s<n.length;++s)n[s].remove(this);if(u(i)){r&&(this._unsubscribe=void 0);try{i.call(this)}catch(s){e=s instanceof h?w(s.errors):[s]}}if(m(o)){let s=-1,a=o.length;for(;++s<a;){const l=o[s];if(C(l))try{l.unsubscribe()}catch(d){e=e||[],d instanceof h?e=e.concat(w(d.errors)):e.push(d)}}}if(e)throw new h(e)}add(e){let n=e;if(!e)return f.EMPTY;switch(typeof e){case"function":n=new f(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof f)){const o=n;n=new f,n._subscriptions=[o]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof f){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(e){const n=this._subscriptions;if(n){const r=n.indexOf(e);-1!==r&&n.splice(r,1)}}}var t;function w(t){return t.reduce((e,n)=>e.concat(n instanceof h?n.errors:n),[])}f.EMPTY=((t=new f).closed=!0,t);const S="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class p extends f{constructor(e,n,r){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=D;break;case 1:if(!e){this.destination=D;break}if("object"==typeof e){e instanceof p?(this.syncErrorThrowable=e.syncErrorThrowable,this.destination=e,e.add(this)):(this.syncErrorThrowable=!0,this.destination=new T(this,e));break}default:this.syncErrorThrowable=!0,this.destination=new T(this,e,n,r)}}[S](){return this}static create(e,n,r){const i=new p(e,n,r);return i.syncErrorThrowable=!1,i}next(e){this.isStopped||this._next(e)}error(e){this.isStopped||(this.isStopped=!0,this._error(e))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(e){this.destination.next(e)}_error(e){this.destination.error(e),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:e}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}class T extends p{constructor(e,n,r,i){super(),this._parentSubscriber=e;let o,s=this;u(n)?o=n:n&&(o=n.next,r=n.error,i=n.complete,n!==D&&(s=Object.create(n),u(s.unsubscribe)&&this.add(s.unsubscribe.bind(s)),s.unsubscribe=this.unsubscribe.bind(this))),this._context=s,this._next=o,this._error=r,this._complete=i}next(e){if(!this.isStopped&&this._next){const{_parentSubscriber:n}=this;y.useDeprecatedSynchronousErrorHandling&&n.syncErrorThrowable?this.__tryOrSetError(n,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}error(e){if(!this.isStopped){const{_parentSubscriber:n}=this,{useDeprecatedSynchronousErrorHandling:r}=y;if(this._error)r&&n.syncErrorThrowable?(this.__tryOrSetError(n,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(n.syncErrorThrowable)r?(n.syncErrorValue=e,n.syncErrorThrown=!0):_(e),this.unsubscribe();else{if(this.unsubscribe(),r)throw e;_(e)}}}complete(){if(!this.isStopped){const{_parentSubscriber:e}=this;if(this._complete){const n=()=>this._complete.call(this._context);y.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(e,n){try{e.call(this._context,n)}catch(r){if(this.unsubscribe(),y.useDeprecatedSynchronousErrorHandling)throw r;_(r)}}__tryOrSetError(e,n,r){if(!y.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{n.call(this._context,r)}catch(i){return y.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=i,e.syncErrorThrown=!0,!0):(_(i),!0)}return!1}_unsubscribe(){const{_parentSubscriber:e}=this;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}const L="function"==typeof Symbol&&Symbol.observable||"@@observable";function W(t){return t}let V=(()=>{class t{constructor(n){this._isScalar=!1,n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const{operator:o}=this,s=function(t,e,n){if(t){if(t instanceof p)return t;if(t[S])return t[S]()}return t||e||n?new p(t,e,n):new p(D)}(n,r,i);if(s.add(o?o.call(s,this.source):this.source||y.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),y.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){y.useDeprecatedSynchronousErrorHandling&&(n.syncErrorThrown=!0,n.syncErrorValue=r),function(t){for(;t;){const{closed:e,destination:n,isStopped:r}=t;if(e||r)return!1;t=n&&n instanceof p?n:null}return!0}(n)?n.error(r):console.warn(r)}}forEach(n,r){return new(r=K(r))((i,o)=>{let s;s=this.subscribe(a=>{try{n(a)}catch(l){o(l),s&&s.unsubscribe()}},o,i)})}_subscribe(n){const{source:r}=this;return r&&r.subscribe(n)}[L](){return this}pipe(...n){return 0===n.length?this:function(t){return 0===t.length?W:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}(n)(this)}toPromise(n){return new(n=K(n))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function K(t){if(t||(t=y.Promise||Promise),!t)throw new Error("no Promise impl found");return t}const G=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})();class ae extends f{constructor(e,n){super(),this.subject=e,this.subscriber=n,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const e=this.subject,n=e.observers;if(this.subject=null,!n||0===n.length||e.isStopped||e.closed)return;const r=n.indexOf(this.subscriber);-1!==r&&n.splice(r,1)}}class z extends p{constructor(e){super(e),this.destination=e}}let ee=(()=>{class t extends V{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[S](){return new z(this)}lift(n){const r=new ie(this,this);return r.operator=n,r}next(n){if(this.closed)throw new G;if(!this.isStopped){const{observers:r}=this,i=r.length,o=r.slice();for(let s=0;s<i;s++)o[s].next(n)}}error(n){if(this.closed)throw new G;this.hasError=!0,this.thrownError=n,this.isStopped=!0;const{observers:r}=this,i=r.length,o=r.slice();for(let s=0;s<i;s++)o[s].error(n);this.observers.length=0}complete(){if(this.closed)throw new G;this.isStopped=!0;const{observers:n}=this,r=n.length,i=n.slice();for(let o=0;o<r;o++)i[o].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(n){if(this.closed)throw new G;return super._trySubscribe(n)}_subscribe(n){if(this.closed)throw new G;return this.hasError?(n.error(this.thrownError),f.EMPTY):this.isStopped?(n.complete(),f.EMPTY):(this.observers.push(n),new ae(this,n))}asObservable(){const n=new V;return n.source=this,n}}return t.create=(e,n)=>new ie(e,n),t})();class ie extends ee{constructor(e,n){super(),this.destination=e,this.source=n}next(e){const{destination:n}=this;n&&n.next&&n.next(e)}error(e){const{destination:n}=this;n&&n.error&&this.destination.error(e)}complete(){const{destination:e}=this;e&&e.complete&&this.destination.complete()}_subscribe(e){const{source:n}=this;return n?this.source.subscribe(e):f.EMPTY}}function ue(t){return t&&"function"==typeof t.schedule}function Z(t,e){return function(r){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return r.lift(new x(t,e))}}class x{constructor(e,n){this.project=e,this.thisArg=n}call(e,n){return n.subscribe(new k(e,this.project,this.thisArg))}}class k extends p{constructor(e,n,r){super(e),this.project=n,this.count=0,this.thisArg=r||this}_next(e){let n;try{n=this.project.call(this.thisArg,e,this.count++)}catch(r){return void this.destination.error(r)}this.destination.next(n)}}const j=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()},H="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",ne=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function se(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}const le=t=>{if(t&&"function"==typeof t[L])return(t=>e=>{const n=t[L]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(e)})(t);if(ne(t))return j(t);if(se(t))return(t=>e=>(t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,_),e))(t);if(t&&"function"==typeof t[H])return(t=>e=>{const n=t[H]();for(;;){let r;try{r=n.next()}catch(i){return e.error(i),e}if(r.done){e.complete();break}if(e.next(r.value),e.closed)break}return"function"==typeof n.return&&e.add(()=>{n.return&&n.return()}),e})(t);{const n=`You provided ${C(t)?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(n)}};function he(t,e){return new V(n=>{const r=new f;let i=0;return r.add(e.schedule(function(){i!==t.length?(n.next(t[i++]),n.closed||r.add(this.schedule())):n.complete()})),r})}function Ge(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[L]}(t))return function(t,e){return new V(n=>{const r=new f;return r.add(e.schedule(()=>{const i=t[L]();r.add(i.subscribe({next(o){r.add(e.schedule(()=>n.next(o)))},error(o){r.add(e.schedule(()=>n.error(o)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(se(t))return function(t,e){return new V(n=>{const r=new f;return r.add(e.schedule(()=>t.then(i=>{r.add(e.schedule(()=>{n.next(i),r.add(e.schedule(()=>n.complete()))}))},i=>{r.add(e.schedule(()=>n.error(i)))}))),r})}(t,e);if(ne(t))return he(t,e);if(function(t){return t&&"function"==typeof t[H]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new V(n=>{const r=new f;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[H](),r.add(e.schedule(function(){if(n.closed)return;let o,s;try{const a=i.next();o=a.value,s=a.done}catch(a){return void n.error(a)}s?n.complete():(n.next(o),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof V?t:new V(le(t))}class Ie extends p{constructor(e){super(),this.parent=e}_next(e){this.parent.notifyNext(e)}_error(e){this.parent.notifyError(e),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class Ct extends p{notifyNext(e){this.destination.next(e)}notifyError(e){this.destination.error(e)}notifyComplete(){this.destination.complete()}}function fd(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?r=>r.pipe(fd((i,o)=>Ge(t(i,o)).pipe(Z((s,a)=>e(i,s,o,a))),n)):("number"==typeof e&&(n=e),r=>r.lift(new Vv(t,n)))}class Vv{constructor(e,n=Number.POSITIVE_INFINITY){this.project=e,this.concurrent=n}call(e,n){return n.subscribe(new Bv(e,this.project,this.concurrent))}}class Bv extends Ct{constructor(e,n,r=Number.POSITIVE_INFINITY){super(e),this.project=n,this.concurrent=r,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}_tryNext(e){let n;const r=this.index++;try{n=this.project(e,r)}catch(i){return void this.destination.error(i)}this.active++,this._innerSub(n)}_innerSub(e){const n=new Ie(this),r=this.destination;r.add(n);const i=function(t,e){if(e.closed)return;if(t instanceof V)return t.subscribe(e);let n;try{n=le(t)(e)}catch(r){e.error(r)}return n}(e,n);i!==n&&r.add(i)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(e){this.destination.next(e)}notifyComplete(){const e=this.buffer;this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function Uv(t=Number.POSITIVE_INFINITY){return fd(W,t)}function hd(t,e){return e?he(t,e):new V(j(t))}function pd(){return function(e){return e.lift(new jv(e))}}class jv{constructor(e){this.connectable=e}call(e,n){const{connectable:r}=this;r._refCount++;const i=new Wv(e,r),o=n.subscribe(i);return i.closed||(i.connection=r.connect()),o}}class Wv extends p{constructor(e,n){super(e),this.connectable=n}_unsubscribe(){const{connectable:e}=this;if(!e)return void(this.connection=null);this.connectable=null;const n=e._refCount;if(n<=0)return void(this.connection=null);if(e._refCount=n-1,n>1)return void(this.connection=null);const{connection:r}=this,i=e._connection;this.connection=null,i&&(!r||i===r)&&i.unsubscribe()}}class Gv extends V{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._refCount=0,this._isComplete=!1}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let e=this._connection;return e||(this._isComplete=!1,e=this._connection=new f,e.add(this.source.subscribe(new Kv(this.getSubject(),this))),e.closed&&(this._connection=null,e=f.EMPTY)),e}refCount(){return pd()(this)}}const $v=(()=>{const t=Gv.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class Kv extends z{constructor(e,n){super(e),this.connectable=n}_error(e){this._unsubscribe(),super._error(e)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const e=this.connectable;if(e){this.connectable=null;const n=e._connection;e._refCount=0,e._subject=null,e._connection=null,n&&n.unsubscribe()}}}function Jv(){return new ee}function $e(t){for(let e in t)if(t[e]===$e)return e;throw Error("Could not find renamed property on target object.")}function Le(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Le).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function Ua(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const Zv=$e({__forward_ref__:$e});function Ha(t){return t.__forward_ref__=Ha,t.toString=function(){return Le(this())},t}function Te(t){return function(t){return"function"==typeof t&&t.hasOwnProperty(Zv)&&t.__forward_ref__===Ha}(t)?t():t}class gr extends Error{constructor(e,n){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(e,n)),this.code=e}}function At(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():function(t){return"string"==typeof t?t:null==t?"":String(t)}(t)}function Jo(t,e){const n=e?` in ${e}`:"";throw new gr("201",`No provider for ${At(t)} found${n}`)}function jt(t,e){null==t&&function(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function Qe(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function mr(t){return{providers:t.providers||[],imports:t.imports||[]}}function Gn(t){return md(t,Yo)||md(t,vd)}function md(t,e){return t.hasOwnProperty(e)?t[e]:null}function yd(t){return t&&(t.hasOwnProperty(Wa)||t.hasOwnProperty(oC))?t[Wa]:null}const Yo=$e({\u0275prov:$e}),Wa=$e({\u0275inj:$e}),vd=$e({ngInjectableDef:$e}),oC=$e({ngInjectorDef:$e});var we=(()=>((we=we||{})[we.Default=0]="Default",we[we.Host=1]="Host",we[we.Self=2]="Self",we[we.SkipSelf=4]="SkipSelf",we[we.Optional=8]="Optional",we))();let Ga;function tr(t){const e=Ga;return Ga=t,e}function Cd(t,e,n){const r=Gn(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&we.Optional?null:void 0!==e?e:void Jo(Le(t),"Injector")}function nr(t){return{toString:t}.toString()}var qt=(()=>((qt=qt||{})[qt.OnPush=0]="OnPush",qt[qt.Default=1]="Default",qt))(),ht=(()=>((ht=ht||{})[ht.Emulated=0]="Emulated",ht[ht.None=2]="None",ht[ht.ShadowDom=3]="ShadowDom",ht))();const aC="undefined"!=typeof globalThis&&globalThis,uC="undefined"!=typeof window&&window,lC="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,cC="undefined"!=typeof global&&global,Ke=aC||cC||uC||lC,Lr={},Je=[],Zo=$e({\u0275cmp:$e}),$a=$e({\u0275dir:$e}),Ka=$e({\u0275pipe:$e}),_d=$e({\u0275mod:$e}),dC=$e({\u0275loc:$e}),$n=$e({\u0275fac:$e}),Bi=$e({__NG_ELEMENT_ID__:$e});let fC=0;function za(t){return nr(()=>{const n={},r={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===qt.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||Je,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||ht.Emulated,id:"c",styles:t.styles||Je,_:null,setInput:null,schemas:t.schemas||null,tView:null},i=t.directives,o=t.features,s=t.pipes;return r.id+=fC++,r.inputs=Dd(t.inputs,n),r.outputs=Dd(t.outputs),o&&o.forEach(a=>a(r)),r.directiveDefs=i?()=>("function"==typeof i?i():i).map(Ed):null,r.pipeDefs=s?()=>("function"==typeof s?s():s).map(Id):null,r})}function Ed(t){return Ot(t)||function(t){return t[$a]||null}(t)}function Id(t){return function(t){return t[Ka]||null}(t)}const Td={};function Ui(t){return nr(()=>{const e={type:t.type,bootstrap:t.bootstrap||Je,declarations:t.declarations||Je,imports:t.imports||Je,exports:t.exports||Je,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(Td[t.id]=t.type),e})}function Dd(t,e){if(null==t)return Lr;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}const Jt=za;function Ot(t){return t[Zo]||null}function Yt(t,e){const n=t[_d]||null;if(!n&&!0===e)throw new Error(`Type ${Le(t)} does not have '\u0275mod' property.`);return n}function Rn(t){return Array.isArray(t)&&"object"==typeof t[1]}function fn(t){return Array.isArray(t)&&!0===t[1]}function Ja(t){return 0!=(8&t.flags)}function ns(t){return 2==(2&t.flags)}function rs(t){return 1==(1&t.flags)}function hn(t){return null!==t.template}function CC(t){return 0!=(512&t[2])}function Er(t,e){return t.hasOwnProperty($n)?t[$n]:null}class wd{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function Sd(t){return t.type.prototype.ngOnChanges&&(t.setInput=TC),IC}function IC(){const t=Md(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===Lr)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function TC(t,e,n,r){const i=Md(t)||function(t,e){return t[Rd]=e}(t,{previous:Lr,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[n],l=s[a];o[a]=new wd(l&&l.currentValue,e,s===Lr),t[r]=e}const Rd="__ngSimpleChanges__";function Md(t){return t[Rd]||null}let Xa;function ot(t){return!!t.listen}const Pd={createRenderer:(t,e)=>void 0!==Xa?Xa:"undefined"!=typeof document?document:void 0};function ct(t){for(;Array.isArray(t);)t=t[0];return t}function en(t,e){return ct(e[t.index])}function tu(t,e){return t.data[e]}function Gt(t,e){const n=e[t];return Rn(n)?n:n[0]}function nu(t){return 128==(128&t[2])}function ir(t,e){return null==e?null:t[e]}function xd(t){t[18]=0}function ru(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const Me={lFrame:jd(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function kd(){return Me.bindingsEnabled}function de(){return Me.lFrame.lView}function We(){return Me.lFrame.tView}function iu(t){return Me.lFrame.contextLView=t,t[8]}function pt(){let t=Fd();for(;null!==t&&64===t.type;)t=t.parent;return t}function Fd(){return Me.lFrame.currentTNode}function Mn(t,e){const n=Me.lFrame;n.currentTNode=t,n.isParent=e}function ou(){return Me.lFrame.isParent}function ss(){return Me.isInCheckNoChangesMode}function as(t){Me.isInCheckNoChangesMode=t}function VC(t,e){const n=Me.lFrame;n.bindingIndex=n.bindingRootIndex=t,au(e)}function au(t){Me.lFrame.currentDirectiveIndex=t}function lu(t){Me.lFrame.currentQueryIndex=t}function UC(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function Ud(t,e,n){if(n&we.SkipSelf){let i=e,o=t;for(;!(i=i.parent,null!==i||n&we.Host||(i=UC(o),null===i||(o=o[15],10&i.type))););if(null===i)return!1;e=i,t=o}const r=Me.lFrame=Hd();return r.currentTNode=e,r.lView=t,!0}function us(t){const e=Hd(),n=t[1];Me.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function Hd(){const t=Me.lFrame,e=null===t?null:t.child;return null===e?jd(t):e}function jd(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function Wd(){const t=Me.lFrame;return Me.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Gd=Wd;function ls(){const t=Wd();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Nt(){return Me.lFrame.selectedIndex}function or(t){Me.lFrame.selectedIndex=t}function cs(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:d,ngOnDestroy:E}=o;s&&(t.contentHooks||(t.contentHooks=[])).push(-n,s),a&&((t.contentHooks||(t.contentHooks=[])).push(n,a),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,a)),l&&(t.viewHooks||(t.viewHooks=[])).push(-n,l),d&&((t.viewHooks||(t.viewHooks=[])).push(n,d),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,d)),null!=E&&(t.destroyHooks||(t.destroyHooks=[])).push(n,E)}}function ds(t,e,n){$d(t,e,3,n)}function fs(t,e,n,r){(3&t[2])===n&&$d(t,e,n,r)}function cu(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function $d(t,e,n,r){const o=null!=r?r:-1,s=e.length-1;let a=0;for(let l=void 0!==r?65535&t[18]:0;l<s;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=r&&a>=r)break}else e[l]<0&&(t[18]+=65536),(a<o||-1==o)&&(qC(t,n,e,l),t[18]=(4294901760&t[18])+l+2),l++}function qC(t,e,n,r){const i=n[r]<0,o=n[r+1],a=t[i?-n[r]:n[r]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{o.call(a)}finally{}}}else try{o.call(a)}finally{}}class $i{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function hs(t,e,n){const r=ot(t);let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const s=n[i++],a=n[i++],l=n[i++];r?t.setAttribute(e,a,l,s):e.setAttributeNS(s,a,l)}else{const s=o,a=n[++i];fu(s)?r&&t.setProperty(e,s,a):r?t.setAttribute(e,s,a):e.setAttribute(s,a),i++}}return i}function Kd(t){return 3===t||4===t||6===t}function fu(t){return 64===t.charCodeAt(0)}function ps(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||zd(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function zd(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const a=t[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<t.length;){const a=t[o];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function Qd(t){return-1!==t}function Gr(t){return 32767&t}function $r(t,e){let n=function(t){return t>>16}(t),r=e;for(;n>0;)r=r[15],n--;return r}let hu=!0;function gs(t){const e=hu;return hu=t,e}let t_=0;function zi(t,e){const n=gu(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,pu(r.data,t),pu(e,null),pu(r.blueprint,null));const i=ms(t,e),o=t.injectorIndex;if(Qd(i)){const s=Gr(i),a=$r(i,e),l=a[1].data;for(let d=0;d<8;d++)e[o+d]=a[s+d]|l[s+d]}return e[o+8]=i,o}function pu(t,e){t.push(0,0,0,0,0,0,0,0,e)}function gu(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function ms(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const o=i[1],s=o.type;if(r=2===s?o.declTNode:1===s?i[6]:null,null===r)return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function ys(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Bi)&&(r=n[Bi]),null==r&&(r=n[Bi]=t_++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function Yd(t,e,n){if(n&we.Optional)return t;Jo(e,"NodeInjector")}function Zd(t,e,n,r){if(n&we.Optional&&void 0===r&&(r=null),0==(n&(we.Self|we.Host))){const i=t[9],o=tr(void 0);try{return i?i.get(e,r,n&we.Optional):Cd(e,r,n&we.Optional)}finally{tr(o)}}return Yd(r,e,n)}function Xd(t,e,n,r=we.Default,i){if(null!==t){const o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Bi)?t[Bi]:void 0;return"number"==typeof e?e>=0?255&e:i_:e}(n);if("function"==typeof o){if(!Ud(e,t,r))return r&we.Host?Yd(i,n,r):Zd(e,n,r,i);try{const s=o(r);if(null!=s||r&we.Optional)return s;Jo(n)}finally{Gd()}}else if("number"==typeof o){let s=null,a=gu(t,e),l=-1,d=r&we.Host?e[16][6]:null;for((-1===a||r&we.SkipSelf)&&(l=-1===a?ms(t,e):e[a+8],-1!==l&&nf(r,!1)?(s=e[1],a=Gr(l),e=$r(l,e)):a=-1);-1!==a;){const E=e[1];if(tf(o,a,E.data)){const A=o_(a,e,n,s,r,d);if(A!==ef)return A}l=e[a+8],-1!==l&&nf(r,e[1].data[a+8]===d)&&tf(o,a,e)?(s=E,a=Gr(l),e=$r(l,e)):a=-1}}}return Zd(e,n,r,i)}const ef={};function i_(){return new Kr(pt(),de())}function o_(t,e,n,r,i,o){const s=e[1],a=s.data[t+8],E=function(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,l=t.directiveStart,E=o>>20,N=i?a+E:t.directiveEnd;for(let U=r?a:a+E;U<N;U++){const Q=s[U];if(U<l&&n===Q||U>=l&&Q.type===n)return U}if(i){const U=s[l];if(U&&hn(U)&&U.type===n)return l}return null}(a,s,n,null==r?ns(a)&&hu:r!=s&&0!=(3&a.type),i&we.Host&&o===a);return null!==E?Qi(e,s,E,a):ef}function Qi(t,e,n,r){let i=t[n];const o=e.data;if(function(t){return t instanceof $i}(i)){const s=i;s.resolving&&function(t,e){throw new gr("200",`Circular dependency in DI detected for ${t}`)}(At(o[n]));const a=gs(s.canSeeViewProviders);s.resolving=!0;const l=s.injectImpl?tr(s.injectImpl):null;Ud(t,r,we.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const s=Sd(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{null!==l&&tr(l),gs(a),s.resolving=!1,Gd()}}return i}function tf(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function nf(t,e){return!(t&we.Self||t&we.Host&&e)}class Kr{constructor(e,n){this._tNode=e,this._lView=n}get(e,n){return Xd(this._tNode,this._lView,e,void 0,n)}}const Qr="__parameters__";function Ir(t,e,n){return nr(()=>{const r=function(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(l,d,E){const A=l.hasOwnProperty(Qr)?l[Qr]:Object.defineProperty(l,Qr,{value:[]})[Qr];for(;A.length<=E;)A.push(null);return(A[E]=A[E]||[]).push(s),l}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class Ye{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=Qe({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}toString(){return`InjectionToken ${this._desc}`}}function On(t,e){t.forEach(n=>Array.isArray(n)?On(n,e):e(n))}function _s(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Tr(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}const Zi={},Iu="__NG_DI_FLAG__",Yr="ngTempTokenPath",C_=/\n/gm,Tu="__source",Du=$e({provide:String,useValue:$e});let Xi;function Zr(t){const e=Xi;return Xi=t,e}function E_(t,e=we.Default){if(void 0===Xi)throw new Error("inject() must be called from an injection context");return null===Xi?Cd(t,void 0,e):Xi.get(t,e&we.Optional?null:void 0,e)}function He(t,e=we.Default){return(Ga||E_)(Te(t),e)}function Dr(t){const e=[];for(let n=0;n<t.length;n++){const r=Te(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let i,o=we.Default;for(let s=0;s<r.length;s++){const a=r[s],l=I_(a);"number"==typeof l?-1===l?i=a.token:o|=l:i=a}e.push(He(i,o))}else e.push(He(r))}return e}function eo(t,e){return t[Iu]=e,t.prototype[Iu]=e,t}function I_(t){return t[Iu]}function lf(t,e,n,r){const i=t[Yr];throw e[Tu]&&i.unshift(e[Tu]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=Le(e);if(Array.isArray(e))i=e.map(Le).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):Le(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(C_,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[Yr]=null,t}const to=eo(Ir("Inject",t=>({token:t})),-1),Pn=eo(Ir("Optional"),8),br=eo(Ir("SkipSelf"),4),Mf="__ngContext__";function wt(t,e){t[Mf]=e}function Nu(t){const e=function(t){return t[Mf]||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Ss(t){return t.ngOriginalError}function g0(t,...e){t.error(...e)}class Sr{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e),r=this._findContext(e),i=function(t){return t&&t.ngErrorLogger||g0}(e);i(this._console,"ERROR",e),n&&i(this._console,"ORIGINAL ERROR",n),r&&i(this._console,"ERROR CONTEXT",r)}_findContext(e){return e?function(t){return t.ngDebugContext}(e)||this._findContext(Ss(e)):null}_findOriginalError(e){let n=e&&Ss(e);for(;n&&Ss(n);)n=Ss(n);return n||null}}const Vf=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Ke))();function kn(t){return t instanceof Function?t():t}var zt=(()=>((zt=zt||{})[zt.Important=1]="Important",zt[zt.DashCase=2]="DashCase",zt))();function Fu(t,e){return undefined(t,e)}function ao(t){const e=t[3];return fn(e)?e[3]:e}function Lu(t){return Wf(t[13])}function Vu(t){return Wf(t[4])}function Wf(t){for(;null!==t&&!fn(t);)t=t[4];return t}function ni(t,e,n,r,i){if(null!=r){let o,s=!1;fn(r)?o=r:Rn(r)&&(s=!0,r=r[0]);const a=ct(r);0===t&&null!==n?null==i?qf(e,n,a):Rr(e,n,a,i||null,!0):1===t&&null!==n?Rr(e,n,a,i||null,!0):2===t?function(t,e,n){const r=Ms(t,e);r&&function(t,e,n,r){ot(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function(t,e,n,r,i){const o=n[7];o!==ct(n)&&ni(e,t,r,o,i);for(let a=10;a<n.length;a++){const l=n[a];uo(l[1],l,t,e,r,o)}}(e,t,o,n,i)}}function Uu(t,e,n){return ot(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function $f(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,ru(i,-1)),n.splice(r,1)}function Hu(t,e){if(t.length<=10)return;const n=10+e,r=t[n];if(r){const i=r[17];null!==i&&i!==t&&$f(i,r),e>0&&(t[n-1][4]=r[4]);const o=Tr(t,10+e);!function(t,e){uo(t,e,e[11],2,null,null),e[0]=null,e[6]=null}(r[1],r);const s=o[19];null!==s&&s.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function Kf(t,e){if(!(256&e[2])){const n=e[11];ot(n)&&n.destroyNode&&uo(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return ju(t[1],t);for(;e;){let n=null;if(Rn(e))n=e[13];else{const r=e[10];r&&(n=r)}if(!n){for(;e&&!e[4]&&e!==t;)Rn(e)&&ju(e[1],e),e=e[3];null===e&&(e=t),Rn(e)&&ju(e[1],e),n=e&&e[4]}e=n}}(e)}}function ju(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof $i)){const o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],l=o[s+1];try{l.call(a)}finally{}}else try{o.call(i)}finally{}}}}(t,e),function(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const s=n[o+1],a="function"==typeof s?s(e):ct(e[s]),l=r[i=n[o+2]],d=n[o+3];"boolean"==typeof d?a.removeEventListener(n[o],l,d):d>=0?r[i=d]():r[i=-d].unsubscribe(),o+=2}else{const s=r[i=n[o+1]];n[o].call(s)}if(null!==r){for(let o=i+1;o<r.length;o++)r[o]();e[7]=null}}(t,e),1===e[1].type&&ot(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&fn(e[3])){n!==e[3]&&$f(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function zf(t,e,n){return function(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const i=t.data[r.directiveStart].encapsulation;if(i===ht.None||i===ht.Emulated)return null}return en(r,n)}(t,e.parent,n)}function Rr(t,e,n,r,i){ot(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function qf(t,e,n){ot(t)?t.appendChild(e,n):e.appendChild(n)}function Jf(t,e,n,r,i){null!==r?Rr(t,e,n,r,i):qf(t,e,n)}function Ms(t,e){return ot(t)?t.parentNode(e):e.parentNode}let Xf=function(t,e,n){return 40&t.type?en(t,n):null};function As(t,e,n,r){const i=zf(t,r,e),o=e[11],a=function(t,e,n){return Xf(t,e,n)}(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let l=0;l<n.length;l++)Jf(o,i,n[l],a,!1);else Jf(o,i,n,a,!1)}function Os(t,e){if(null!==e){const n=e.type;if(3&n)return en(e,t);if(4&n)return Gu(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return Os(t,r);{const i=t[e.index];return fn(i)?Gu(-1,i):ct(i)}}if(32&n)return Fu(e,t)()||ct(t[e.index]);{const r=th(t,e);return null!==r?Array.isArray(r)?r[0]:Os(ao(t[16]),r):Os(t,e.next)}}return null}function th(t,e){return null!==e?t[16][6].projection[e.projection]:null}function Gu(t,e){const n=10+t+1;if(n<e.length){const r=e[n],i=r[1].firstChild;if(null!==i)return Os(r,i)}return e[7]}function $u(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],l=n.type;if(s&&0===e&&(a&&wt(ct(a),r),n.flags|=4),64!=(64&n.flags))if(8&l)$u(t,e,n.child,r,i,o,!1),ni(e,t,i,a,o);else if(32&l){const d=Fu(n,r);let E;for(;E=d();)ni(e,t,i,E,o);ni(e,t,i,a,o)}else 16&l?rh(t,e,r,n,i,o):ni(e,t,i,a,o);n=s?n.projectionNext:n.next}}function uo(t,e,n,r,i,o){$u(n,r,t.firstChild,e,i,o,!1)}function rh(t,e,n,r,i,o){const s=n[16],l=s[6].projection[r.projection];if(Array.isArray(l))for(let d=0;d<l.length;d++)ni(e,t,i,l[d],o);else $u(t,e,l,s[3],i,o,!0)}function ih(t,e,n){ot(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Ku(t,e,n){ot(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function oh(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}const sh="ng-template";function H0(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==oh(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function ah(t){return 4===t.type&&t.value!==sh}function j0(t,e,n){return e===(4!==t.type||n?t.value:sh)}function W0(t,e,n){let r=4;const i=t.attrs||[],o=function(t){for(let e=0;e<t.length;e++)if(Kd(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!s)if(4&r){if(r=2|1&r,""!==l&&!j0(t,l,n)||""===l&&1===e.length){if(pn(r))return!1;s=!0}}else{const d=8&r?l:e[++a];if(8&r&&null!==t.attrs){if(!H0(t.attrs,d,n)){if(pn(r))return!1;s=!0}continue}const A=G0(8&r?"class":l,i,ah(t),n);if(-1===A){if(pn(r))return!1;s=!0;continue}if(""!==d){let N;N=A>o?"":i[A+1].toLowerCase();const U=8&r?N:null;if(U&&-1!==oh(U,d,0)||2&r&&d!==N){if(pn(r))return!1;s=!0}}}}else{if(!s&&!pn(r)&&!pn(l))return!1;if(s&&pn(l))continue;s=!1,r=l|1&r}}return pn(r)||s}function pn(t){return 0==(1&t)}function G0(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){const s=e[i];if(s===t)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function uh(t,e,n=!1){for(let r=0;r<e.length;r++)if(W0(t,e[r],n))return!0;return!1}function lh(t,e){return t?":not("+e.trim()+")":e}function q0(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!pn(s)&&(e+=lh(o,i),i=""),r=s,o=o||!pn(r);n++}return""!==i&&(e+=lh(o,i)),e}const Oe={};function Ps(t){ch(We(),de(),Nt()+t,ss())}function ch(t,e,n,r){if(!r)if(3==(3&e[2])){const o=t.preOrderCheckHooks;null!==o&&ds(e,o,n)}else{const o=t.preOrderHooks;null!==o&&fs(e,o,0,n)}or(n)}function _h(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const s=t.data[o];lu(i),s.contentQueries(2,e[o],o)}}}function lo(t,e,n,r,i,o,s,a,l,d){const E=e.blueprint.slice();return E[0]=i,E[2]=140|r,xd(E),E[3]=E[15]=t,E[8]=n,E[10]=s||t&&t[10],E[11]=a||t&&t[11],E[12]=l||t&&t[12]||null,E[9]=d||t&&t[9]||null,E[6]=o,E[16]=2==e.type?t[16]:E,E}function ri(t,e,n,r,i){let o=t.data[e];if(null===o)o=function(t,e,n,r,i){const o=Fd(),s=ou(),l=t.data[e]=function(t,e,n,r,i,o){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=l),null!==o&&(s?null==o.child&&null!==l.parent&&(o.child=l):null===o.next&&(o.next=l)),l}(t,e,n,r,i),Me.lFrame.inI18n&&(o.flags|=64);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const s=function(){const t=Me.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return Mn(o,!0),o}function ii(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function co(t,e,n){us(e);try{const r=t.viewQuery;null!==r&&dl(1,r,n);const i=t.template;null!==i&&Eh(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&_h(t,e),t.staticViewQueries&&dl(2,t.viewQuery,n);const o=t.components;null!==o&&function(t,e){for(let n=0;n<e.length;n++)RE(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[2]&=-5,ls()}}function oi(t,e,n,r){const i=e[2];if(256==(256&i))return;us(e);const o=ss();try{xd(e),function(t){Me.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&Eh(t,e,n,2,r);const s=3==(3&i);if(!o)if(s){const d=t.preOrderCheckHooks;null!==d&&ds(e,d,null)}else{const d=t.preOrderHooks;null!==d&&fs(e,d,0,null),cu(e,0)}if(function(t){for(let e=Lu(t);null!==e;e=Vu(e)){if(!e[2])continue;const n=e[9];for(let r=0;r<n.length;r++){const i=n[r],o=i[3];0==(1024&i[2])&&ru(o,1),i[2]|=1024}}}(e),function(t){for(let e=Lu(t);null!==e;e=Vu(e))for(let n=10;n<e.length;n++){const r=e[n],i=r[1];nu(r)&&oi(i,r,i.template,r[8])}}(e),null!==t.contentQueries&&_h(t,e),!o)if(s){const d=t.contentCheckHooks;null!==d&&ds(e,d)}else{const d=t.contentHooks;null!==d&&fs(e,d,1),cu(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)or(~i);else{const o=i,s=n[++r],a=n[++r];VC(s,o),a(2,e[o])}}}finally{or(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)SE(t,e[n])}(e,a);const l=t.viewQuery;if(null!==l&&dl(2,l,r),!o)if(s){const d=t.viewCheckHooks;null!==d&&ds(e,d)}else{const d=t.viewHooks;null!==d&&fs(e,d,2),cu(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,ru(e[3],-1))}finally{ls()}}function uE(t,e,n,r){const i=e[10],o=!ss(),s=function(t){return 4==(4&t[2])}(e);try{o&&!s&&i.begin&&i.begin(),s&&co(t,e,r),oi(t,e,n,r)}finally{o&&!s&&i.end&&i.end()}}function Eh(t,e,n,r,i){const o=Nt(),s=2&r;try{or(-1),s&&e.length>20&&ch(t,e,20,ss()),n(r,i)}finally{or(o)}}function rl(t,e,n){!kd()||(function(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||zi(n,e),wt(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const l=t.data[a],d=hn(l);d&&IE(e,n,l);const E=Qi(e,t,a,n);wt(E,e),null!==s&&TE(0,a-i,E,l,0,s),d&&(Gt(n.index,e)[8]=E)}}(t,e,n,en(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,a=Me.lFrame.currentDirectiveIndex;try{or(s);for(let l=r;l<i;l++){const d=t.data[l],E=e[l];au(l),(null!==d.hostBindings||0!==d.hostVars||null!==d.hostAttrs)&&Ah(d,E)}}finally{or(-1),au(a)}}(t,e,n))}function il(t,e,n=en){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function Th(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Fs(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Fs(t,e,n,r,i,o,s,a,l,d){const E=20+r,A=E+i,N=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:Oe);return n}(E,A),U="function"==typeof d?d():d;return N[1]={type:t,blueprint:N,template:n,queries:null,viewQuery:a,declTNode:e,data:N.slice().fill(null,E),bindingStartIndex:E,expandoStartIndex:A,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:U,incompleteFirstPass:!1}}function Sh(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function ol(t,e,n,r){let i=!1;if(kd()){const o=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];uh(n,s.selectors,!1)&&(i||(i=[]),ys(zi(n,e),t,s.type),hn(s)?(Oh(t,n),i.unshift(s)):i.push(s))}return i}(t,e,n),s=null===r?null:{"":-1};if(null!==o){i=!0,Ph(n,t.data.length,o.length);for(let E=0;E<o.length;E++){const A=o[E];A.providersResolver&&A.providersResolver(A)}let a=!1,l=!1,d=ii(t,e,o.length,null);for(let E=0;E<o.length;E++){const A=o[E];n.mergedAttrs=ps(n.mergedAttrs,A.hostAttrs),Nh(t,n,e,d,A),EE(d,A,s),null!==A.contentQueries&&(n.flags|=8),(null!==A.hostBindings||null!==A.hostAttrs||0!==A.hostVars)&&(n.flags|=128);const N=A.type.prototype;!a&&(N.ngOnChanges||N.ngOnInit||N.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),a=!0),!l&&(N.ngOnChanges||N.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),l=!0),d++}!function(t,e){const r=e.directiveEnd,i=t.data,o=e.attrs,s=[];let a=null,l=null;for(let d=e.directiveStart;d<r;d++){const E=i[d],A=E.inputs,N=null===o||ah(e)?null:DE(A,o);s.push(N),a=Sh(A,d,a),l=Sh(E.outputs,d,l)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=s,e.inputs=a,e.outputs=l}(t,n)}s&&function(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const o=n[e[i+1]];if(null==o)throw new gr("301",`Export of name '${e[i+1]}' not found!`);r.push(e[i],o)}}}(n,r,s)}return n.mergedAttrs=ps(n.mergedAttrs,n.attrs),i}function Mh(t,e,n,r,i,o){const s=o.hostBindings;if(s){let a=t.hostBindingOpCodes;null===a&&(a=t.hostBindingOpCodes=[]);const l=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(a)!=l&&a.push(l),a.push(r,i,s)}}function Ah(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Oh(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function EE(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;hn(e)&&(n[""]=t)}}function Ph(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Nh(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=Er(i.type)),s=new $i(o,hn(i),null);t.blueprint[r]=s,n[r]=s,Mh(t,e,0,r,ii(t,n,i.hostVars,Oe),i)}function IE(t,e,n){const r=en(e,t),i=Th(n),o=t[10],s=Ls(t,lo(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n),null,null));t[e.index]=s}function TE(t,e,n,r,i,o){const s=o[e];if(null!==s){const a=r.setInput;for(let l=0;l<s.length;){const d=s[l++],E=s[l++],A=s[l++];null!==a?r.setInput(n,A,d,E):n[E]=A}}}function DE(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function xh(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function SE(t,e){const n=Gt(e,t);if(nu(n)){const r=n[1];80&n[2]?oi(r,n,r.template,n[8]):n[5]>0&&al(n)}}function al(t){for(let r=Lu(t);null!==r;r=Vu(r))for(let i=10;i<r.length;i++){const o=r[i];if(1024&o[2]){const s=o[1];oi(s,o,s.template,o[8])}else o[5]>0&&al(o)}const n=t[1].components;if(null!==n)for(let r=0;r<n.length;r++){const i=Gt(n[r],t);nu(i)&&i[5]>0&&al(i)}}function RE(t,e){const n=Gt(e,t),r=n[1];(function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])})(r,n),co(r,n,n[8])}function Ls(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function ul(t){for(;t;){t[2]|=64;const e=ao(t);if(CC(t)&&!e)return t;t=e}return null}function cl(t,e,n){const r=e[10];r.begin&&r.begin();try{oi(t,e,t.template,n)}catch(i){throw Bh(e,i),i}finally{r.end&&r.end()}}function kh(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=Nu(n),i=r[1];uE(i,r,i.template,n)}}(t[8])}function dl(t,e,n){lu(0),e(t,n)}const NE=(()=>Promise.resolve(null))();function Fh(t){return t[7]||(t[7]=[])}function Lh(t){return t.cleanup||(t.cleanup=[])}function Bh(t,e){const n=t[9],r=n?n.get(Sr,null):null;r&&r.handleError(e)}function Uh(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],l=e[s],d=t.data[s];null!==d.setInput?d.setInput(l,i,r,a):l[a]=i}}function Vs(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?i=Ua(i,a):2==o&&(r=Ua(r,a+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const si=new Ye("INJECTOR",-1);class Hh{get(e,n=Zi){if(n===Zi){const r=new Error(`NullInjectorError: No provider for ${Le(e)}!`);throw r.name="NullInjectorError",r}return n}}const fo=new Ye("Set Injector scope."),ho={},FE={};let fl;function jh(){return void 0===fl&&(fl=new Hh),fl}function Wh(t,e=null,n=null,r){return new VE(t,n,e||jh(),r)}class VE{constructor(e,n,r,i=null){this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const o=[];n&&On(n,a=>this.processProvider(a,e,n)),On([e],a=>this.processInjectorType(a,[],o)),this.records.set(si,ai(void 0,this));const s=this.records.get(fo);this.scope=null!=s?s.value:null,this.source=i||("object"==typeof e?null:Le(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,n=Zi,r=we.Default){this.assertNotDestroyed();const i=Zr(this),o=tr(void 0);try{if(!(r&we.SkipSelf)){let a=this.records.get(e);if(void 0===a){const l=function(t){return"function"==typeof t||"object"==typeof t&&t instanceof Ye}(e)&&Gn(e);a=l&&this.injectableDefInScope(l)?ai(hl(e),ho):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&we.Self?jh():this.parent).get(e,n=r&we.Optional&&n===Zi?null:n)}catch(s){if("NullInjectorError"===s.name){if((s[Yr]=s[Yr]||[]).unshift(Le(e)),i)throw s;return lf(s,e,"R3InjectorError",this.source)}throw s}finally{tr(o),Zr(i)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((r,i)=>e.push(Le(i))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(e,n,r){if(!(e=Te(e)))return!1;let i=yd(e);const o=null==i&&e.ngModule||void 0,s=void 0===o?e:o,a=-1!==r.indexOf(s);if(void 0!==o&&(i=yd(o)),null==i)return!1;if(null!=i.imports&&!a){let E;r.push(s);try{On(i.imports,A=>{this.processInjectorType(A,n,r)&&(void 0===E&&(E=[]),E.push(A))})}finally{}if(void 0!==E)for(let A=0;A<E.length;A++){const{ngModule:N,providers:U}=E[A];On(U,Q=>this.processProvider(Q,N,U||Je))}}this.injectorDefTypes.add(s);const l=Er(s)||(()=>new s);this.records.set(s,ai(l,ho));const d=i.providers;if(null!=d&&!a){const E=e;On(d,A=>this.processProvider(A,E,d))}return void 0!==o&&void 0!==e.providers}processProvider(e,n,r){let i=ui(e=Te(e))?e:Te(e&&e.provide);const o=function(t,e,n){return $h(t)?ai(void 0,t.useValue):ai(function(t,e,n){let r;if(ui(t)){const i=Te(t);return Er(i)||hl(i)}if($h(t))r=()=>Te(t.useValue);else if(function(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...Dr(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>He(Te(t.useExisting));else{const i=Te(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return Er(i)||hl(i);r=()=>new i(...Dr(t.deps))}return r}(t),ho)}(e);if(ui(e)||!0!==e.multi)this.records.get(i);else{let s=this.records.get(i);s||(s=ai(void 0,ho,!0),s.factory=()=>Dr(s.multi),this.records.set(i,s)),i=e,s.multi.push(e)}this.records.set(i,o)}hydrate(e,n){return n.value===ho&&(n.value=FE,n.value=n.factory()),"object"==typeof n.value&&n.value&&function(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this.onDestroy.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=Te(e.providedIn);return"string"==typeof n?"any"===n||n===this.scope:this.injectorDefTypes.has(n)}}function hl(t){const e=Gn(t),n=null!==e?e.factory:Er(t);if(null!==n)return n;if(t instanceof Ye)throw new Error(`Token ${Le(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const r=function(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?");throw new Error(`Can't resolve all parameters for ${Le(t)}: (${r.join(", ")}).`)}const n=function(t){const e=t&&(t[Yo]||t[vd]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function ai(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function $h(t){return null!==t&&"object"==typeof t&&Du in t}function ui(t){return"function"==typeof t}const Kh=function(t,e,n){return function(t,e=null,n=null,r){const i=Wh(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};class qe{static create(e,n){return Array.isArray(e)?Kh(e,n,""):Kh(e.providers,e.parent,e.name||"")}}function oI(t,e){cs(Nu(t)[1],pt())}qe.THROW_IF_NOT_FOUND=Zi,qe.NULL=new Hh,qe.\u0275prov=Qe({token:qe,providedIn:"any",factory:()=>He(si)}),qe.__NG_ELEMENT_ID__=-1;let Bs=null;function li(){if(!Bs){const t=Ke.Symbol;if(t&&t.iterator)Bs=t.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let n=0;n<e.length;++n){const r=e[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Bs=r)}}}return Bs}function go(t){return!!_l(t)&&(Array.isArray(t)||!(t instanceof Map)&&li()in t)}function _l(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Hs(t,e,n,r,i,o,s,a){const l=de(),d=We(),E=t+20,A=d.firstCreatePass?function(t,e,n,r,i,o,s,a,l){const d=e.consts,E=ri(e,t,4,s||null,ir(d,a));ol(e,n,E,ir(d,l)),cs(e,E);const A=E.tViews=Fs(2,E,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,d);return null!==e.queries&&(e.queries.template(e,E),A.queries=e.queries.embeddedTView(E)),E}(E,d,l,e,n,r,i,o,s):d.data[E];Mn(A,!1);const N=l[11].createComment("");As(d,l,N,A),wt(N,l),Ls(l,l[E]=xh(N,l,N,A)),rs(A)&&rl(d,l,A),null!=s&&il(l,A,a)}function Ue(t,e=we.Default){const n=de();return null===n?He(t,e):Xd(pt(),n,Te(t),e)}function yo(t,e,n){const r=de();return function(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}(r,Me.lFrame.bindingIndex++,e)&&function(t,e,n,r,i,o,s,a){const l=en(e,n);let E,d=e.inputs;!a&&null!=d&&(E=d[r])?(Uh(t,n,E,r,i),ns(e)&&function(t,e){const n=Gt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=s?s(i,e.value||"",r):i,ot(o)?o.setProperty(l,r,i):fu(r)||(l.setProperty?l.setProperty(r,i):l[r]=i))}(We(),function(){const t=Me.lFrame;return tu(t.tView,t.selectedIndex)}(),r,t,e,r[11],n,!1),yo}function bl(t,e,n,r,i){const s=i?"class":"style";Uh(t,n,e.inputs[s],s,r)}function Vn(t,e,n,r){const i=de(),o=We(),s=20+t,a=i[11],l=i[s]=Uu(a,e,Me.lFrame.currentNamespace),d=o.firstCreatePass?function(t,e,n,r,i,o,s){const a=e.consts,d=ri(e,t,2,i,ir(a,o));return ol(e,n,d,ir(a,s)),null!==d.attrs&&Vs(d,d.attrs,!1),null!==d.mergedAttrs&&Vs(d,d.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,d),d}(s,o,i,0,e,n,r):o.data[s];Mn(d,!0);const E=d.mergedAttrs;null!==E&&hs(a,l,E);const A=d.classes;null!==A&&Ku(a,l,A);const N=d.styles;null!==N&&ih(a,l,N),64!=(64&d.flags)&&As(o,i,l,d),0===Me.lFrame.elementDepthCount&&wt(l,i),Me.lFrame.elementDepthCount++,rs(d)&&(rl(o,i,d),function(t,e,n){if(Ja(e)){const i=e.directiveEnd;for(let o=e.directiveStart;o<i;o++){const s=t.data[o];s.contentQueries&&s.contentQueries(1,n[o],o)}}}(o,d,i)),null!==r&&il(i,d)}function Bn(){let t=pt();ou()?Me.lFrame.isParent=!1:(t=t.parent,Mn(t,!1));const e=t;Me.lFrame.elementDepthCount--;const n=We();n.firstCreatePass&&(cs(n,t),Ja(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&bl(n,e,de(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&bl(n,e,de(),e.stylesWithoutHost,!1)}function wl(){return de()}function Sl(t){return!!t&&"function"==typeof t.then}const Fp=function(t){return!!t&&"function"==typeof t.subscribe};function Ws(t,e,n,r){const i=de(),o=We(),s=pt();return function(t,e,n,r,i,o,s,a){const l=rs(r),E=t.firstCreatePass&&Lh(t),A=e[8],N=Fh(e);let U=!0;if(3&r.type||a){const Y=en(r,e),fe=a?a(Y):Y,oe=N.length,Ee=a?De=>a(ct(De[r.index])):r.index;if(ot(n)){let De=null;if(!a&&l&&(De=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===n&&i[o+1]===r){const a=e[7],l=i[o+2];return a.length>l?a[l]:null}"string"==typeof s&&(o+=2)}return null}(t,e,i,r.index)),null!==De)(De.__ngLastListenerFn__||De).__ngNextListenerFn__=o,De.__ngLastListenerFn__=o,U=!1;else{o=Rl(r,e,A,o,!1);const Ve=n.listen(fe,i,o);N.push(o,Ve),E&&E.push(i,Ee,oe,oe+1)}}else o=Rl(r,e,A,o,!0),fe.addEventListener(i,o,s),N.push(o),E&&E.push(i,Ee,oe,s)}else o=Rl(r,e,A,o,!1);const Q=r.outputs;let te;if(U&&null!==Q&&(te=Q[i])){const Y=te.length;if(Y)for(let fe=0;fe<Y;fe+=2){const vt=e[te[fe]][te[fe+1]].subscribe(o),cn=N.length;N.push(o,vt),E&&E.push(i,r.index,cn,-(cn+1))}}}(o,i,i[11],s,t,e,!!n,r),Ws}function Bp(t,e,n,r){try{return!1!==n(r)}catch(i){return Bh(t,i),!1}}function Rl(t,e,n,r,i){return function o(s){if(s===Function)return r;const a=2&t.flags?Gt(t.index,e):e;0==(32&e[2])&&ul(a);let l=Bp(e,0,r,s),d=o.__ngNextListenerFn__;for(;d;)l=Bp(e,0,d,s)&&l,d=d.__ngNextListenerFn__;return i&&!1===l&&(s.preventDefault(),s.returnValue=!1),l}}function Gs(t=1){return function(t){return(Me.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Me.lFrame.contextLView))[8]}(t)}function Co(t,e=""){const n=de(),r=We(),i=t+20,o=r.firstCreatePass?ri(r,i,1,e,null):r.data[i],s=n[i]=function(t,e){return ot(t)?t.createText(e):t.createTextNode(e)}(n[11],e);As(r,n,s,o),Mn(o,!1)}const Ar=void 0;var OT=["en",[["a","p"],["AM","PM"],Ar],[["AM","PM"],Ar,Ar],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ar,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ar,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ar,"{1} 'at' {0}",Ar],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){const e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let Ei={};function Og(t){return t in Ei||(Ei[t]=Ke.ng&&Ke.ng.common&&Ke.ng.common.locales&&Ke.ng.common.locales[t]),Ei[t]}var me=(()=>((me=me||{})[me.LocaleId=0]="LocaleId",me[me.DayPeriodsFormat=1]="DayPeriodsFormat",me[me.DayPeriodsStandalone=2]="DayPeriodsStandalone",me[me.DaysFormat=3]="DaysFormat",me[me.DaysStandalone=4]="DaysStandalone",me[me.MonthsFormat=5]="MonthsFormat",me[me.MonthsStandalone=6]="MonthsStandalone",me[me.Eras=7]="Eras",me[me.FirstDayOfWeek=8]="FirstDayOfWeek",me[me.WeekendRange=9]="WeekendRange",me[me.DateFormat=10]="DateFormat",me[me.TimeFormat=11]="TimeFormat",me[me.DateTimeFormat=12]="DateTimeFormat",me[me.NumberSymbols=13]="NumberSymbols",me[me.NumberFormats=14]="NumberFormats",me[me.CurrencyCode=15]="CurrencyCode",me[me.CurrencySymbol=16]="CurrencySymbol",me[me.CurrencyName=17]="CurrencyName",me[me.Currencies=18]="Currencies",me[me.Directionality=19]="Directionality",me[me.PluralCase=20]="PluralCase",me[me.ExtraData=21]="ExtraData",me))();const Ks="en-US";let Pg=Ks;function Pl(t){jt(t,"Expected localeId to be defined"),"string"==typeof t&&(Pg=t.toLowerCase().replace(/_/g,"-"))}class rm{}const om="ngComponent";class PD{resolveComponentFactory(e){throw function(t){const e=Error(`No component factory found for ${Le(t)}. Did you add it to @NgModule.entryComponents?`);return e[om]=t,e}(e)}}class Or{}function Ys(...t){}function Ti(t,e){return new _n(en(t,e))}Or.NULL=new PD;const kD=function(){return Ti(pt(),de())};let _n=(()=>{class t{constructor(n){this.nativeElement=n}}return t.__NG_ELEMENT_ID__=kD,t})();class Zs{}let Ul=(()=>{class t{}return t.\u0275prov=Qe({token:t,providedIn:"root",factory:()=>null}),t})();class Hl{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const um=new Hl("12.2.2");class lm{constructor(){}supports(e){return go(e)}create(e){return new HD(e)}}const UD=(t,e)=>e;class HD{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||UD}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){const s=!r||n&&n.currentIndex<dm(r,i,o)?n:r,a=dm(s,i,o),l=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,null==s.previousIndex)i++;else{o||(o=[]);const d=a-i,E=l-i;if(d!=E){for(let N=0;N<d;N++){const U=N<o.length?o[N]:o[N]=0,Q=U+N;E<=Q&&Q<d&&(o[N]=U+1)}o[s.previousIndex]=E-d}}a!==l&&e(s,a,l)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!go(e))throw new Error(`Error trying to diff '${Le(e)}'. Only arrays and iterables are allowed`);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,o,s,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)):(n=this._mismatch(n,o,s,a),r=!0),n=n._next}else i=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[li()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{s=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,s,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new jD(n,r),o,i),e}_verifyReinsertion(e,n,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,o=e._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new cm),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new cm),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class jD{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class WD{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class cm{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new WD,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function dm(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class fm{constructor(){}supports(e){return e instanceof Map||_l(e)}create(){return new GD}}class GD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let n;for(n=this._mapHead;null!==n;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}diff(e){if(e){if(!(e instanceof Map||_l(e)))throw new Error(`Error trying to diff '${Le(e)}'. Only maps and objects are allowed`)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const o=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,o)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){const r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,n);const o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}const r=new $D(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}}class $D{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function hm(){return new Do([new lm])}let Do=(()=>{class t{constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||hm()),deps:[[t,new br,new Pn]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new Error(`Cannot find a differ supporting object '${n}' of type '${function(t){return t.name||typeof t}(n)}'`)}}return t.\u0275prov=Qe({token:t,providedIn:"root",factory:hm}),t})();function pm(){return new Di([new fm])}let Di=(()=>{class t{constructor(n){this.factories=n}static create(n,r){if(r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||pm()),deps:[[t,new br,new Pn]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(r)return r;throw new Error(`Cannot find a differ supporting object '${n}'`)}}return t.\u0275prov=Qe({token:t,providedIn:"root",factory:pm}),t})();function Xs(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];if(null!==o&&r.push(ct(o)),fn(o))for(let a=10;a<o.length;a++){const l=o[a],d=l[1].firstChild;null!==d&&Xs(l[1],l,d,r)}const s=n.type;if(8&s)Xs(t,e,n.child,r);else if(32&s){const a=Fu(n,e);let l;for(;l=a();)r.push(l)}else if(16&s){const a=th(e,n);if(Array.isArray(a))r.push(...a);else{const l=ao(e[16]);Xs(l[1],l,a,r,!0)}}n=i?n.projectionNext:n.next}return r}class bo{constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,n=e[1];return Xs(n,e,n.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(fn(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(Hu(e,r),Tr(n,r))}this._attachedToViewContainer=!1}Kf(this._lView[1],this._lView)}onDestroy(e){!function(t,e,n,r){const i=Fh(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&Lh(t).push(r,i.length-1))}(this._lView[1],this._lView,null,e)}markForCheck(){ul(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){cl(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){as(!0);try{cl(t,e,n)}finally{as(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function(t,e){uo(t,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}}class zD extends bo{constructor(e){super(e),this._view=e}detectChanges(){kh(this._view)}checkNoChanges(){!function(t){as(!0);try{kh(t)}finally{as(!1)}}(this._view)}get context(){return null}}const XD=[new fm],tb=new Do([new lm]),nb=new Di(XD),ib=function(){return function(t,e){return 4&t.type?new sb(e,t,Ti(t,e)):null}(pt(),de())};let Yn=(()=>{class t{}return t.__NG_ELEMENT_ID__=ib,t})();const ob=Yn,sb=class extends ob{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}createEmbeddedView(e){const n=this._declarationTContainer.tViews,r=lo(this._declarationLView,n,e,16,null,n.declTNode,null,null,null,null);r[17]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[19];return null!==o&&(r[19]=o.createEmbeddedView(n)),co(n,r,e),new bo(r)}};class Pr{}const cb=function(){return function(t,e){let n;const r=e[t.index];if(fn(r))n=r;else{let i;if(8&t.type)i=ct(r);else{const o=e[11];i=o.createComment("");const s=en(t,e);Rr(o,Ms(o,s),i,function(t,e){return ot(t)?t.nextSibling(e):e.nextSibling}(o,s),!1)}e[t.index]=n=xh(r,e,i,t),Ls(e,n)}return new gm(n,t,e)}(pt(),de())};let jn=(()=>{class t{}return t.__NG_ELEMENT_ID__=cb,t})();const fb=jn,gm=class extends fb{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Ti(this._hostTNode,this._hostLView)}get injector(){return new Kr(this._hostTNode,this._hostLView)}get parentInjector(){const e=ms(this._hostTNode,this._hostLView);if(Qd(e)){const n=$r(e,this._hostLView),r=Gr(e);return new Kr(n[1].data[r+8],n)}return new Kr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=mm(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,n,r){const i=e.createEmbeddedView(n||{});return this.insert(i,r),i}createComponent(e,n,r,i,o){const s=r||this.parentInjector;if(!o&&null==e.ngModule&&s){const l=s.get(Pr,null);l&&(o=l)}const a=e.create(s,i,void 0,o);return this.insert(a.hostView,n),a}insert(e,n){const r=e._lView,i=r[1];if(function(t){return fn(t[3])}(r)){const E=this.indexOf(e);if(-1!==E)this.detach(E);else{const A=r[3],N=new gm(A,A[6],A[3]);N.detach(N.indexOf(e))}}const o=this._adjustIndex(n),s=this._lContainer;!function(t,e,n,r){const i=10+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-10?(e[4]=n[i],_s(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[17];null!==s&&n!==s&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(i,r,s,o);const a=Gu(o,s),l=r[11],d=Ms(l,s[7]);return null!==d&&function(t,e,n,r,i,o){r[0]=i,r[6]=e,uo(t,r,n,1,i,o)}(i,s[6],l,r,d,a),e.attachToViewContainerRef(),_s(jl(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=mm(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=Hu(this._lContainer,n);r&&(Tr(jl(this._lContainer),n),Kf(r[1],r))}detach(e){const n=this._adjustIndex(e,-1),r=Hu(this._lContainer,n);return r&&null!=Tr(jl(this._lContainer),n)?new bo(r):null}_adjustIndex(e,n=0){return null==e?this.length+n:e}};function mm(t){return t[8]}function jl(t){return t[8]||(t[8]=[])}const Ri={};class Lm extends Or{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=Ot(e);return new Bm(n,this.ngModule)}}function Vm(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const uw=new Ye("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Vf});class Bm extends rm{constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function(t){return t.map(q0).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}get inputs(){return Vm(this.componentDef.inputs)}get outputs(){return Vm(this.componentDef.outputs)}create(e,n,r,i){const o=(i=i||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const o=t.get(n,Ri,i);return o!==Ri||r===Ri?o:e.get(n,r,i)}}}(e,i.injector):e,s=o.get(Zs,Pd),a=o.get(Ul,null),l=s.createRenderer(null,this.componentDef),d=this.componentDef.selectors[0][0]||"div",E=r?function(t,e,n){if(ot(t))return t.selectRootElement(e,n===ht.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(l,r,this.componentDef.encapsulation):Uu(s.createRenderer(null,this.componentDef),d,function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(d)),A=this.componentDef.onPush?576:528,N=function(t,e){return{components:[],scheduler:t||Vf,clean:NE,playerHandler:e||null,flags:0}}(),U=Fs(0,null,null,1,0,null,null,null,null,null),Q=lo(null,U,N,A,null,null,s,l,a,o);let te,Y;us(Q);try{const fe=function(t,e,n,r,i,o){const s=n[1];n[20]=t;const l=ri(s,20,2,"#host",null),d=l.mergedAttrs=e.hostAttrs;null!==d&&(Vs(l,d,!0),null!==t&&(hs(i,t,d),null!==l.classes&&Ku(i,t,l.classes),null!==l.styles&&ih(i,t,l.styles)));const E=r.createRenderer(t,e),A=lo(n,Th(e),null,e.onPush?64:16,n[20],l,r,E,o||null,null);return s.firstCreatePass&&(ys(zi(l,n),s,e.type),Oh(s,l),Ph(l,n.length,1)),Ls(n,A),n[20]=A}(E,this.componentDef,Q,s,l);if(E)if(r)hs(l,E,["ng-version",um.full]);else{const{attrs:oe,classes:Ee}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!pn(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);oe&&hs(l,E,oe),Ee&&Ee.length>0&&Ku(l,E,Ee.join(" "))}if(Y=tu(U,20),void 0!==n){const oe=Y.projection=[];for(let Ee=0;Ee<this.ngContentSelectors.length;Ee++){const De=n[Ee];oe.push(null!=De?Array.from(De):null)}}te=function(t,e,n,r,i){const o=n[1],s=function(t,e,n){const r=pt();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Nh(t,r,e,ii(t,e,1,null),n));const i=Qi(e,t,r.directiveStart,r);wt(i,e);const o=en(r,e);return o&&wt(o,e),i}(o,n,e);if(r.components.push(s),t[8]=s,i&&i.forEach(l=>l(s,e)),e.contentQueries){const l=pt();e.contentQueries(1,s,l.directiveStart)}const a=pt();return!o.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(or(a.index),Mh(n[1],a,0,a.directiveStart,a.directiveEnd,e),Ah(e,s)),s}(fe,this.componentDef,Q,N,[oI]),co(U,Q,null)}finally{ls()}return new dw(this.componentType,te,Ti(Y,Q),Q,Y)}}class dw extends class{}{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.instance=n,this.hostView=this.changeDetectorRef=new zD(i),this.componentType=e}get injector(){return new Kr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}const Mi=new Map;class pw extends Pr{constructor(e,n){super(),this._parent=n,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Lm(this);const r=Yt(e),i=function(t){return t[dC]||null}(e);i&&Pl(i),this._bootstrapComponents=kn(r.bootstrap),this._r3Injector=Wh(e,n,[{provide:Pr,useValue:this},{provide:Or,useValue:this.componentFactoryResolver}],Le(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,n=qe.THROW_IF_NOT_FOUND,r=we.Default){return e===qe||e===Pr||e===si?this:this._r3Injector.get(e,n,r)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class tc extends class{}{constructor(e){super(),this.moduleType=e,null!==Yt(e)&&function(t){const e=new Set;!function n(r){const i=Yt(r,!0),o=i.id;null!==o&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${Le(e)} vs ${Le(e.name)}`)}(o,Mi.get(o),r),Mi.set(o,r));const s=kn(i.imports);for(const a of s)e.has(a)||(e.add(a),n(a))}(t)}(e)}create(e){return new pw(this.moduleType,e)}}function nc(t){return e=>{setTimeout(t,void 0,e)}}const Zn=class extends ee{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){var i,o,s;let a=e,l=n||(()=>null),d=r;if(e&&"object"==typeof e){const A=e;a=null===(i=A.next)||void 0===i?void 0:i.bind(A),l=null===(o=A.error)||void 0===o?void 0:o.bind(A),d=null===(s=A.complete)||void 0===s?void 0:s.bind(A)}this.__isAsync&&(l=nc(l),a&&(a=nc(a)),d&&(d=nc(d)));const E=super.subscribe({next:a,error:l,complete:d});return e instanceof f&&e.add(E),E}};Symbol;const ua=new Ye("Application Initializer");let Oi=(()=>{class t{constructor(n){this.appInits=n,this.resolve=Ys,this.reject=Ys,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const n=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const o=this.appInits[i]();if(Sl(o))n.push(o);else if(Fp(o)){const s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});n.push(s)}}Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}}return t.\u0275fac=function(n){return new(n||t)(He(ua,8))},t.\u0275prov=Qe({token:t,factory:t.\u0275fac}),t})();const Lo=new Ye("AppId"),CS={provide:Lo,useFactory:function(){return`${hc()}${hc()}${hc()}`},deps:[]};function hc(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const gy=new Ye("Platform Initializer"),pc=new Ye("Platform ID"),_S=new Ye("appBootstrapListener");let gc=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=Qe({token:t,factory:t.\u0275fac}),t})();const dr=new Ye("LocaleId"),my=new Ye("DefaultCurrencyCode");class IS{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}const mc=function(t){return new tc(t)},TS=mc,DS=function(t){return Promise.resolve(mc(t))},yy=function(t){const e=mc(t),r=kn(Yt(t).declarations).reduce((i,o)=>{const s=Ot(o);return s&&i.push(new Bm(s)),i},[]);return new IS(e,r)},bS=yy,wS=function(t){return Promise.resolve(yy(t))};let ca=(()=>{class t{constructor(){this.compileModuleSync=TS,this.compileModuleAsync=DS,this.compileModuleAndAllComponentsSync=bS,this.compileModuleAndAllComponentsAsync=wS}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=Qe({token:t,factory:t.\u0275fac}),t})();const MS=(()=>Promise.resolve(0))();function yc(t){"undefined"==typeof Zone?MS.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Tt{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Zn(!1),this.onMicrotaskEmpty=new Zn(!1),this.onStable=new Zn(!1),this.onError=new Zn(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function(){let t=Ke.requestAnimationFrame,e=Ke.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=()=>{!function(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Ke,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Cc(t),t.isCheckStableRunning=!0,vc(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Cc(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{try{return vy(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&e(),Cy(t)}},onInvoke:(n,r,i,o,s,a,l)=>{try{return vy(t),n.invoke(i,o,s,a,l)}finally{t.shouldCoalesceRunChangeDetection&&e(),Cy(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&("microTask"==o.change?(t._hasPendingMicrotasks=o.microTask,Cc(t),vc(t)):"macroTask"==o.change&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Tt.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Tt.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,OS,Ys,Ys);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const OS={};function vc(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Cc(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function vy(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Cy(t){t._nesting--,vc(t)}class xS{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Zn,this.onMicrotaskEmpty=new Zn,this.onStable=new Zn,this.onError=new Zn}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}let _c=(()=>{class t{constructor(n){this._ngZone=n,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Tt.assertNotInAngularZone(),yc(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())yc(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:o,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(n,r,i){return[]}}return t.\u0275fac=function(n){return new(n||t)(He(Tt))},t.\u0275prov=Qe({token:t,factory:t.\u0275fac}),t})(),_y=(()=>{class t{constructor(){this._applications=new Map,Ec.addToWindow(this)}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return Ec.findTestabilityInTree(this,n,r)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=Qe({token:t,factory:t.\u0275fac}),t})();class kS{addToWindow(e){}findTestabilityInTree(e,n,r){return null}}let Ec=new kS,Ey=!0,Iy=!1;let Tn;const Dy=new Ye("AllowMultipleToken");function by(t,e,n=[]){const r=`Platform: ${e}`,i=new Ye(r);return(o=[])=>{let s=wy();if(!s||s.injector.get(Dy,!1))if(t)t(n.concat(o).concat({provide:i,useValue:!0}));else{const a=n.concat(o).concat({provide:i,useValue:!0},{provide:fo,useValue:"platform"});!function(t){if(Tn&&!Tn.destroyed&&!Tn.injector.get(Dy,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Tn=t.get(Sy);const e=t.get(gy,null);e&&e.forEach(n=>n())}(qe.create({providers:a,name:r}))}return function(t){const e=wy();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function wy(){return Tn&&!Tn.destroyed?Tn:null}let Sy=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const a=function(t,e){let n;return n="noop"===t?new xS:("zone.js"===t?void 0:t)||new Tt({enableLongStackTrace:(Iy=!0,Ey),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(r?r.ngZone:void 0,{ngZoneEventCoalescing:r&&r.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:r&&r.ngZoneRunCoalescing||!1}),l=[{provide:Tt,useValue:a}];return a.run(()=>{const d=qe.create({providers:l,parent:this.injector,name:n.moduleType.name}),E=n.create(d),A=E.injector.get(Sr,null);if(!A)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return a.runOutsideAngular(()=>{const N=a.onError.subscribe({next:U=>{A.handleError(U)}});E.onDestroy(()=>{Ic(this._modules,E),N.unsubscribe()})}),function(t,e,n){try{const r=n();return Sl(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(A,a,()=>{const N=E.injector.get(Oi);return N.runInitializers(),N.donePromise.then(()=>(Pl(E.injector.get(dr,Ks)||Ks),this._moduleDoBootstrap(E),E))})})}bootstrapModule(n,r=[]){const i=Ry({},r);return function(t,e,n){const r=new tc(n);return Promise.resolve(r)}(0,0,n).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(n){const r=n.injector.get(Vo);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new Error(`The module ${Le(n.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(n=>n.destroy()),this._destroyListeners.forEach(n=>n()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(n){return new(n||t)(He(qe))},t.\u0275prov=Qe({token:t,factory:t.\u0275fac}),t})();function Ry(t,e){return Array.isArray(e)?e.reduce(Ry,t):Object.assign(Object.assign({},t),e)}let Vo=(()=>{class t{constructor(n,r,i,o,s){this._zone=n,this._injector=r,this._exceptionHandler=i,this._componentFactoryResolver=o,this._initStatus=s,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const a=new V(d=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{d.next(this._stable),d.complete()})}),l=new V(d=>{let E;this._zone.runOutsideAngular(()=>{E=this._zone.onStable.subscribe(()=>{Tt.assertNotInAngularZone(),yc(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,d.next(!0))})})});const A=this._zone.onUnstable.subscribe(()=>{Tt.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{d.next(!1)}))});return()=>{E.unsubscribe(),A.unsubscribe()}});this.isStable=function(...t){let e=Number.POSITIVE_INFINITY,n=null,r=t[t.length-1];return ue(r)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof r&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof V?t[0]:Uv(e)(hd(t,n))}(a,l.pipe(t=>pd()(function(t,e){return function(r){let i;i="function"==typeof t?t:function(){return t};const o=Object.create(r,$v);return o.source=r,o.subjectFactory=i,o}}(Jv)(t))))}bootstrap(n,r){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let i;i=n instanceof rm?n:this._componentFactoryResolver.resolveComponentFactory(n),this.componentTypes.push(i.componentType);const o=function(t){return t.isBoundToModule}(i)?void 0:this._injector.get(Pr),a=i.create(qe.NULL,[],r||i.selector,o),l=a.location.nativeElement,d=a.injector.get(_c,null),E=d&&a.injector.get(_y);return d&&E&&E.registerApplication(l,d),a.onDestroy(()=>{this.detachView(a.hostView),Ic(this.components,a),E&&E.unregisterApplication(l)}),this._loadComponent(a),a}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;Ic(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(_S,[]).concat(this._bootstrapListeners).forEach(i=>i(n))}ngOnDestroy(){this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(n){return new(n||t)(He(Tt),He(qe),He(Sr),He(Or),He(Oi))},t.\u0275prov=Qe({token:t,factory:t.\u0275fac}),t})();function Ic(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const uR=by(null,"core",[{provide:pc,useValue:"unknown"},{provide:Sy,deps:[qe]},{provide:_y,deps:[]},{provide:gc,deps:[]}]),hR=[{provide:Vo,useClass:Vo,deps:[Tt,qe,Sr,Or,Oi]},{provide:uw,deps:[Tt],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(n){e.push(n)}}},{provide:Oi,useClass:Oi,deps:[[new Pn,ua]]},{provide:ca,useClass:ca,deps:[]},CS,{provide:Do,useFactory:function(){return tb},deps:[]},{provide:Di,useFactory:function(){return nb},deps:[]},{provide:dr,useFactory:function(t){return Pl(t=t||"undefined"!=typeof $localize&&$localize.locale||Ks),t},deps:[[new to(dr),new Pn,new br]]},{provide:my,useValue:"USD"}];let gR=(()=>{class t{constructor(n){}}return t.\u0275fac=function(n){return new(n||t)(He(Vo))},t.\u0275mod=Ui({type:t}),t.\u0275inj=mr({providers:hR}),t})(),_a=null;function Wo(){return _a}const Dt=new Ye("DocumentToken");var dt=(()=>((dt=dt||{})[dt.Zero=0]="Zero",dt[dt.One=1]="One",dt[dt.Two=2]="Two",dt[dt.Few=3]="Few",dt[dt.Many=4]="Many",dt[dt.Other=5]="Other",dt))();const TM=function(t){return function(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=Og(e);if(n)return n;const r=e.split("-")[0];if(n=Og(r),n)return n;if("en"===r)return OT;throw new Error(`Missing locale data for the locale "${t}".`)}(t)[me.PluralCase]};class Aa{}let ZM=(()=>{class t extends Aa{constructor(n){super(),this.locale=n}getPluralCategory(n,r){switch(TM(r||this.locale)(n)){case dt.Zero:return"zero";case dt.One:return"one";case dt.Two:return"two";case dt.Few:return"few";case dt.Many:return"many";default:return"other"}}}return t.\u0275fac=function(n){return new(n||t)(He(dr))},t.\u0275prov=Qe({token:t,factory:t.\u0275fac}),t})(),hv=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new oA,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){pv("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){pv("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(Ue(jn),Ue(Yn))},t.\u0275dir=Jt({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class oA{constructor(){this.$implicit=null,this.ngIf=null}}function pv(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Le(e)}'.`)}let OA=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Ui({type:t}),t.\u0275inj=mr({providers:[{provide:Aa,useClass:ZM}]}),t})();class qc extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function(t){_a||(_a=t)}(new qc)}onAndCancel(e,n,r){return e.addEventListener(n,r,!1),()=>{e.removeEventListener(n,r,!1)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=(Ko=Ko||document.querySelector("base"),Ko?Ko.getAttribute("href"):null);return null==n?null:function(t){Oa=Oa||document.createElement("a"),Oa.setAttribute("href",t);const e=Oa.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){Ko=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,o]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}(document.cookie,e)}}let Oa,Ko=null;const Cv=new Ye("TRANSITION_ID"),HA=[{provide:ua,useFactory:function(t,e,n){return()=>{n.get(Oi).donePromise.then(()=>{const r=Wo(),i=e.querySelectorAll(`style[ng-transition="${t}"]`);for(let o=0;o<i.length;o++)r.remove(i[o])})}},deps:[Cv,Dt,qe],multi:!0}];class Jc{static init(){!function(t){Ec=t}(new Jc)}addToWindow(e){Ke.getAngularTestability=(r,i=!0)=>{const o=e.findTestabilityInTree(r,i);if(null==o)throw new Error("Could not find testability for element.");return o},Ke.getAllAngularTestabilities=()=>e.getAllTestabilities(),Ke.getAllAngularRootElements=()=>e.getAllRootElements(),Ke.frameworkStabilizers||(Ke.frameworkStabilizers=[]),Ke.frameworkStabilizers.push(r=>{const i=Ke.getAllAngularTestabilities();let o=i.length,s=!1;const a=function(l){s=s||l,o--,0==o&&r(s)};i.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(e,n,r){if(null==n)return null;const i=e.getTestability(n);return null!=i?i:r?Wo().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null}}let jA=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=Qe({token:t,factory:t.\u0275fac}),t})();const zo=new Ye("EventManagerPlugins");let Na=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>i.manager=this),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}addGlobalEventListener(n,r,i){return this._findPluginFor(r).addGlobalEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){const r=this._eventNameToPlugin.get(n);if(r)return r;const i=this._plugins;for(let o=0;o<i.length;o++){const s=i[o];if(s.supports(n))return this._eventNameToPlugin.set(n,s),s}throw new Error(`No event manager plugin found for event ${n}`)}}return t.\u0275fac=function(n){return new(n||t)(He(zo),He(Tt))},t.\u0275prov=Qe({token:t,factory:t.\u0275fac}),t})();class Yc{constructor(e){this._doc=e}addGlobalEventListener(e,n,r){const i=Wo().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${n}`);return this.addEventListener(i,n,r)}}let Ev=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(n){const r=new Set;n.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(n){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=Qe({token:t,factory:t.\u0275fac}),t})(),Qo=(()=>{class t extends Ev{constructor(n){super(),this._doc=n,this._hostNodes=new Map,this._hostNodes.set(n.head,[])}_addStylesToHost(n,r,i){n.forEach(o=>{const s=this._doc.createElement("style");s.textContent=o,i.push(r.appendChild(s))})}addHost(n){const r=[];this._addStylesToHost(this._stylesSet,n,r),this._hostNodes.set(n,r)}removeHost(n){const r=this._hostNodes.get(n);r&&r.forEach(Iv),this._hostNodes.delete(n)}onStylesAdded(n){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(n,i,r)})}ngOnDestroy(){this._hostNodes.forEach(n=>n.forEach(Iv))}}return t.\u0275fac=function(n){return new(n||t)(He(Dt))},t.\u0275prov=Qe({token:t,factory:t.\u0275fac}),t})();function Iv(t){Wo().remove(t)}const Zc={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Xc=/%COMP%/g;function xa(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?xa(t,i,n):(i=i.replace(Xc,t),n.push(i))}return n}function bv(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let ed=(()=>{class t{constructor(n,r,i){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new td(n)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;switch(r.encapsulation){case ht.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new r1(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(n),i}case 1:case ht.ShadowDom:return new i1(this.eventManager,this.sharedStylesHost,n,r);default:if(!this.rendererByCompId.has(r.id)){const i=xa(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(n){return new(n||t)(He(Na),He(Qo),He(Lo))},t.\u0275prov=Qe({token:t,factory:t.\u0275fac}),t})();class td{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,n){return n?document.createElementNS(Zc[n]||n,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,n){e.appendChild(n)}insertBefore(e,n,r){e&&e.insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const o=Zc[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=Zc[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(zt.DashCase|zt.Important)?e.style.setProperty(n,r,i&zt.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&zt.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,n,bv(r)):this.eventManager.addEventListener(e,n,bv(r))}}class r1 extends td{constructor(e,n,r,i){super(e),this.component=r;const o=xa(i+"-"+r.id,r.styles,[]);n.addStyles(o),this.contentAttr=function(t){return"_ngcontent-%COMP%".replace(Xc,t)}(i+"-"+r.id),this.hostAttr=function(t){return"_nghost-%COMP%".replace(Xc,t)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}class i1 extends td{constructor(e,n,r,i){super(e),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=xa(i.id,i.styles,[]);for(let s=0;s<o.length;s++){const a=document.createElement("style");a.textContent=o[s],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let o1=(()=>{class t extends Yc{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}}return t.\u0275fac=function(n){return new(n||t)(He(Dt))},t.\u0275prov=Qe({token:t,factory:t.\u0275fac}),t})();const Rv=["alt","control","meta","shift"],f1={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Mv={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},h1={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let p1=(()=>{class t extends Yc{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const o=t.parseEventName(r),s=t.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Wo().onAndCancel(n,o.domEventName,s))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=t._normalizeKey(r.pop());let s="";if(Rv.forEach(l=>{const d=r.indexOf(l);d>-1&&(r.splice(d,1),s+=l+".")}),s+=o,0!=r.length||0===o.length)return null;const a={};return a.domEventName=i,a.fullKey=s,a}static getEventFullKey(n){let r="",i=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&Mv.hasOwnProperty(e)&&(e=Mv[e]))}return f1[e]||e}(n);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Rv.forEach(o=>{o!=i&&h1[o](n)&&(r+=o+".")}),r+=i,r}static eventCallback(n,r,i){return o=>{t.getEventFullKey(o)===n&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){switch(n){case"esc":return"escape";default:return n}}}return t.\u0275fac=function(n){return new(n||t)(He(Dt))},t.\u0275prov=Qe({token:t,factory:t.\u0275fac}),t})();const I1=by(uR,"browser",[{provide:pc,useValue:"browser"},{provide:gy,useValue:function(){qc.makeCurrent(),Jc.init()},multi:!0},{provide:Dt,useFactory:function(){return function(t){Xa=t}(document),document},deps:[]}]),T1=[[],{provide:fo,useValue:"root"},{provide:Sr,useFactory:function(){return new Sr},deps:[]},{provide:zo,useClass:o1,multi:!0,deps:[Dt,Tt,pc]},{provide:zo,useClass:p1,multi:!0,deps:[Dt]},[],{provide:ed,useClass:ed,deps:[Na,Qo,Lo]},{provide:Zs,useExisting:ed},{provide:Ev,useExisting:Qo},{provide:Qo,useClass:Qo,deps:[Dt]},{provide:_c,useClass:_c,deps:[Tt]},{provide:Na,useClass:Na,deps:[zo,Tt]},{provide:class{},useClass:jA,deps:[]},[]];let D1=(()=>{class t{constructor(n){if(n)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(n){return{ngModule:t,providers:[{provide:Lo,useValue:n.appId},{provide:Cv,useExisting:Lo},HA]}}}return t.\u0275fac=function(n){return new(n||t)(He(t,12))},t.\u0275mod=Ui({type:t}),t.\u0275inj=mr({providers:T1,imports:[OA,gR]}),t})();function Ov(t,e,n,r,i,o,s){try{var a=t[o](s),l=a.value}catch(d){return void n(d)}a.done?e(l):Promise.resolve(l).then(r,i)}function ka(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function s(l){Ov(o,r,i,s,a,"next",l)}function a(l){Ov(o,r,i,s,a,"throw",l)}s(void 0)})}}"undefined"!=typeof window&&window;var P1=c(5436);class sd{constructor(){this.middlewares={}}static getInstance(){return this._instance||(this._instance=new sd),this._instance}subscribe(e,n){this.middlewares[e]=n}create(){return console.log("[CustomStore][create]"),window.WebChat.createStore({},({dispatch:n})=>r=>i=>{let o=i;if(i&&i.payload)for(const s of Object.keys(this.middlewares)){const a=this.middlewares[s];if(a.applicable(o)){const l=a.apply(o);l.dispatchAction&&n(l.dispatchAction),l.nextAction&&(o=l.nextAction)}}return r(o)})}}var xi=c(8139);const Pv=t=>{if(t){const e=t.split(/\s/).reduce((n,r)=>n+r.slice(0,1),"");return e.length>1?e.substring(0,2).toUpperCase():t.substring(0,2).toUpperCase()}return""};class F1{constructor(e){this.dataMaskingRules=e,console.log("[DataMaskingRules]"),console.log(this.dataMaskingRules)}applicable(e){const{text:n}=e.payload;return!!(Object.keys(this.dataMaskingRules).length>0&&n&&"WEB_CHAT/SEND_MESSAGE"===e.type)}apply(e){return{dispatchAction:null,nextAction:this.applyDataMasking(e)}}applyDataMasking(e){let{text:r}=e.payload;if(Object.keys(this.dataMaskingRules).length>0)for(const i of Object.values(this.dataMaskingRules)){const o=new RegExp(i,"g");let s;for(;s=o.exec(r);){const a=s[0].replace(/./g,"#");r=r.replace(s[0],a)}}return e.payload.text=r,e}}const Fa_omnichannelConfig_orgId="d367c413-e0b9-408b-ae1c-382499b369ae",Fa_omnichannelConfig_orgUrl="https://omnichannel-crm.omnichannelengagementhub.com",Fa_omnichannelConfig_widgetId="3a352b95-5d67-4e47-af28-eca029b03928";function La(t,e){return new V(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let o=0,s=0;for(let a=0;a<r;a++){const l=Ge(t[a]);let d=!1;n.add(l.subscribe({next:E=>{d||(d=!0,s++),i[a]=E},error:E=>n.error(E),complete:()=>{o++,(o===r||!d)&&(s===r&&n.next(e?e.reduce((E,A,N)=>(E[A]=i[N],E),{}):i),n.complete())}}))}})}class j1 extends f{constructor(e,n){super()}schedule(e,n=0){return this}}class W1 extends j1{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){if(this.closed)return this;this.state=e;const r=this.id,i=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(i,r,n)),this.pending=!0,this.delay=n,this.id=this.id||this.requestAsyncId(i,this.id,n),this}requestAsyncId(e,n,r=0){return setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!==r&&this.delay===r&&!1===this.pending)return n;clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(o){r=!0,i=!!o&&o||new Error(o)}if(r)return this.unsubscribe(),i}_unsubscribe(){const e=this.id,n=this.scheduler,r=n.actions,i=r.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&r.splice(i,1),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null}}let Nv=(()=>{class t{constructor(n,r=t.now){this.SchedulerAction=n,this.now=r}schedule(n,r=0,i){return new this.SchedulerAction(this,n).schedule(i,r)}}return t.now=()=>Date.now(),t})();class pr extends Nv{constructor(e,n=Nv.now){super(e,()=>pr.delegate&&pr.delegate!==this?pr.delegate.now():n()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(e,n=0,r){return pr.delegate&&pr.delegate!==this?pr.delegate.schedule(e,n,r):super.schedule(e,n,r)}flush(e){const{actions:n}=this;if(this.active)return void n.push(e);let r;this.active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this.active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const K1=new class extends pr{}(class extends W1{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!==r&&r>0||null===r&&this.delay>0?super.requestAsyncId(e,n,r):e.flush(this)}}),z1=new V(t=>t.complete());class ln{constructor(e,n,r){this.kind=e,this.value=n,this.error=r,this.hasValue="N"===e}observe(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}}do(e,n,r){switch(this.kind){case"N":return e&&e(this.value);case"E":return n&&n(this.error);case"C":return r&&r()}}accept(e,n,r){return e&&"function"==typeof e.next?this.observe(e):this.do(e,n,r)}toObservable(){switch(this.kind){case"N":return function(...t){let e=t[t.length-1];return ue(e)?(t.pop(),he(t,e)):hd(t)}(this.value);case"E":return function(t,e){return new V(n=>n.error(t))}(this.error);case"C":return function(t){return t?function(t){return new V(e=>t.schedule(()=>e.complete()))}(t):z1}()}throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new ln("N",e):ln.undefinedValueNotification}static createError(e){return new ln("E",void 0,e)}static createComplete(){return ln.completeNotification}}ln.completeNotification=new ln("C"),ln.undefinedValueNotification=new ln("N",void 0);class Va extends p{constructor(e,n,r=0){super(e),this.scheduler=n,this.delay=r}static dispatch(e){const{notification:n,destination:r}=e;n.observe(r),this.unsubscribe()}scheduleMessage(e){this.destination.add(this.scheduler.schedule(Va.dispatch,this.delay,new eO(e,this.destination)))}_next(e){this.scheduleMessage(ln.createNext(e))}_error(e){this.scheduleMessage(ln.createError(e)),this.unsubscribe()}_complete(){this.scheduleMessage(ln.createComplete()),this.unsubscribe()}}class eO{constructor(e,n){this.notification=e,this.destination=n}}class xv extends ee{constructor(e=Number.POSITIVE_INFINITY,n=Number.POSITIVE_INFINITY,r){super(),this.scheduler=r,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=e<1?1:e,this._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(e){if(!this.isStopped){const n=this._events;n.push(e),n.length>this._bufferSize&&n.shift()}super.next(e)}nextTimeWindow(e){this.isStopped||(this._events.push(new tO(this._getNow(),e)),this._trimBufferThenGetEvents()),super.next(e)}_subscribe(e){const n=this._infiniteTimeWindow,r=n?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,o=r.length;let s;if(this.closed)throw new G;if(this.isStopped||this.hasError?s=f.EMPTY:(this.observers.push(e),s=new ae(this,e)),i&&e.add(e=new Va(e,i)),n)for(let a=0;a<o&&!e.closed;a++)e.next(r[a]);else for(let a=0;a<o&&!e.closed;a++)e.next(r[a].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),s}_getNow(){return(this.scheduler||K1).now()}_trimBufferThenGetEvents(){const e=this._getNow(),n=this._bufferSize,r=this._windowTime,i=this._events,o=i.length;let s=0;for(;s<o&&!(e-i[s].time<r);)s++;return o>n&&(s=Math.max(s,o-n)),s>0&&i.splice(0,s),i}}class tO{constructor(e,n){this.time=e,this.value=n}}let nO=(()=>{class t{constructor(n){this.document=n,this._loadedLibraries={}}lazyLoad(){return function(...t){if(1===t.length){const e=t[0];if(m(e))return La(e,null);if(C(e)&&Object.getPrototypeOf(e)===Object.prototype){const n=Object.keys(e);return La(n.map(r=>e[r]),n)}}if("function"==typeof t[t.length-1]){const e=t.pop();return La(t=1===t.length&&m(t[0])?t[0]:t,null).pipe(Z(n=>e(...n)))}return La(t,null)}([this.loadScript("https://cdn.botframework.com/botframework-webchat/4.9.2/webchat.js")])}loadScript(n){if(this._loadedLibraries[n])return this._loadedLibraries[n].asObservable();this._loadedLibraries[n]=new xv;const r=this.document.createElement("script");return r.type="text/javascript",r.async=!0,r.src=n,r.onload=()=>{this._loadedLibraries[n].next(),this._loadedLibraries[n].complete()},this.document.body.appendChild(r),this._loadedLibraries[n].asObservable()}loadStyle(n){if(this._loadedLibraries[n])return this._loadedLibraries[n].asObservable();this._loadedLibraries[n]=new xv;const r=this.document.createElement("link");return r.type="text/css",r.href=n,r.rel="stylesheet",r.onload=()=>{this._loadedLibraries[n].next(),this._loadedLibraries[n].complete()},document.getElementsByTagName("head")[0].appendChild(r),this._loadedLibraries[n].asObservable()}}return t.\u0275fac=function(n){return new(n||t)(He(Dt))},t.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function rO(t,e){1&t&&(Vn(0,"div",8),Vn(1,"span",9),Co(2," \u{1f440} "),Bn(),Bn())}function iO(t,e){if(1&t){const n=wl();Vn(0,"div",3),Vn(1,"div",4),Co(2,"LiveChat with Omnichannel Chat SDK "),Vn(3,"span",5),Ws("click",function(){return iu(n),Gs().endChat()}),Co(4," \u274c "),Bn(),Bn(),Hs(5,rO,3,0,"div",6),function(t,e,n,r){Vn(t,e,n,r),Bn()}(6,"div",7),Bn()}if(2&t){const n=Gs();Ps(5),yo("ngIf",n.loading)}}function oO(t,e){if(1&t){const n=wl();Vn(0,"div",10),Ws("click",function(){return iu(n),Gs().startChat()}),Vn(1,"span"),Co(2," \u{1f44b} "),Bn(),Bn()}}const kv=(()=>{const t={orgId:Fa_omnichannelConfig_orgId||"",orgUrl:Fa_omnichannelConfig_orgUrl||"",widgetId:Fa_omnichannelConfig_widgetId||""},e=new URLSearchParams(window.location.search);return null!==e.get("orgUrl")&&(t.orgUrl=e.get("orgUrl")),null!==e.get("orgId")&&(t.orgId=e.get("orgId")),null!==e.get("widgetId")&&(t.widgetId=e.get("widgetId")),t})(),Fv=(()=>{const t={telemetry:{disable:!0,ariaTelemetryKey:""}},e=new URLSearchParams(window.location.search);return null!==e.get("telemetry")&&(t.telemetry.disable="true"!=e.get("telemetry")),null!==e.get("ariaTelemetryKey")&&(t.telemetry.ariaTelemetryKey=e.get("ariaTelemetryKey")||""),t})(),Lv=(()=>{const t={disable:!0},e=new URLSearchParams(window.location.search);return null!==e.get("debug")&&(t.disable="true"!=e.get("debug")),t})();console.log("%c [OmnichannelConfig]","background-color:#001433;color:#fff"),console.log(kv),console.log("%c [debugConfig]","background-color:#001433;color:#fff"),console.log(Lv),console.log("%c [telemetryConfig]","background-color:#001433;color:#fff"),console.log(Fv);const sO=(console.log("[createAvatarMiddleware]"),()=>e=>n=>{console.log("[AvatarMiddleware]");const{activity:{channelData:{tags:r},from:{name:i},text:o},fromUser:s}=n;return console.log(n),r&&r.includes("system")?(console.log(`[AvatarMiddleware][Message][System] ${o}`),xi.createElement("div",null,"\u2757")):null!=s&&(s?s?(console.log(`[AvatarMiddleware][Message][Customer] ${o}`),xi.createElement("div",{className:"webchat__avatar"},xi.createElement("p",{className:"webchat__avatar_initials"}," ",Pv(i)||"CU","  "))):e(n):(console.log(`[AvatarMiddleware][Message][Agent] ${o}`),xi.createElement("div",{className:"webchat__avatar"},xi.createElement("p",{className:"webchat__avatar_initials"}," ",Pv(i)," "))))}),aO=(console.log("[createActivityMiddleware]"),()=>e=>n=>{if(console.log("%c [ActivityMiddleware]","background: #2a9fd4; color: #fff"),console.log(n),n.activity){if(n.activity.channelData&&n.activity.channelData.tags&&n.activity.channelData.tags.includes("system"))return console.log(`%c [ActivityMiddleware][Message][System] ${n.activity.text}`,"background: #2a9fd4; color: #fff"),r=>xi.createElement("div",{key:n.activity.id,className:"system-message"},e(n)(r));if(void 0===n.activity.text||null==n.activity.text)return e(n);"bot"===n.activity.from.role&&console.log(`%c [ActivityMiddleware][Message][Agent] ${n.activity.text}`,"background: #2a9fd4; color: #fff"),"user"===n.activity.from.role&&console.log(`%c [ActivityMiddleware][Message][Customer] ${n.activity.text}`,"background: #2a9fd4; color: #fff")}return e(n)}),uO={bubbleBorderRadius:10,bubbleNubSize:10,bubbleNubOffset:15,bubbleFromUserBorderRadius:10,bubbleFromUserNubSize:10,bubbleFromUserNubOffset:15,bubbleFromUserBackground:"rgb(246, 246, 246)"};let lO=(()=>{class t{constructor(n,r){this.webChatControlService=n,this.document=r,this.title="angular-botframework-webchat-control",this.webChat=null,this.chatSDK=null,this.chatAdapter=null,this.loading=!1,this.hasChatStarted=!1,this.webChatStore=null}ngOnInit(){var n=this;return ka(function*(){console.log("[ngOnInit]"),n.webChatControlService.lazyLoad().subscribe(function(){var r=ka(function*(i){n.webChat=window.WebChat;const o=Object.assign({},Fv),s=new P1.Mg(kv,o);s.setDebug(!Lv.disable),yield s.initialize(),n.chatSDK=s,n.webChat=window.WebChat;const a=localStorage.getItem("liveChatContext");a&&Object.keys(JSON.parse(a)).length>0&&(console.log("[liveChatContext]"),console.log(a))});return function(i){return r.apply(this,arguments)}}())})()}startChat(){var n=this;return ka(function*(){var r,i,o,s;console.log("[startChat]");const a=yield null===(r=n.chatSDK)||void 0===r?void 0:r.getDataMaskingRules();console.log(a);const l=(console.log("[createCustomStore]"),sd.getInstance());n.webChatStore=l.create(),l.subscribe("DataMasking",(t=>(console.log("[createDataMaskingMiddleware]"),new F1(t)))(a));const d={},E=localStorage.getItem("liveChatContext");E&&Object.keys(JSON.parse(E)).length>0&&(console.log("[liveChatContext]"),d.liveChatContext=JSON.parse(E)),n.hasChatStarted=!0,n.loading=!0,yield null===(i=n.chatSDK)||void 0===i?void 0:i.startChat(d);const A=yield null===(o=n.chatSDK)||void 0===o?void 0:o.getCurrentLiveChatContext();A&&Object.keys(A).length&&localStorage.setItem("liveChatContext",JSON.stringify(A));const N=yield null===(s=n.chatSDK)||void 0===s?void 0:s.createChatAdapter();n.chatAdapter=N,n.loading=!1,n.webChat.renderWebChat({directLine:N,sendTypingIndicator:!0,styleOptions:uO,store:n.webChatStore,avatarMiddleware:sO,activityMiddleware:aO},n.document.getElementById("chat-container"))})()}endChat(){var n=this;return ka(function*(){var r;console.log("[endChat]"),yield null===(r=n.chatSDK)||void 0===r?void 0:r.endChat(),n.hasChatStarted=!1;const i=n.document.getElementById("chat-container");for(;i.firstChild;)i.firstChild.remove()})()}}return t.\u0275fac=function(n){return new(n||t)(Ue(nO),Ue(Dt))},t.\u0275cmp=za({type:t,selectors:[["app-root"]],decls:3,vars:2,consts:[["id","root"],["id","chat-root",4,"ngIf"],["id","chat-button",3,"click",4,"ngIf"],["id","chat-root"],[1,"chat-header"],[3,"click"],["id","loading-screen",4,"ngIf"],["id","chat-container"],["id","loading-screen"],["id","loader"],["id","chat-button",3,"click"]],template:function(n,r){1&n&&(Vn(0,"div",0),Hs(1,iO,7,1,"div",1),Hs(2,oO,3,0,"div",2),Bn()),2&n&&(Ps(1),yo("ngIf",r.hasChatStarted),Ps(1),yo("ngIf",!r.hasChatStarted&&!r.loading))},directives:[hv],styles:['body[_ngcontent-%COMP%]{margin:0;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Roboto","Oxygen","Ubuntu","Cantarell","Fira Sans","Droid Sans","Helvetica Neue",sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}code[_ngcontent-%COMP%]{font-family:source-code-pro,Menlo,Monaco,Consolas,"Courier New",monospace}#chat-root[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-width:400px;max-width:400px;min-height:600px;max-height:600px;width:400px;height:600px;position:fixed;right:0;bottom:0;border-radius:4px;margin:0 20px 60px 0;box-shadow:0 0 15px 2px #161b224d;font-family:"Segoe UI",Arial,sans-serif}#chat-container[_ngcontent-%COMP%]{width:100%;height:100%}.chat-header[_ngcontent-%COMP%]{border-bottom:#E6E6E6 solid 1px;padding:10px;display:flex;justify-content:space-between;cursor:pointer}#loading-screen[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-width:400px;max-width:400px;min-height:600px;max-height:600px;width:400px;height:600px;position:fixed;right:0;bottom:0;border-radius:4px;margin:0 20px 60px 0;box-shadow:0 0 15px 2px #161b224d;align-items:center;justify-content:center}@keyframes spin{to{transform:rotate(360deg)}}#loader[_ngcontent-%COMP%]{font-size:120px;animation:spin 2s linear infinite}#chat-button[_ngcontent-%COMP%]{position:fixed;right:0;bottom:0;border-radius:32px;background-color:#0078d4;box-shadow:0 0 5px 2px #0078d4;padding:10px;margin:0 20px 20px 0;color:#fff;font-size:32px;cursor:pointer}#chat-button[_ngcontent-%COMP%]:hover{box-shadow:0 0 20px 2px #0078d4;transition:all 2s}']}),t})(),cO=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Ui({type:t,bootstrap:[lO]}),t.\u0275inj=mr({providers:[],imports:[[D1]]}),t})();(function(){if(Iy)throw new Error("Cannot enable prod mode after platform setup.");Ey=!1})(),I1().bootstrapModule(cO).catch(t=>console.error(t))},1052:$=>{function g(u,I,y,_,D,m,C){try{var v=u[m](C),h=v.value}catch(f){return void y(f)}v.done?I(h):Promise.resolve(h).then(_,D)}$.exports=function(u){return function(){var I=this,y=arguments;return new Promise(function(_,D){var m=u.apply(I,y);function C(h){g(m,_,D,C,v,"next",h)}function v(h){g(m,_,D,C,v,"throw",h)}C(void 0)})}},$.exports.default=$.exports,$.exports.__esModule=!0},5725:$=>{$.exports=function(c,u){if(!(c instanceof u))throw new TypeError("Cannot call a class as a function")},$.exports.default=$.exports,$.exports.__esModule=!0},3560:$=>{function g(u,I){for(var y=0;y<I.length;y++){var _=I[y];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(u,_.key,_)}}$.exports=function(u,I,y){return I&&g(u.prototype,I),y&&g(u,y),u},$.exports.default=$.exports,$.exports.__esModule=!0},3837:$=>{$.exports=function(c,u,I){return u in c?Object.defineProperty(c,u,{value:I,enumerable:!0,configurable:!0,writable:!0}):c[u]=I,c},$.exports.default=$.exports,$.exports.__esModule=!0},1948:$=>{$.exports=function(c){return c&&c.__esModule?c:{default:c}},$.exports.default=$.exports,$.exports.__esModule=!0},4321:$=>{function g(c){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?($.exports=g=function(I){return typeof I},$.exports.default=$.exports,$.exports.__esModule=!0):($.exports=g=function(I){return I&&"function"==typeof Symbol&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I},$.exports.default=$.exports,$.exports.__esModule=!0),g(c)}$.exports=g,$.exports.default=$.exports,$.exports.__esModule=!0},8774:($,g,c)=>{$.exports=c(7941)},1528:$=>{"use strict";$.exports={i8:"0.2.0"}},8464:$=>{"use strict";$.exports=JSON.parse('{"i8":"0.3.1-main.dcd02d3"}')},5233:$=>{"use strict";$.exports={i8:"0.1.1"}},8593:$=>{"use strict";$.exports=JSON.parse('{"_from":"axios@^0.21.1","_id":"axios@0.21.4","_inBundle":false,"_integrity":"sha512-ut5vewkiu8jjGBdqpM44XxjuCjq9LAKeHVmoVfHVzy8eHgxxq8SbAVQNovDA8mVi05kP0Ea/n/UzcSHcTJQfNg==","_location":"/axios","_phantomChildren":{},"_requested":{"type":"range","registry":true,"raw":"axios@^0.21.1","name":"axios","escapedName":"axios","rawSpec":"^0.21.1","saveSpec":null,"fetchSpec":"^0.21.1"},"_requiredBy":["/@microsoft/ocsdk","/@microsoft/omnichannel-ic3core"],"_resolved":"https://registry.npmjs.org/axios/-/axios-0.21.4.tgz","_shasum":"c67b90dc0568e5c1cf2b0b858c43ba28e2eda575","_spec":"axios@^0.21.1","_where":"/home/runner/work/omnichannel-demos/omnichannel-demos/angular-botframework-webchat-control/node_modules/@microsoft/ocsdk","author":{"name":"Matt Zabriskie"},"browser":{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},"bugs":{"url":"https://github.com/axios/axios/issues"},"bundleDependencies":false,"bundlesize":[{"path":"./dist/axios.min.js","threshold":"5kB"}],"dependencies":{"follow-redirects":"^1.14.0"},"deprecated":false,"description":"Promise based HTTP client for the browser and node.js","devDependencies":{"coveralls":"^3.0.0","es6-promise":"^4.2.4","grunt":"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1","karma":"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2","minimist":"^1.2.0","mocha":"^8.2.1","sinon":"^4.5.0","terser-webpack-plugin":"^4.2.3","typescript":"^4.0.5","url-search-params":"^0.10.0","webpack":"^4.44.2","webpack-dev-server":"^3.11.0"},"homepage":"https://axios-http.com","jsdelivr":"dist/axios.min.js","keywords":["xhr","http","ajax","promise","node"],"license":"MIT","main":"index.js","name":"axios","repository":{"type":"git","url":"git+https://github.com/axios/axios.git"},"scripts":{"build":"NODE_ENV=production grunt build","coveralls":"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js","examples":"node ./examples/server.js","fix":"eslint --fix lib/**/*.js","postversion":"git push && git push --tags","preversion":"npm test","start":"node ./sandbox/server.js","test":"grunt test","version":"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json"},"typings":"./index.d.ts","unpkg":"dist/axios.min.js","version":"0.21.4"}')}},$=>{$($.s=5618)}]);