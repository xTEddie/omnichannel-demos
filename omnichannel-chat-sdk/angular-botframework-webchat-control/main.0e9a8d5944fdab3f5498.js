(self.webpackChunkangular_botframework_webchat_control=self.webpackChunkangular_botframework_webchat_control||[]).push([[179],{8255:z=>{function g(d){return Promise.resolve().then(()=>{var u=new Error("Cannot find module '"+d+"'");throw u.code="MODULE_NOT_FOUND",u})}g.keys=()=>[],g.resolve=g,g.id=8255,z.exports=g},5413:(z,g,d)=>{"use strict";var u=d(1127);Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var T=u(d(8884)),y=u(d(1819)),_=d(2e3),b=function m(){(0,T.default)(this,m)};g.default=b,(0,y.default)(b,"requiredOmnichannelConfigurationParameters",["orgUrl","orgId","widgetId"]),(0,y.default)(b,"defaultHeaders",{"Content-Type":"application/json"}),(0,y.default)(b,"bypassCacheHeaders",{"cache-control":"no-store, must-revalidate, no-cache"}),(0,y.default)(b,"defaultChannelId",_.ChannelId.LCW),(0,y.default)(b,"defaultLocale","en-us"),(0,y.default)(b,"noContentStatusCode",204),(0,y.default)(b,"sensitiveProperties",["AuthenticatedUserToken"]),(0,y.default)(b,"transactionid","transaction-id"),(0,y.default)(b,"customerDisplayName","customerDisplayName")},2e3:(z,g)=>{"use strict";var d,v,u,T,y,_,b,m;Object.defineProperty(g,"__esModule",{value:!0}),g.LiveChatVersion=g.OCSDKTelemetryEvent=g.ChannelId=g.OperatingSystem=g.DeviceType=g.Browser=g.BrowserVendor=void 0,g.BrowserVendor=d,(v=d||(g.BrowserVendor=d={})).IE="IE",v.CHROME="Chrome",v.FIREFOX="Firefox",v.SAFARI="Safari",v.EDGE="Edge",v.EDGE_CHROMIUM="Edg",v.OPERA="Opera",v.UNKNOWN="Unknown",g.Browser=u,function(v){v[v.Chrome=0]="Chrome",v[v.Firefox=1]="Firefox",v[v.Ie=2]="Ie",v[v.Edge=3]="Edge",v[v.Safari=4]="Safari",v[v.None=5]="None"}(u||(g.Browser=u={})),g.DeviceType=T,function(v){v.Desktop="Desktop",v.Mobile="Mobile",v.Tablet="Tablet"}(T||(g.DeviceType=T={})),g.OperatingSystem=y,function(v){v.WINDOWS="Windows",v.MACOSX="Mac OS X",v.WINDOWS_PHONE="Windows Phone",v.WINDOWS_RT="Windows RT",v.IOS="iOS",v.ANDROID="Android",v.LINUX="Linux",v.UNKNOWN="Unknown"}(y||(g.OperatingSystem=y={})),g.ChannelId=_,function(v){v.LCW="lcw",v.SMS="sms",v.FACEBOOK="facebook",v.WECHAT="wechat"}(_||(g.ChannelId=_={})),g.OCSDKTelemetryEvent=b,function(v){v.GETCHATCONFIG="GetChatConfig",v.GETCHATCONFIGSUCCESS="GetChatConfigSucceeded",v.GETRECONNECTABLECHATS="GetReconnnectableChats",v.GETRECONNECTAVAILABILITY="GetReconnnectableAvailability",v.GETCHATTOKENSTARTED="GetChatTokenStarted",v.GETCHATTOKENSUCCEEDED="GetChatTokenSucceeded",v.GETCHATTOKENFAILED="GetChatTokenFailed",v.GETLWISTATUSSTARTED="GetLwiStatusStarted",v.GETLWISTATUSSUCCEEDED="GetLwiStatusSucceeded",v.GETLWISTATUSFAILED="GetLwiStatusFailed",v.SESSIONINITSTARTED="SessionInitStarted",v.SESSIONINITSUCCEEDED="SessionInitSucceeded",v.SESSIONINITFAILED="SessionInitFailed",v.SESSIONCLOSESTARTED="SessionCloseStarted",v.SESSIONCLOSESUCCEEDED="SessionCloseSucceeded",v.SESSIONCLOSEFAILED="SessionCloseFailed",v.SUBMITPOSTCHATSTARTED="SubmitPostChatStarted",v.SUBMITPOSTCHATSUCCEEDED="SubmitPostChatSucceeded",v.SUBMITPOSTCHATFAILED="SubmitPostChatFailed",v.GETCHATTRANSCRIPTSTARTED="GetChatTranscriptStarted",v.GETCHATTRANSCRIPTSUCCEEDED="GetChatTranscriptSucceeded",v.GETCHATTRANSCRIPTFAILED="GetChatTranscriptFailed",v.EMAILTRANSCRIPTSTARTED="EmailTranscriptStarted",v.EMAILTRANSCRIPTSUCCEEDED="EmailTranscriptSucceeded",v.EMAILTRANSCRIPTFAILED="EmailTranscriptFailed",v.FETCHDATAMASKINGSTARTED="FetchDataMaskingStarted",v.FETCHDATAMASKINGSUCCEEDED="FetchDataMaskingSucceeded",v.FETCHDATAMASKINGFAILED="FetchDataMaskingFailed",v.SECONDARYCHANNELEVENTREQUESTSTARTED="SecondaryChannelEventRequestStarted",v.SECONDARYCHANNELEVENTREQUESTSUCCEEDED="SecondaryChannelEventRequestSucceeded",v.SECONDARYCHANNELEVENTREQUESTFAILED="SecondaryChannelEventRequestFailed",v.GETSURVEYINVITELINKSTARTED="GetSurveyInviteLinkStarted",v.GETSURVEYINVITELINKSUCCEEDED="GetSurveyInviteLinkSucceeded",v.GETSURVEYINVITELINKFAILED="GetSurveyInviteLinkFailed",v.VALIDATEAUTHCHATRECORDSTARTED="ValidateAuthChatRecordStarted",v.VALIDATEAUTHCHATRECORDSUCCEEDED="ValidateAuthChatRecordSucceeded",v.VALIDATEAUTHCHATRECORDFAILED="ValidateAuthChatRecordFailed",v.GETQUEUEAVAILABILITYSTARTED="GetQueueAvailabilityStarted",v.GETQUEUEAVAILABILITYSUCCEEDED="GetQueueAvailabilitySucceeded",v.GETQUEUEAVAILABILITYFAILED="GetQueueAvailabilityFailed",v.SENDTYPINGINDICATORFAILED="SendTypingIndicatorFailed",v.SENDTYPINGINDICATORSUCCEEDED="SendTypingIndicatorSucceeded"}(b||(g.OCSDKTelemetryEvent=b={})),g.LiveChatVersion=m,function(v){v[v.V1=1]="V1",v[v.V2=2]="V2"}(m||(g.LiveChatVersion=m={}))},3096:(z,g,d)=>{"use strict";var u=d(1127);Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var T=u(d(8884)),y=u(d(2805));g.default=function(){function b(){(0,T.default)(this,b)}return(0,y.default)(b,null,[{key:"OCSDKLOAD",get:function(){return"oc:sdk:load"}}]),b}()},4950:(z,g,d)=>{"use strict";var u=d(1127);Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var T=u(d(8884)),y=u(d(1819)),_=function b(){(0,T.default)(this,b)};g.default=_,(0,y.default)(_,"supportedLocales",["ar-sa","bg-bg","ca-es","cs-cz","da-dk","de-de","el-gr","en-us","es-es","et-ee","eu-es","fi-fi","fr-fr","gl-es","he-il","hi-in","hr-hr","hu-hu","id-id","it-it","ja-jp","kk-kz","ko-kr","lt-lt","lv-lv","ms-my","nb-no","nl-nl","pl-pl","pt-br","pt-pt","ro-ro","ru-ru","sk-sk","sl-si","sr-cyrl-cs","sr-latn-cs","sv-se","th-th","tr-tr","uk-ua","vi-vn","zh-cn","zh-hk","zh-tw"])},4162:(z,g,d)=>{"use strict";var u=d(1127);Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var T=u(d(8884)),y=u(d(2805)),_=u(d(1819)),b=u(d(7276));g.default=function(){function v(I){(0,T.default)(this,v),(0,_.default)(this,"logger",void 0),this.logger=I}return(0,y.default)(v,[{key:"log",value:function(h,c,D,w){if(this.isLoggingEnabled()){var S=b.default.GETTELEMETRYEVENTDATA(c,D,w);this.logEvent(h,S)}}},{key:"logEvent",value:function(h,c){this.isLoggingEnabled()&&setTimeout(this.logger.logClientSdkTelemetryEvent.bind(this.logger),0,h,c)}},{key:"isLoggingEnabled",value:function(){return!this.isNullOrUndefined(this.logger)}},{key:"isNullOrUndefined",value:function(h){return null==h}}]),v}()},2172:(z,g,d)=>{"use strict";var u=d(1127);Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var T=u(d(8884)),y=u(d(1819)),_=function b(){(0,T.default)(this,b)};g.default=_,(0,y.default)(_,"LiveChatConfigPath","livechatconnector/config"),(0,y.default)(_,"LiveChatSessionInitPath","livechatconnector/sessioninit"),(0,y.default)(_,"LiveChatAuthSessionInitPath","livechatconnector/auth/sessioninit"),(0,y.default)(_,"LiveChatGetChatTokenPath","livechatconnector/getchattoken"),(0,y.default)(_,"LiveChatv2GetChatTokenPath","livechatconnector/v2/getchattoken"),(0,y.default)(_,"LiveChatAuthGetChatTokenPath","livechatconnector/auth/getchattoken"),(0,y.default)(_,"LiveChatv2AuthGetChatTokenPath","livechatconnector/v2/auth/getchattoken"),(0,y.default)(_,"LiveChatSessionClosePath","livechatconnector/sessionclose"),(0,y.default)(_,"LiveChatAuthSessionClosePath","livechatconnector/auth/sessionclose"),(0,y.default)(_,"LiveChatSubmitPostChatPath","survey/submitpostchat"),(0,y.default)(_,"LiveChatAuthSubmitPostChatPath","survey/auth/submitpostchat"),(0,y.default)(_,"LiveChatGetSurveyInviteLinkPath","livechatconnector/getsurveyinvite"),(0,y.default)(_,"LiveChatAuthGetSurveyInviteLinkPath","livechatconnector/auth/getsurveyinvite"),(0,y.default)(_,"LiveChatGetChatTranscriptPath","livechatconnector/getchattranscripts"),(0,y.default)(_,"LiveChatv2GetChatTranscriptPath","livechatconnector/v2/getchattranscripts"),(0,y.default)(_,"LiveChatAuthGetChatTranscriptPath","livechatconnector/auth/getchattranscripts"),(0,y.default)(_,"LiveChatv2AuthGetChatTranscriptPath","livechatconnector/v2/auth/getchattranscripts"),(0,y.default)(_,"LiveChatTranscriptEmailRequestPath","livechatconnector/createemailrequest"),(0,y.default)(_,"LiveChatAuthTranscriptEmailRequestPath","livechatconnector/auth/createemailrequest"),(0,y.default)(_,"LiveChatFetchDataMaskingInfoPath","livechatconnector/fetchdatamaskinginfo"),(0,y.default)(_,"LiveChatSecondaryChannelEventPath","livechatconnector/secondarychannelevent"),(0,y.default)(_,"LiveChatAuthSecondaryChannelEventPath","livechatconnector/auth/secondarychannelevent"),(0,y.default)(_,"LiveChatLiveWorkItemDetailsPath","livechatconnector/getliveworkitemdetails"),(0,y.default)(_,"LiveChatAuthLiveWorkItemDetailsPath","livechatconnector/auth/getliveworkitemdetails"),(0,y.default)(_,"LiveChatGetReconnectableChatsPath","livechatconnector/auth/reconnectablechats"),(0,y.default)(_,"LiveChatReconnectAvailabilityPath","livechatconnector/reconnect"),(0,y.default)(_,"LiveChatValidateAuthChatMapRecordPath","livechatconnector/auth/validateauthchatmaprecord"),(0,y.default)(_,"GetQueueAvailabilityPath","livechatconnector/auth/getqueueavailability"),(0,y.default)(_,"SendTypingIndicatorPath","inbound/typingindicator/livechat/sendtypingindicator")},1858:(z,g,d)=>{"use strict";var u=d(1127);Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var T=u(d(8884)),y=u(d(1819)),_=function b(){(0,T.default)(this,b)};g.default=_,(0,y.default)(_,"authenticatedUserToken","AuthenticatedUserToken"),(0,y.default)(_,"authorization","Authorization"),(0,y.default)(_,"organizationId","OrganizationId"),(0,y.default)(_,"widgetAppId","widgetAppId"),(0,y.default)(_,"requestId","Request-Id")},6528:(z,g)=>{"use strict";var d,u;Object.defineProperty(g,"__esModule",{value:!0}),g.LogLevel=void 0,g.LogLevel=d,(u=d||(g.LogLevel=d={})).INFO="INFO",u.DEBUG="DEBUG",u.WARN="WARN",u.ERROR="ERROR"},8634:(z,g,d)=>{"use strict";var u=d(1127);Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var T=u(d(6533)),y=u(d(1907)),_=u(d(1298)),b=u(d(8884)),m=u(d(2805)),v=u(d(1819)),I=d(2e3),h=u(d(8686)),c=d(4717),D=u(d(5413)),w=d(6812),S=u(d(4950)),p=d(9569),C=d(6528),k=d(7169),O=u(d(2172)),x=u(d(1858)),j=d(3945),V=u(d(1729)),L=d(8566);function B(X,oe){var ce=Object.keys(X);if(Object.getOwnPropertySymbols){var ie=Object.getOwnPropertySymbols(X);oe&&(ie=ie.filter(function(P){return Object.getOwnPropertyDescriptor(X,P).enumerable})),ce.push.apply(ce,ie)}return ce}function G(X){for(var oe=1;oe<arguments.length;oe++){var ce=null!=arguments[oe]?arguments[oe]:{};oe%2?B(Object(ce),!0).forEach(function(ie){(0,v.default)(X,ie,ce[ie])}):Object.getOwnPropertyDescriptors?Object.defineProperties(X,Object.getOwnPropertyDescriptors(ce)):B(Object(ce)).forEach(function(ie){Object.defineProperty(X,ie,Object.getOwnPropertyDescriptor(ce,ie))})}return X}function Q(X,oe){var ce="undefined"!=typeof Symbol&&X[Symbol.iterator]||X["@@iterator"];if(!ce){if(Array.isArray(X)||(ce=function(X,oe){if(X){if("string"==typeof X)return ue(X,undefined);var ce=Object.prototype.toString.call(X).slice(8,-1);if("Object"===ce&&X.constructor&&(ce=X.constructor.name),"Map"===ce||"Set"===ce)return Array.from(X);if("Arguments"===ce||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ce))return ue(X,undefined)}}(X))||oe&&X&&"number"==typeof X.length){ce&&(X=ce);var ie=0,P=function(){};return{s:P,n:function(){return ie>=X.length?{done:!0}:{done:!1,value:X[ie++]}},e:function(U){throw U},f:P}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var A,F=!0,W=!1;return{s:function(){ce=ce.call(X)},n:function(){var U=ce.next();return F=U.done,U},e:function(U){W=!0,A=U},f:function(){try{!F&&null!=ce.return&&ce.return()}finally{if(W)throw A}}}}function ue(X,oe){(null==oe||oe>X.length)&&(oe=X.length);for(var ce=0,ie=new Array(oe);ce<oe;ce++)ie[ce]=X[ce];return ie}var q=function(){function X(oe){var ce=arguments.length>1&&void 0!==arguments[1]?arguments[1]:X.defaultConfiguration,ie=arguments.length>2?arguments[2]:void 0;(0,b.default)(this,X),this.omnichannelConfiguration=oe,this.configuration=ce,this.logger=ie,(0,v.default)(this,"liveChatVersion",void 0),(!Object.keys(this.configuration).length||"object"!==(0,_.default)(ce))&&(this.configuration=X.defaultConfiguration);for(var P=0,F=Object.keys(X.defaultConfiguration);P<F.length;P++){var W=F[P];if(!this.configuration.hasOwnProperty(W))throw new Error("Missing '".concat(W,"' in SDKConfiguration"))}var A=oe.channelId;if(!Object.values(I.ChannelId).includes(A))throw new Error("Invalid channelId");var J,R=Object.keys(oe),U=Q(D.default.requiredOmnichannelConfigurationParameters);try{for(U.s();!(J=U.n()).done;){var ne=J.value;if(!R.includes(ne))throw new Error("Missing '".concat(ne,"' in OmnichannelConfiguration"))}}catch(Y){U.e(Y)}finally{U.f()}this.liveChatVersion=I.LiveChatVersion.V1}return(0,m.default)(X,[{key:"getChatConfig",value:(oe=(0,y.default)(T.default.mark(function ie(P){var F,W,A,R,U,J,ne,Y,te=arguments;return T.default.wrap(function(le){for(;;)switch(le.prev=le.next){case 0:return F=te.length>1&&void 0!==te[1]&&te[1],W=j.Timer.TIMER(),this.logger&&this.logger.log(C.LogLevel.INFO,I.OCSDKTelemetryEvent.GETCHATCONFIG,{RequestId:P},"Get Chat Config Started"),P||(P=(0,L.uuidv4)()),A="".concat(this.omnichannelConfiguration.orgUrl,"/").concat(O.default.LiveChatConfigPath,"/").concat(this.omnichannelConfiguration.orgId,"/").concat(this.omnichannelConfiguration.widgetId,"?requestId=").concat(P,"&channelId=").concat(this.omnichannelConfiguration.channelId),R=h.default.create(),(0,V.default)(R,{retries:this.configuration.maxRequestRetriesOnFailure}),U={},F&&(U=G(G({},D.default.bypassCacheHeaders),U)),le.next=11,R.get(A,{headers:U});case 11:return ne=W.milliSecondsElapsed,(Y=(J=le.sent).data).LiveChatVersion&&Y.LiveChatVersion===I.LiveChatVersion.V2&&(this.liveChatVersion=Y.LiveChatVersion),Y.headers={},J.headers&&J.headers.date&&(Y.headers.date=J.headers.date),this.logger&&this.logger.log(C.LogLevel.INFO,I.OCSDKTelemetryEvent.GETCHATCONFIGSUCCESS,{RequestId:P,Region:J.data.Region,ElapsedTimeInMilliseconds:ne,TransactionId:J.headers["transaction-id"]},"Get Chat config succeeded"),le.abrupt("return",Y);case 19:case"end":return le.stop()}},ie,this)})),function(ie){return oe.apply(this,arguments)})},{key:"getLWIDetails",value:function(){var oe=(0,y.default)(T.default.mark(function ie(P){var W,A,R,U,J,ne,Y,te,F=this,re=arguments;return T.default.wrap(function(ae){for(;;)switch(ae.prev=ae.next){case 0:return W=re.length>1&&void 0!==re[1]?re[1]:{},A=j.Timer.TIMER(),this.logger&&this.logger.log(C.LogLevel.INFO,I.OCSDKTelemetryEvent.GETLWISTATUSSTARTED,{RequestId:P},"Get LWI Details Started"),P||(P=(0,L.uuidv4)()),R="".concat(this.omnichannelConfiguration.orgUrl,"/").concat(O.default.LiveChatLiveWorkItemDetailsPath,"/").concat(this.omnichannelConfiguration.orgId,"/").concat(this.omnichannelConfiguration.widgetId,"/").concat(P),U=h.default.create(),(0,V.default)(U,{retries:this.configuration.maxRequestRetriesOnFailure}),ne=W.reconnectId,Y=D.default.defaultHeaders,(J=W.authenticatedUserToken)&&(R="".concat(this.omnichannelConfiguration.orgUrl,"/").concat(O.default.LiveChatAuthLiveWorkItemDetailsPath,"/").concat(this.omnichannelConfiguration.orgId,"/").concat(this.omnichannelConfiguration.widgetId,"/").concat(P),Y[x.default.authenticatedUserToken]=J),ne&&(R+="/".concat(ne)),R+="?channelId=".concat(this.omnichannelConfiguration.channelId),te={headers:Y,method:"GET",url:R},ae.abrupt("return",new Promise(function(){var me=(0,y.default)(T.default.mark(function pe(ge,Se){var _e,ye,Te,we;return T.default.wrap(function(Ee){for(;;)switch(Ee.prev=Ee.next){case 0:return Ee.prev=0,Ee.next=3,U(te);case 3:ye=A.milliSecondsElapsed,Te=(_e=Ee.sent).data,F.logger&&F.logger.log(C.LogLevel.INFO,I.OCSDKTelemetryEvent.GETLWISTATUSSUCCEEDED,{RequestId:P,Region:_e.data.Region,ElapsedTimeInMilliseconds:ye,TransactionId:_e.headers["transaction-id"]},"Get LWI Details succeeded"),ge(Te),Ee.next=18;break;case 10:if(Ee.prev=10,Ee.t0=Ee.catch(0),we=A.milliSecondsElapsed,!F.logger){Ee.next=17;break}return Ee.next=16,p.LoggingSanitizer.stripErrorSensitiveProperties(Ee.t0);case 16:F.logger.log(C.LogLevel.ERROR,I.OCSDKTelemetryEvent.GETLWISTATUSFAILED,{RequestId:P,ExceptionDetails:Ee.t0,ElapsedTimeInMilliseconds:we},"Get LWI Details failed");case 17:Se();case 18:case"end":return Ee.stop()}},pe,null,[[0,10]])}));return function(pe,ge){return me.apply(this,arguments)}}()));case 14:case"end":return ae.stop()}},ie,this)}));return function(ie){return oe.apply(this,arguments)}}()},{key:"getChatToken",value:function(){var oe=(0,y.default)(T.default.mark(function ie(P){var W,A,R,U,J,ne,Y,te,re,le,F=this,ae=arguments;return T.default.wrap(function(pe){for(;;)switch(pe.prev=pe.next){case 0:if(W=ae.length>1&&void 0!==ae[1]?ae[1]:{},A=ae.length>2&&void 0!==ae[2]?ae[2]:0,R=j.Timer.TIMER(),U=W.reconnectId,J=W.authenticatedUserToken,ne=W.currentLiveChatVersion,this.logger&&this.logger.log(C.LogLevel.INFO,I.OCSDKTelemetryEvent.GETCHATTOKENSTARTED,{RequestId:P},"Get Chat Token Started"),!(A<0)){pe.next=7;break}throw new Error("Invalid currentRetryCount");case 7:return P||(P=(0,L.uuidv4)()),Y=D.default.defaultHeaders,te="".concat(this.omnichannelConfiguration.orgUrl,"/").concat(O.default.LiveChatGetChatTokenPath,"/").concat(this.omnichannelConfiguration.orgId,"/").concat(this.omnichannelConfiguration.widgetId,"/").concat(P),this.liveChatVersion===I.LiveChatVersion.V2||ne&&ne===I.LiveChatVersion.V2?(te="".concat(this.omnichannelConfiguration.orgUrl,"/").concat(O.default.LiveChatv2GetChatTokenPath,"/").concat(this.omnichannelConfiguration.orgId,"/").concat(this.omnichannelConfiguration.widgetId,"/").concat(P),J&&(te="".concat(this.omnichannelConfiguration.orgUrl,"/").concat(O.default.LiveChatv2AuthGetChatTokenPath,"/").concat(this.omnichannelConfiguration.orgId,"/").concat(this.omnichannelConfiguration.widgetId,"/").concat(P),Y[x.default.authenticatedUserToken]=J)):J&&(te="".concat(this.omnichannelConfiguration.orgUrl,"/").concat(O.default.LiveChatAuthGetChatTokenPath,"/").concat(this.omnichannelConfiguration.orgId,"/").concat(this.omnichannelConfiguration.widgetId,"/").concat(P),Y[x.default.authenticatedUserToken]=J),U&&(te+="/".concat(U)),te+="?channelId=".concat(this.omnichannelConfiguration.channelId),re={headers:Y,method:"GET",url:te},le=h.default.create(),(0,V.default)(le,{retries:this.configuration.maxRequestRetriesOnFailure}),pe.abrupt("return",new Promise(function(){var ge=(0,y.default)(T.default.mark(function Se(_e,ye){var Te,we,Fe,Ee;return T.default.wrap(function(he){for(;;)switch(he.prev=he.next){case 0:return he.prev=0,he.next=3,le(re);case 3:if(we=R.milliSecondsElapsed,!(Fe=(Te=he.sent).data)){he.next=11;break}return Fe.requestId=P,F.logger&&F.logger.log(C.LogLevel.INFO,I.OCSDKTelemetryEvent.GETCHATTOKENSUCCEEDED,{RequestId:P,Region:Te.data.Region,ElapsedTimeInMilliseconds:we,TransactionId:Te.headers["transaction-id"]},"Get Chat Token Succeeded"),_e(Fe),he.abrupt("return");case 11:if(!U||Te.status!==D.default.noContentStatusCode){he.next=14;break}return ye(Te),he.abrupt("return");case 14:he.next=25;break;case 16:if(he.prev=16,he.t0=he.catch(0),Ee=R.milliSecondsElapsed,!F.logger){he.next=23;break}return he.next=22,p.LoggingSanitizer.stripErrorSensitiveProperties(he.t0);case 22:F.logger.log(C.LogLevel.ERROR,I.OCSDKTelemetryEvent.GETCHATTOKENFAILED,{RequestId:P,ExceptionDetails:he.t0,ElapsedTimeInMilliseconds:Ee},"Get Chat Token Failed");case 23:return ye(he.t0),he.abrupt("return");case 25:if(!(A+1>=F.configuration.getChatTokenRetryCount)){he.next=28;break}return ye(new Error("The retry for getchattoken has exceeded its max value of ".concat(F.configuration.getChatTokenRetryCount))),he.abrupt("return");case 28:setTimeout(function(){F.getChatToken(P,W,A+1).then(function(Vr){return _e(Vr)}).catch(function(Vr){return ye(Vr)})},F.configuration.getChatTokenTimeBetweenRetriesOnFailure);case 29:case"end":return he.stop()}},Se,null,[[0,16]])}));return function(Se,_e){return ge.apply(this,arguments)}}()));case 17:case"end":return pe.stop()}},ie,this)}));return function(ie){return oe.apply(this,arguments)}}()},{key:"getReconnectableChats",value:function(){var oe=(0,y.default)(T.default.mark(function ie(P){var W,A,R,U,J,ne,F=this;return T.default.wrap(function(te){for(;;)switch(te.prev=te.next){case 0:return W=j.Timer.TIMER(),A=P.authenticatedUserToken,this.logger&&this.logger.log(C.LogLevel.INFO,I.OCSDKTelemetryEvent.GETRECONNECTABLECHATS,"Get Reconnectable chat Started"),R="".concat(this.omnichannelConfiguration.orgUrl,"/").concat(O.default.LiveChatGetReconnectableChatsPath,"/").concat(this.omnichannelConfiguration.orgId,"/").concat(this.omnichannelConfiguration.widgetId,"/").concat(this.omnichannelConfiguration.orgId,"?channelId=").concat(this.omnichannelConfiguration.channelId),(U=D.default.defaultHeaders)[x.default.authenticatedUserToken]=A,J={headers:U,method:"GET",url:R},ne=h.default.create(),te.abrupt("return",new Promise(function(){var re=(0,y.default)(T.default.mark(function le(ae,me){var pe,ge,Se,_e;return T.default.wrap(function(Te){for(;;)switch(Te.prev=Te.next){case 0:return Te.prev=0,Te.next=3,ne(J);case 3:if(ge=W.milliSecondsElapsed,!(Se=(pe=Te.sent).data)){Te.next=10;break}return F.logger&&F.logger.log(C.LogLevel.INFO,I.OCSDKTelemetryEvent.GETRECONNECTABLECHATS,{Region:pe.data.Region,ElapsedTimeInMilliseconds:ge,TransactionId:pe.headers[D.default.transactionid]},"Get Reconnectable Chats Succeeded and old session returned"),ae(Se),Te.abrupt("return");case 10:return ae(),Te.abrupt("return");case 14:if(Te.prev=14,Te.t0=Te.catch(0),_e=W.milliSecondsElapsed,!F.logger){Te.next=21;break}return Te.next=20,p.LoggingSanitizer.stripErrorSensitiveProperties(Te.t0);case 20:F.logger.log(C.LogLevel.ERROR,I.OCSDKTelemetryEvent.GETRECONNECTABLECHATS,{ExceptionDetails:Te.t0,ElapsedTimeInMilliseconds:_e},"Get Reconnectable Chats Failed");case 21:return me(Te.t0),Te.abrupt("return");case 23:case"end":return Te.stop()}},le,null,[[0,14]])}));return function(le,ae){return re.apply(this,arguments)}}()));case 9:case"end":return te.stop()}},ie,this)}));return function(ie){return oe.apply(this,arguments)}}()},{key:"getReconnectAvailability",value:function(){var oe=(0,y.default)(T.default.mark(function ie(P){var W,A,U,J,F=this;return T.default.wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:return W=j.Timer.TIMER(),this.logger&&this.logger.log(C.LogLevel.INFO,I.OCSDKTelemetryEvent.GETRECONNECTAVAILABILITY,"Get Reconnect availability started"),A="".concat(this.omnichannelConfiguration.orgUrl,"/").concat(O.default.LiveChatReconnectAvailabilityPath,"/").concat(this.omnichannelConfiguration.orgId,"/").concat(this.omnichannelConfiguration.widgetId,"/").concat(P),U={headers:D.default.defaultHeaders,method:"GET",url:A},J=h.default.create(),Y.abrupt("return",new Promise(function(){var te=(0,y.default)(T.default.mark(function re(le,ae){var me,pe,ge,Se;return T.default.wrap(function(ye){for(;;)switch(ye.prev=ye.next){case 0:return ye.prev=0,ye.next=3,J(U);case 3:if(pe=W.milliSecondsElapsed,!(ge=(me=ye.sent).data)){ye.next=10;break}return F.logger&&F.logger.log(C.LogLevel.INFO,I.OCSDKTelemetryEvent.GETRECONNECTAVAILABILITY,{Region:me.data.Region,ElapsedTimeInMilliseconds:pe,TransactionId:me.headers[D.default.transactionid]},"Get Reconnect availability Succeeded"),le(ge),ye.abrupt("return");case 10:return F.logger&&F.logger.log(C.LogLevel.WARN,I.OCSDKTelemetryEvent.GETRECONNECTAVAILABILITY,{Region:me.data.Region,ElapsedTimeInMilliseconds:pe,TransactionId:me.headers[D.default.transactionid]},"Get Reconnect availability didn't send any valid data."),le(),ye.abrupt("return");case 15:if(ye.prev=15,ye.t0=ye.catch(0),Se=W.milliSecondsElapsed,!F.logger){ye.next=22;break}return ye.next=21,p.LoggingSanitizer.stripErrorSensitiveProperties(ye.t0);case 21:F.logger.log(C.LogLevel.ERROR,I.OCSDKTelemetryEvent.GETRECONNECTAVAILABILITY,{ExceptionDetails:ye.t0,ElapsedTimeInMilliseconds:Se},"Get Reconnect Availability Failed");case 22:return ae(ye.t0),ye.abrupt("return");case 24:case"end":return ye.stop()}},re,null,[[0,15]])}));return function(re,le){return te.apply(this,arguments)}}()));case 7:case"end":return Y.stop()}},ie,this)}));return function(ie){return oe.apply(this,arguments)}}()},{key:"getQueueAvailability",value:function(){var oe=(0,y.default)(T.default.mark(function ie(P){var W,A,R,U,J,ne,Y,te,re,le,F=this,ae=arguments;return T.default.wrap(function(pe){for(;;)switch(pe.prev=pe.next){case 0:if(W=ae.length>1&&void 0!==ae[1]?ae[1]:{},A=j.Timer.TIMER(),this.logger&&this.logger.log(C.LogLevel.INFO,I.OCSDKTelemetryEvent.GETQUEUEAVAILABILITYSTARTED,{RequestId:P},"Get queue availability started"),R="".concat(this.omnichannelConfiguration.orgUrl,"/").concat(O.default.GetQueueAvailabilityPath,"/").concat(this.omnichannelConfiguration.orgId,"/").concat(this.omnichannelConfiguration.widgetId,"/").concat(P,"?channelId=lcw"),U=h.default.create(),(0,V.default)(U,{retries:this.configuration.maxRequestRetriesOnFailure}),ne=W.initContext,Y=W.getContext,te=D.default.defaultHeaders,(J=W.authenticatedUserToken)&&(te[x.default.authenticatedUserToken]=J),re=ne||{},!Y||window.document){pe.next=12;break}return pe.abrupt("return",Promise.reject(new Error("getContext is only supported on web browsers")));case 12:if(Y&&(re.browser=c.BrowserInfo.getBrowserName(),re.device=w.DeviceInfo.getDeviceType(),re.originurl=window.location.href,re.os=k.OSInfo.getOsType()),re.locale||(re.locale=D.default.defaultLocale),!re.locale||S.default.supportedLocales.includes(re.locale)){pe.next=16;break}return pe.abrupt("return",Promise.reject(new Error("Unsupported locale: '".concat(re.locale,"'"))));case 16:return le={data:re,headers:te,method:"POST",url:R},pe.abrupt("return",new Promise(function(){var ge=(0,y.default)(T.default.mark(function Se(_e,ye){var Te,we,Fe,Ee;return T.default.wrap(function(he){for(;;)switch(he.prev=he.next){case 0:return he.prev=0,he.next=3,U(le);case 3:we=A.milliSecondsElapsed,(Fe=(Te=he.sent).data)&&(F.logger&&F.logger.log(C.LogLevel.INFO,I.OCSDKTelemetryEvent.GETQUEUEAVAILABILITYSUCCEEDED,{RequestId:P,Region:Te.data.Region,ElapsedTimeInMilliseconds:we,TransactionId:Te.headers["transaction-id"]},"Get queue availability Succeeded"),_e(Fe)),he.next=17;break;case 9:if(he.prev=9,he.t0=he.catch(0),Ee=A.milliSecondsElapsed,!F.logger){he.next=16;break}return he.next=15,p.LoggingSanitizer.stripErrorSensitiveProperties(he.t0);case 15:F.logger.log(C.LogLevel.ERROR,I.OCSDKTelemetryEvent.GETQUEUEAVAILABILITYFAILED,{RequestId:P,ExceptionDetails:he.t0,ElapsedTimeInMilliseconds:Ee},"Get queue availability failed");case 16:ye(he.t0);case 17:case"end":return he.stop()}},Se,null,[[0,9]])}));return function(Se,_e){return ge.apply(this,arguments)}}()));case 18:case"end":return pe.stop()}},ie,this)}));return function(ie){return oe.apply(this,arguments)}}()},{key:"sessionInit",value:function(){var oe=(0,y.default)(T.default.mark(function ie(P){var W,A,R,U,J,ne,Y,te,re,le,ae,F=this,me=arguments;return T.default.wrap(function(ge){for(;;)switch(ge.prev=ge.next){case 0:if(W=me.length>1&&void 0!==me[1]?me[1]:{},A=j.Timer.TIMER(),this.logger&&this.logger.log(C.LogLevel.INFO,I.OCSDKTelemetryEvent.SESSIONINITSTARTED,{RequestId:P},"Session Init Started"),R=h.default.create(),(0,V.default)(R,{retries:this.configuration.maxRequestRetriesOnFailure}),U=W.reconnectId,J=W.authenticatedUserToken,ne=W.initContext,Y=W.getContext,te=D.default.defaultHeaders,re="".concat(this.omnichannelConfiguration.orgUrl,"/").concat(O.default.LiveChatSessionInitPath,"/").concat(this.omnichannelConfiguration.orgId,"/").concat(this.omnichannelConfiguration.widgetId,"/").concat(P),J&&(re="".concat(this.omnichannelConfiguration.orgUrl,"/").concat(O.default.LiveChatAuthSessionInitPath,"/").concat(this.omnichannelConfiguration.orgId,"/").concat(this.omnichannelConfiguration.widgetId,"/").concat(P),te[x.default.authenticatedUserToken]=J),U&&(re+="/".concat(U)),re+="?channelId=".concat(this.omnichannelConfiguration.channelId),le=ne||{},!Y||window.document){ge.next=14;break}return ge.abrupt("return",Promise.reject(new Error("getContext is only supported on web browsers")));case 14:if(Y&&(le.browser=c.BrowserInfo.getBrowserName(),le.device=w.DeviceInfo.getDeviceType(),le.originurl=window.location.href,le.os=k.OSInfo.getOsType()),le.locale||(le.locale=D.default.defaultLocale),!le.locale||S.default.supportedLocales.includes(le.locale)){ge.next=18;break}return ge.abrupt("return",Promise.reject(new Error("Unsupported locale: '".concat(le.locale,"'"))));case 18:return ae={data:le,headers:te,method:"POST",url:re},ge.abrupt("return",new Promise(function(){var Se=(0,y.default)(T.default.mark(function _e(ye,Te){var we,Fe,Ee;return T.default.wrap(function(he){for(;;)switch(he.prev=he.next){case 0:return he.prev=0,he.next=3,R(ae);case 3:we=he.sent,Fe=A.milliSecondsElapsed,F.logger&&F.logger.log(C.LogLevel.INFO,I.OCSDKTelemetryEvent.SESSIONINITSUCCEEDED,{RequestId:P,Region:we.data.Region,ElapsedTimeInMilliseconds:Fe,TransactionId:we.headers["transaction-id"]},"Session Init Succeeded"),ye(),he.next=17;break;case 9:if(he.prev=9,he.t0=he.catch(0),Ee=A.milliSecondsElapsed,!F.logger){he.next=16;break}return he.next=15,p.LoggingSanitizer.stripErrorSensitiveProperties(he.t0);case 15:F.logger.log(C.LogLevel.ERROR,I.OCSDKTelemetryEvent.SESSIONINITFAILED,{RequestId:P,ExceptionDetails:he.t0,ElapsedTimeInMilliseconds:Ee},"Session Init Failed");case 16:Te(he.t0);case 17:case"end":return he.stop()}},_e,null,[[0,9]])}));return function(_e,ye){return Se.apply(this,arguments)}}()));case 20:case"end":return ge.stop()}},ie,this)}));return function(ie){return oe.apply(this,arguments)}}()},{key:"sessionClose",value:function(){var oe=(0,y.default)(T.default.mark(function ie(P){var W,A,R,U,J,ne,Y,re,le,ae,F=this,me=arguments;return T.default.wrap(function(ge){for(;;)switch(ge.prev=ge.next){case 0:return W=me.length>1&&void 0!==me[1]?me[1]:{},A=j.Timer.TIMER(),this.logger&&this.logger.log(C.LogLevel.INFO,I.OCSDKTelemetryEvent.SESSIONCLOSESTARTED,{RequestId:P},"Session Close Started"),R="".concat(this.omnichannelConfiguration.orgUrl,"/").concat(O.default.LiveChatSessionClosePath,"/").concat(this.omnichannelConfiguration.orgId,"/").concat(this.omnichannelConfiguration.widgetId,"/").concat(P,"?channelId=").concat(this.omnichannelConfiguration.channelId),U=h.default.create(),(0,V.default)(U,{retries:this.configuration.maxRequestRetriesOnFailure}),J=W.authenticatedUserToken,ne=W.isReconnectChat,Y=W.isPersistentChat,re=D.default.defaultHeaders,(le={}).chatId=W.chatId,J&&(R="".concat(this.omnichannelConfiguration.orgUrl,"/").concat(O.default.LiveChatAuthSessionClosePath,"/").concat(this.omnichannelConfiguration.orgId,"/").concat(this.omnichannelConfiguration.widgetId,"/").concat(P,"?channelId=").concat(this.omnichannelConfiguration.channelId),re[x.default.authenticatedUserToken]=J),ne&&(R+="&isReconnectChat=true"),Y&&(R+="&isPersistentChat=true"),ae={data:le,headers:re,method:"POST",url:R},ge.abrupt("return",new Promise(function(){var Se=(0,y.default)(T.default.mark(function _e(ye,Te){var we,Fe,Ee;return T.default.wrap(function(he){for(;;)switch(he.prev=he.next){case 0:return he.prev=0,he.next=3,U(ae);case 3:we=he.sent,Fe=A.milliSecondsElapsed,F.logger&&F.logger.log(C.LogLevel.INFO,I.OCSDKTelemetryEvent.SESSIONCLOSESUCCEEDED,{RequestId:P,Region:we.data.Region,ElapsedTimeInMilliseconds:Fe,TransactionId:we.headers["transaction-id"]},"Session Close Succeeded"),ye(),he.next=17;break;case 9:if(he.prev=9,he.t0=he.catch(0),Ee=A.milliSecondsElapsed,!F.logger){he.next=16;break}return he.next=15,p.LoggingSanitizer.stripErrorSensitiveProperties(he.t0);case 15:F.logger.log(C.LogLevel.ERROR,I.OCSDKTelemetryEvent.SESSIONCLOSEFAILED,{RequestId:P,ExceptionDetails:he.t0,ElapsedTimeInMilliseconds:Ee},"Session Close Failed");case 16:Te();case 17:case"end":return he.stop()}},_e,null,[[0,9]])}));return function(_e,ye){return Se.apply(this,arguments)}}()));case 15:case"end":return ge.stop()}},ie,this)}));return function(ie){return oe.apply(this,arguments)}}()},{key:"validateAuthChatRecord",value:function(){var oe=(0,y.default)(T.default.mark(function ie(P,F){var W,A,R,U,J,ne,Y,te,re,le,ae,me,pe,ge;return T.default.wrap(function(_e){for(;;)switch(_e.prev=_e.next){case 0:return W=j.Timer.TIMER(),this.logger&&this.logger.log(C.LogLevel.INFO,I.OCSDKTelemetryEvent.VALIDATEAUTHCHATRECORDSTARTED,{RequestId:P},"Validate Auth Chat Record Started"),A=F.authenticatedUserToken,R=F.chatId,U="".concat(this.omnichannelConfiguration.orgUrl,"/").concat(O.default.LiveChatValidateAuthChatMapRecordPath,"/").concat(this.omnichannelConfiguration.orgId,"/").concat(this.omnichannelConfiguration.widgetId,"/").concat(R,"/").concat(P,"?channelId=").concat(this.omnichannelConfiguration.channelId),J=h.default.create(),(0,V.default)(J,{retries:this.configuration.maxRequestRetriesOnFailure}),ne=D.default.defaultHeaders,A&&(ne[x.default.authenticatedUserToken]=A),Y={headers:ne,method:"GET",url:U},_e.prev=9,_e.next=12,J(Y);case 12:if(le=W.milliSecondsElapsed,!0!==(null===(te=(re=_e.sent).data)||void 0===te?void 0:te.authChatExist)){_e.next=19;break}return null===(ae=this.logger)||void 0===ae||ae.log(C.LogLevel.INFO,I.OCSDKTelemetryEvent.VALIDATEAUTHCHATRECORDSUCCEEDED,{RequestId:P,Region:re.data.Region,ElapsedTimeInMilliseconds:le,TransactionId:re.headers["transaction-id"]},"Validate Auth Chat Record Succeeded"),_e.abrupt("return",Promise.resolve(re.data));case 19:return null===(me=this.logger)||void 0===me||me.log(C.LogLevel.INFO,I.OCSDKTelemetryEvent.VALIDATEAUTHCHATRECORDFAILED,{RequestId:P,Region:re.data.Region,ElapsedTimeInMilliseconds:le,TransactionId:re.headers["transaction-id"],ErrorCode:re.status},"Validate Auth Chat Record Failed. Record is not found or request is not authorized"),_e.abrupt("return",Promise.reject(new Error("Validate Auth Chat Record Failed. Record is not found or request is not authorized")));case 21:_e.next=34;break;case 23:return _e.prev=23,_e.t0=_e.catch(9),ge=W.milliSecondsElapsed,_e.next=28,p.LoggingSanitizer.stripErrorSensitiveProperties(_e.t0);case 28:if(null===(pe=this.logger)||void 0===pe||pe.log(C.LogLevel.ERROR,I.OCSDKTelemetryEvent.VALIDATEAUTHCHATRECORDFAILED,{RequestId:P,ExceptionDetails:_e.t0,ElapsedTimeInMilliseconds:ge},"Validate Auth Chat Record Failed"),"Error: Request failed with status code 404"!==_e.t0.toString()){_e.next=33;break}return _e.abrupt("return",Promise.resolve({}));case 33:return _e.abrupt("return",Promise.reject());case 34:case"end":return _e.stop()}},ie,this,[[9,23]])}));return function(ie,P){return oe.apply(this,arguments)}}()},{key:"submitPostChatResponse",value:function(){var oe=(0,y.default)(T.default.mark(function ie(P,F){var A,R,U,J,ne,Y,te,W=this,re=arguments;return T.default.wrap(function(ae){for(;;)switch(ae.prev=ae.next){case 0:return A=re.length>2&&void 0!==re[2]?re[2]:{},R=j.Timer.TIMER(),this.logger&&this.logger.log(C.LogLevel.INFO,I.OCSDKTelemetryEvent.SUBMITPOSTCHATSTARTED,{RequestId:P},"Submit Post Chat Started"),U="".concat(this.omnichannelConfiguration.orgUrl,"/").concat(O.default.LiveChatSubmitPostChatPath,"/").concat(this.omnichannelConfiguration.orgId,"/").concat(this.omnichannelConfiguration.widgetId,"/").concat(P,"?channelId=").concat(this.omnichannelConfiguration.channelId),J=h.default.create(),(0,V.default)(J,{retries:this.configuration.maxRequestRetriesOnFailure}),Y=D.default.defaultHeaders,(ne=A.authenticatedUserToken)&&(U="".concat(this.omnichannelConfiguration.orgUrl,"/").concat(O.default.LiveChatAuthSubmitPostChatPath,"/").concat(this.omnichannelConfiguration.orgId,"/").concat(this.omnichannelConfiguration.widgetId,"/").concat(P,"?channelId=").concat(this.omnichannelConfiguration.channelId),Y[x.default.authenticatedUserToken]=ne),te={data:JSON.stringify(F),headers:Y,method:"POST",url:U},ae.abrupt("return",new Promise(function(){var me=(0,y.default)(T.default.mark(function pe(ge,Se){var _e,ye,Te;return T.default.wrap(function(Fe){for(;;)switch(Fe.prev=Fe.next){case 0:return Fe.prev=0,Fe.next=3,J(te);case 3:_e=Fe.sent,ye=R.milliSecondsElapsed,W.logger&&W.logger.log(C.LogLevel.INFO,I.OCSDKTelemetryEvent.SUBMITPOSTCHATSUCCEEDED,{RequestId:P,Region:_e.data.Region,ElapsedTimeInMilliseconds:ye,TransactionId:_e.headers["transaction-id"]},"Submit Post Chat Succeeded"),ge(),Fe.next=17;break;case 9:if(Fe.prev=9,Fe.t0=Fe.catch(0),Te=R.milliSecondsElapsed,!W.logger){Fe.next=16;break}return Fe.next=15,p.LoggingSanitizer.stripErrorSensitiveProperties(Fe.t0);case 15:W.logger.log(C.LogLevel.ERROR,I.OCSDKTelemetryEvent.SUBMITPOSTCHATFAILED,{RequestId:P,ExceptionDetails:Fe.t0,ElapsedTimeInMilliseconds:Te},"Submit Post Chat Failed");case 16:Se();case 17:case"end":return Fe.stop()}},pe,null,[[0,9]])}));return function(pe,ge){return me.apply(this,arguments)}}()));case 11:case"end":return ae.stop()}},ie,this)}));return function(ie,P){return oe.apply(this,arguments)}}()},{key:"getSurveyInviteLink",value:function(){var oe=(0,y.default)(T.default.mark(function ie(P,F){var A,R,U,J,ne,Y,te,re,W=this,le=arguments;return T.default.wrap(function(me){for(;;)switch(me.prev=me.next){case 0:return A=le.length>2&&void 0!==le[2]?le[2]:{},R=j.Timer.TIMER(),this.logger&&this.logger.log(C.LogLevel.INFO,I.OCSDKTelemetryEvent.GETSURVEYINVITELINKSTARTED,{SurveyOwnerId:P},"Get Survey Invite Link Started"),U="".concat(this.omnichannelConfiguration.orgUrl,"/").concat(O.default.LiveChatGetSurveyInviteLinkPath,"/").concat(this.omnichannelConfiguration.orgId,"/").concat(P),J=h.default.create(),(0,V.default)(J,{retries:this.configuration.maxRequestRetriesOnFailure}),Y=A.requestId,te=D.default.defaultHeaders,(ne=A.authenticatedUserToken)&&(U="".concat(this.omnichannelConfiguration.orgUrl,"/").concat(O.default.LiveChatAuthGetSurveyInviteLinkPath,"/").concat(this.omnichannelConfiguration.orgId,"/").concat(P),te[x.default.authenticatedUserToken]=ne,te[x.default.widgetAppId]=this.omnichannelConfiguration.widgetId),Y&&(te[x.default.requestId]=Y),re={data:JSON.stringify(F),headers:te,method:"POST",url:U},me.abrupt("return",new Promise(function(){var pe=(0,y.default)(T.default.mark(function ge(Se,_e){var ye,Te,we,Fe;return T.default.wrap(function(dt){for(;;)switch(dt.prev=dt.next){case 0:return dt.prev=0,dt.next=3,J(re);case 3:Te=(ye=dt.sent).data,we=R.milliSecondsElapsed,W.logger&&W.logger.log(C.LogLevel.INFO,I.OCSDKTelemetryEvent.GETSURVEYINVITELINKSUCCEEDED,{Region:ye.data.Region,ElapsedTimeInMilliseconds:we,TransactionId:ye.headers["transaction-id"]},"Get Survey Invite Link Succeeded"),Se(Te),dt.next=18;break;case 10:if(dt.prev=10,dt.t0=dt.catch(0),Fe=R.milliSecondsElapsed,!W.logger){dt.next=17;break}return dt.next=16,p.LoggingSanitizer.stripErrorSensitiveProperties(dt.t0);case 16:W.logger.log(C.LogLevel.ERROR,I.OCSDKTelemetryEvent.GETSURVEYINVITELINKFAILED,{ExceptionDetails:dt.t0,ElapsedTimeInMilliseconds:Fe},"Get Survey Invite Link Failed");case 17:_e();case 18:case"end":return dt.stop()}},ge,null,[[0,10]])}));return function(ge,Se){return pe.apply(this,arguments)}}()));case 12:case"end":return me.stop()}},ie,this)}));return function(ie,P){return oe.apply(this,arguments)}}()},{key:"getChatTranscripts",value:function(){var oe=(0,y.default)(T.default.mark(function ie(P,F,W){var R,U,J,ne,Y,te,re,le,A=this,ae=arguments;return T.default.wrap(function(pe){for(;;)switch(pe.prev=pe.next){case 0:return R=ae.length>3&&void 0!==ae[3]?ae[3]:{},U=j.Timer.TIMER(),this.logger&&this.logger.log(C.LogLevel.INFO,I.OCSDKTelemetryEvent.GETCHATTRANSCRIPTSTARTED,{RequestId:P},"Get Chat Transcript Started"),J="".concat(this.omnichannelConfiguration.orgUrl,"/").concat(O.default.LiveChatGetChatTranscriptPath,"/").concat(F,"/").concat(P,"?channelId=").concat(this.omnichannelConfiguration.channelId),ne=h.default.create(),(0,V.default)(ne,{retries:this.configuration.maxRequestRetriesOnFailure}),Y=R.authenticatedUserToken,te=R.currentLiveChatVersion,(re=D.default.defaultHeaders)[x.default.organizationId]=this.omnichannelConfiguration.orgId,re[x.default.widgetAppId]=this.omnichannelConfiguration.widgetId,re[x.default.authorization]=W,this.liveChatVersion===I.LiveChatVersion.V2||te&&te===I.LiveChatVersion.V2?(J="".concat(this.omnichannelConfiguration.orgUrl,"/").concat(O.default.LiveChatv2GetChatTranscriptPath,"/").concat(F,"/").concat(P,"?channelId=").concat(this.omnichannelConfiguration.channelId),Y&&(J="".concat(this.omnichannelConfiguration.orgUrl,"/").concat(O.default.LiveChatv2AuthGetChatTranscriptPath,"/").concat(F,"/").concat(P,"?channelId=").concat(this.omnichannelConfiguration.channelId))):Y&&(J="".concat(this.omnichannelConfiguration.orgUrl,"/").concat(O.default.LiveChatAuthGetChatTranscriptPath,"/").concat(F,"/").concat(P,"?channelId=").concat(this.omnichannelConfiguration.channelId)),le={headers:re,method:"GET",url:J},pe.abrupt("return",new Promise(function(){var ge=(0,y.default)(T.default.mark(function Se(_e,ye){var Te,we,Fe,Ee;return T.default.wrap(function(he){for(;;)switch(he.prev=he.next){case 0:return he.prev=0,he.next=3,ne(le);case 3:we=U.milliSecondsElapsed,Fe=(Te=he.sent).data,A.logger&&A.logger.log(C.LogLevel.INFO,I.OCSDKTelemetryEvent.GETCHATTRANSCRIPTSUCCEEDED,{RequestId:P,Region:Te.data.Region,ElapsedTimeInMilliseconds:we,TransactionId:Te.headers["transaction-id"]},"Get Chat Transcript Succeeded"),_e(Fe),he.next=18;break;case 10:if(he.prev=10,he.t0=he.catch(0),Ee=U.milliSecondsElapsed,!A.logger){he.next=17;break}return he.next=16,p.LoggingSanitizer.stripErrorSensitiveProperties(he.t0);case 16:A.logger.log(C.LogLevel.ERROR,I.OCSDKTelemetryEvent.GETCHATTRANSCRIPTFAILED,{RequestId:P,ExceptionDetails:he.t0,ElapsedTimeInMilliseconds:Ee},"Get Chat Transcript Failed");case 17:ye(he.t0);case 18:case"end":return he.stop()}},Se,null,[[0,10]])}));return function(Se,_e){return ge.apply(this,arguments)}}()));case 14:case"end":return pe.stop()}},ie,this)}));return function(ie,P,F){return oe.apply(this,arguments)}}()},{key:"emailTranscript",value:function(){var oe=(0,y.default)(T.default.mark(function ie(P,F,W){var R,U,J,ne,Y,te,re,A=this,le=arguments;return T.default.wrap(function(me){for(;;)switch(me.prev=me.next){case 0:return R=le.length>3&&void 0!==le[3]?le[3]:{},U=j.Timer.TIMER(),this.logger&&this.logger.log(C.LogLevel.INFO,I.OCSDKTelemetryEvent.EMAILTRANSCRIPTSTARTED,{RequestId:P},"Email Transcript Started"),J="".concat(this.omnichannelConfiguration.orgUrl,"/").concat(O.default.LiveChatTranscriptEmailRequestPath,"/").concat(P,"?channelId=").concat(this.omnichannelConfiguration.channelId),ne=h.default.create(),(0,V.default)(ne,{retries:this.configuration.maxRequestRetriesOnFailure}),Y=R.authenticatedUserToken,(te=D.default.defaultHeaders)[x.default.organizationId]=this.omnichannelConfiguration.orgId,te[x.default.widgetAppId]=this.omnichannelConfiguration.widgetId,te[x.default.authorization]=F,Y&&(J="".concat(this.omnichannelConfiguration.orgUrl,"/").concat(O.default.LiveChatAuthTranscriptEmailRequestPath,"/").concat(P,"?channelId=").concat(this.omnichannelConfiguration.channelId)),re={data:JSON.stringify(W),headers:te,method:"POST",url:J},me.abrupt("return",new Promise(function(){var pe=(0,y.default)(T.default.mark(function ge(Se,_e){var ye,Te,we;return T.default.wrap(function(Ee){for(;;)switch(Ee.prev=Ee.next){case 0:return Ee.prev=0,Ee.next=3,ne(re);case 3:ye=Ee.sent,Te=U.milliSecondsElapsed,A.logger&&A.logger.log(C.LogLevel.INFO,I.OCSDKTelemetryEvent.EMAILTRANSCRIPTSUCCEEDED,{RequestId:P,Region:ye.data.Region,ElapsedTimeInMilliseconds:Te,TransactionId:ye.headers["transaction-id"]},"Email Transcript Succeeded"),Se(),Ee.next=17;break;case 9:if(Ee.prev=9,Ee.t0=Ee.catch(0),we=U.milliSecondsElapsed,!A.logger){Ee.next=16;break}return Ee.next=15,p.LoggingSanitizer.stripErrorSensitiveProperties(Ee.t0);case 15:A.logger.log(C.LogLevel.ERROR,I.OCSDKTelemetryEvent.EMAILTRANSCRIPTFAILED,{RequestId:P,ExceptionDetails:Ee.t0,ElapsedTimeInMilliseconds:we},"Email Transcript Failed");case 16:_e();case 17:case"end":return Ee.stop()}},ge,null,[[0,9]])}));return function(ge,Se){return pe.apply(this,arguments)}}()));case 14:case"end":return me.stop()}},ie,this)}));return function(ie,P,F){return oe.apply(this,arguments)}}()},{key:"fetchDataMaskingInfo",value:function(){var oe=(0,y.default)(T.default.mark(function ie(P){var W,A,R,U,J,F=this;return T.default.wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:return W=j.Timer.TIMER(),this.logger&&this.logger.log(C.LogLevel.INFO,I.OCSDKTelemetryEvent.FETCHDATAMASKINGSTARTED,{RequestId:P},"Fetch Data Masking Started"),P||(P=(0,L.uuidv4)()),A="".concat(this.omnichannelConfiguration.orgUrl,"/").concat(O.default.LiveChatFetchDataMaskingInfoPath,"/").concat(this.omnichannelConfiguration.orgId),R=h.default.create(),(0,V.default)(R,{retries:this.configuration.maxRequestRetriesOnFailure}),(U=D.default.defaultHeaders)[x.default.organizationId]=this.omnichannelConfiguration.orgId,U[x.default.requestId]=P,J={headers:U,method:"GET",url:A},Y.abrupt("return",new Promise(function(){var te=(0,y.default)(T.default.mark(function re(le,ae){var me,pe,ge,Se;return T.default.wrap(function(ye){for(;;)switch(ye.prev=ye.next){case 0:return ye.prev=0,ye.next=3,R(J);case 3:pe=W.milliSecondsElapsed,ge=(me=ye.sent).data,F.logger&&F.logger.log(C.LogLevel.INFO,I.OCSDKTelemetryEvent.FETCHDATAMASKINGSUCCEEDED,{RequestId:P,Region:me.data.Region,ElapsedTimeInMilliseconds:pe,TransactionId:me.headers["transaction-id"]},"Fetch Data Masking Succeeded"),le(ge),ye.next=18;break;case 10:if(ye.prev=10,ye.t0=ye.catch(0),Se=W.milliSecondsElapsed,!F.logger){ye.next=17;break}return ye.next=16,p.LoggingSanitizer.stripErrorSensitiveProperties(ye.t0);case 16:F.logger.log(C.LogLevel.ERROR,I.OCSDKTelemetryEvent.FETCHDATAMASKINGFAILED,{RequestId:P,ExceptionDetails:ye.t0,ElapsedTimeInMilliseconds:Se},"Fetch Data Masking Failed");case 17:ae();case 18:case"end":return ye.stop()}},re,null,[[0,10]])}));return function(re,le){return te.apply(this,arguments)}}()));case 11:case"end":return Y.stop()}},ie,this)}));return function(ie){return oe.apply(this,arguments)}}()},{key:"makeSecondaryChannelEventRequest",value:function(){var oe=(0,y.default)(T.default.mark(function ie(P,F){var W,A,R,U,J,ne,Y,te,re,le,ae,me=arguments;return T.default.wrap(function(ge){for(;;)switch(ge.prev=ge.next){case 0:return W=me.length>2&&void 0!==me[2]?me[2]:{},A=j.Timer.TIMER(),this.logger&&this.logger.log(C.LogLevel.INFO,I.OCSDKTelemetryEvent.SECONDARYCHANNELEVENTREQUESTSTARTED,{RequestId:P},"Secondary Channel Event Request Started"),R="".concat(this.omnichannelConfiguration.orgUrl,"/").concat(O.default.LiveChatSecondaryChannelEventPath,"/").concat(this.omnichannelConfiguration.orgId,"/").concat(this.omnichannelConfiguration.widgetId,"/").concat(P),U=h.default.create(),(0,V.default)(U,{retries:this.configuration.maxRequestRetriesOnFailure}),J=W.authenticatedUserToken,(ne=D.default.defaultHeaders)[x.default.organizationId]=this.omnichannelConfiguration.orgId,J&&(ne[x.default.authenticatedUserToken]=J,R="".concat(this.omnichannelConfiguration.orgUrl,"/").concat(O.default.LiveChatAuthSecondaryChannelEventPath,"/").concat(this.omnichannelConfiguration.orgId,"/").concat(this.omnichannelConfiguration.widgetId,"/").concat(P)),R+="?channelId="+D.default.defaultChannelId,Y={data:JSON.stringify(F),headers:ne,method:"POST",url:R},ge.prev=12,ge.next=15,U(Y);case 15:re=A.milliSecondsElapsed,le=(te=ge.sent).data,this.logger&&this.logger.log(C.LogLevel.INFO,I.OCSDKTelemetryEvent.SECONDARYCHANNELEVENTREQUESTSUCCEEDED,{RequestId:P,Region:le.Region,ElapsedTimeInMilliseconds:re,TransactionId:te.headers["transaction-id"]},"Secondary Channel Event Request Succeeded"),ge.next=29;break;case 21:if(ge.prev=21,ge.t0=ge.catch(12),ae=A.milliSecondsElapsed,!this.logger){ge.next=28;break}return ge.next=27,p.LoggingSanitizer.stripErrorSensitiveProperties(ge.t0);case 27:this.logger.log(C.LogLevel.ERROR,I.OCSDKTelemetryEvent.SECONDARYCHANNELEVENTREQUESTFAILED,{RequestId:P,ExceptionDetails:ge.t0,ElapsedTimeInMilliseconds:ae},"Secondary Channel Event Request Failed");case 28:throw ge.t0;case 29:case"end":return ge.stop()}},ie,this,[[12,21]])}));return function(ie,P){return oe.apply(this,arguments)}}()},{key:"sendTypingIndicator",value:function(){var oe=(0,y.default)(T.default.mark(function ie(P,F){var A,R,U,J,ne,Y,te,W=this,re=arguments;return T.default.wrap(function(ae){for(;;)switch(ae.prev=ae.next){case 0:if(A=re.length>2&&void 0!==re[2]?re[2]:{},F&&F===I.LiveChatVersion.V2){ae.next=3;break}return ae.abrupt("return",Promise.resolve());case 3:if(R=j.Timer.TIMER(),U=A.customerDisplayName,F&&F===I.LiveChatVersion.V2){ae.next=7;break}throw new Error("Typing indicator is only supported on v2");case 7:return J="".concat(this.omnichannelConfiguration.orgUrl,"/").concat(O.default.SendTypingIndicatorPath,"/").concat(P),ne=h.default.create(),(Y=D.default.defaultHeaders)[x.default.organizationId]=this.omnichannelConfiguration.orgId,U&&(Y[D.default.customerDisplayName]=U),te={headers:Y,method:"POST",url:J},ae.abrupt("return",new Promise(function(){var me=(0,y.default)(T.default.mark(function pe(ge,Se){var _e,ye,Te,we;return T.default.wrap(function(Ee){for(;;)switch(Ee.prev=Ee.next){case 0:return Ee.prev=0,Ee.next=3,ne(te);case 3:ye=R.milliSecondsElapsed,Te=(_e=Ee.sent).data,W.logger&&W.logger.log(C.LogLevel.INFO,I.OCSDKTelemetryEvent.SENDTYPINGINDICATORSUCCEEDED,{RequestId:P,Region:Te.Region,ElapsedTimeInMilliseconds:ye,TransactionId:_e.headers["transaction-id"]},"Send Typing Indicator Succeeded"),ge(),Ee.next=18;break;case 10:if(Ee.prev=10,Ee.t0=Ee.catch(0),we=R.milliSecondsElapsed,!W.logger){Ee.next=17;break}return Ee.next=16,p.LoggingSanitizer.stripErrorSensitiveProperties(Ee.t0);case 16:W.logger.log(C.LogLevel.ERROR,I.OCSDKTelemetryEvent.SENDTYPINGINDICATORFAILED,{RequestId:P,ExceptionDetails:Ee.t0,ElapsedTimeInMilliseconds:we},"Send Typing Indicator Failed");case 17:Se(Ee.t0);case 18:case"end":return Ee.stop()}},pe,null,[[0,10]])}));return function(pe,ge){return me.apply(this,arguments)}}()));case 14:case"end":return ae.stop()}},ie,this)}));return function(ie,P){return oe.apply(this,arguments)}}()}]),X;var oe}();g.default=q,(0,v.default)(q,"defaultConfiguration",{getChatTokenRetryCount:35,getChatTokenTimeBetweenRetriesOnFailure:1e4,maxRequestRetriesOnFailure:3})},4491:(z,g,d)=>{"use strict";var u=d(1127);Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var T=u(d(8884)),y=u(d(2805)),_=u(d(5413)),b=u(d(4162)),m=u(d(8634));g.default=function(){function I(){(0,T.default)(this,I)}return(0,y.default)(I,null,[{key:"getSDK",value:function(c,D,w){var S=new b.default(w);return new m.default({channelId:c.channelId||_.default.defaultChannelId,orgId:c.orgId,orgUrl:c.orgUrl,widgetId:c.widgetId},D||{},S)}}]),I}()},4717:(z,g,d)=>{"use strict";var u=d(1127);Object.defineProperty(g,"__esModule",{value:!0}),g.BrowserInfo=g.UNKNOWN_VERSION=void 0;var T=u(d(8884)),y=u(d(2805)),_=u(d(1819)),b=d(2e3),m="([\\d,.]+)";g.UNKNOWN_VERSION="U";var I=function(){function h(){(0,T.default)(this,h)}return(0,y.default)(h,null,[{key:"getUserAgent",value:function(){return this.userAgent()}},{key:"userAgentContainsString",value:function(D){return this.getUserAgent().indexOf(D)>-1}},{key:"isChrome",value:function(){return this.userAgentContainsString(b.BrowserVendor.CHROME)&&!this.userAgentContainsString(b.BrowserVendor.EDGE)&&!this.userAgentContainsString(b.BrowserVendor.EDGE_CHROMIUM)}},{key:"isIe",value:function(){return this.userAgentContainsString("Trident")}},{key:"isEdge",value:function(){return this.userAgentContainsString(b.BrowserVendor.EDGE)||this.userAgentContainsString(b.BrowserVendor.EDGE_CHROMIUM)}},{key:"isOpera",value:function(){return this.userAgentContainsString("OPR/")}},{key:"getBrowserName",value:function(){return this.isOpera()?b.BrowserVendor.OPERA:this.isEdge()?b.BrowserVendor.EDGE:this.isChrome()?b.BrowserVendor.CHROME:this.userAgentContainsString(b.BrowserVendor.FIREFOX)?b.BrowserVendor.FIREFOX:this.userAgentContainsString(b.BrowserVendor.SAFARI)?b.BrowserVendor.SAFARI:this.isIe()?b.BrowserVendor.IE:b.BrowserVendor.UNKNOWN}},{key:"getBrowserVersion",value:function(){var D=this;return this.isIe()?function(){var C=D.getUserAgent(),k=C.match(new RegExp(b.BrowserVendor.IE+" "+m));if(k)return k[1];var O=C.match(new RegExp("rv:"+m));return O?O[1]:void 0}():function(C){C===b.BrowserVendor.SAFARI&&(C="Version"),C===b.BrowserVendor.OPERA&&(C="OPR"),C===b.BrowserVendor.EDGE&&(C="Edge?");var k=D.getUserAgent().match(new RegExp(C+"/"+m));return k?k[1]:"U"}(this.getBrowserName())}}]),h}();g.BrowserInfo=I,(0,_.default)(I,"userAgent",function(){return window.navigator.userAgent})},6812:(z,g,d)=>{"use strict";var u=d(1127);Object.defineProperty(g,"__esModule",{value:!0}),g.DeviceInfo=void 0;var T=u(d(8884)),y=u(d(2805)),_=d(2e3);g.DeviceInfo=function(){function m(){(0,T.default)(this,m)}return(0,y.default)(m,null,[{key:"getDeviceType",value:function(){return window.navigator.userAgent.match(/(android|ipod|windows phone|wpdesktop|windows ce|blackberry\w*|meego|webos|palm|symbian|pda|\w*?mobile\w*?|\w*?phone\w*?)/i)?_.DeviceType.Mobile:window.navigator.userAgent.match(/tablet|ipad/i)?_.DeviceType.Tablet:_.DeviceType.Desktop}}]),m}()},682:(z,g,d)=>{"use strict";var u=d(1127);Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var T=u(d(8884)),y=u(d(2805));g.default=function(){function b(){(0,T.default)(this,b)}return(0,y.default)(b,null,[{key:"raiseCustomEvent",value:function(v,I){var h=b.createCustomEvent(v,I);window.dispatchEvent(h)}},{key:"createCustomEvent",value:function(v,I){var h=I?{detail:I}:void 0,c=null;try{c=new CustomEvent(v,h)}catch(D){(c=document.createEvent("CustomEvent")).initCustomEvent(v,!0,!0,h)}return c}}]),b}()},9569:(z,g,d)=>{"use strict";var u=d(1127);Object.defineProperty(g,"__esModule",{value:!0}),g.LoggingSanitizer=void 0;var T=u(d(1298)),y=u(d(8884)),_=u(d(2805)),b=u(d(5413));g.LoggingSanitizer=function(){function v(){(0,y.default)(this,v)}return(0,_.default)(v,null,[{key:"stripErrorSensitiveProperties",value:function(h){var c,w,D=this;h&&"object"===(0,T.default)(h)&&(null===(c=Object.keys(h))||void 0===c?void 0:c.length)>0&&(null===(w=Object.keys(h))||void 0===w||w.forEach(function(S){-1!==b.default.sensitiveProperties.indexOf(S)&&delete h["".concat(S)],null===h["".concat(S)]||"object"!==(0,T.default)(h["".concat(S)])||D.stripErrorSensitiveProperties(h["".concat(S)])}))}}]),v}()},7169:(z,g,d)=>{"use strict";var u=d(1127);Object.defineProperty(g,"__esModule",{value:!0}),g.OSInfo=void 0;var T=u(d(8884)),y=u(d(2805)),_=d(2e3);g.OSInfo=function(){function m(){(0,T.default)(this,m)}return(0,y.default)(m,null,[{key:"getOsType",value:function(){var C=function(){return window.navigator.userAgent};return C().match(/windows\sphone\s\d+\.\d+/i)?_.OperatingSystem.WINDOWS_PHONE:C().match(/ arm;/i)?_.OperatingSystem.WINDOWS_RT:C().match(/(iPad|iPhone|iPod)(?=.*like Mac OS X)/i)?_.OperatingSystem.IOS:C().match(/android/i)?_.OperatingSystem.ANDROID:C().match(/(linux|joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|cros)/i)?_.OperatingSystem.LINUX:C().match(/(macintosh|mac os x)/i)?_.OperatingSystem.MACOSX:C().match(/(windows|win32)/i)?_.OperatingSystem.WINDOWS:_.OperatingSystem.UNKNOWN}}]),m}()},7276:(z,g,d)=>{"use strict";var u=d(1127);Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var T=u(d(8884)),y=u(d(2805));g.default=function(){function b(){(0,T.default)(this,b)}return(0,y.default)(b,null,[{key:"GETTELEMETRYEVENTDATA",value:function(v,I,h){return{Description:h,ElapsedTimeInMilliseconds:I.ElapsedTimeInMilliseconds,Event:v,ExceptionDetails:I.ExceptionDetails,Region:I.Region,RequestId:I.RequestId,TransactionId:I.TransactionId}}}]),b}()},3945:(z,g,d)=>{"use strict";var u=d(1127);Object.defineProperty(g,"__esModule",{value:!0}),g.Timer=void 0;var T=u(d(8884)),y=u(d(2805));g.Timer=function(){function b(){(0,T.default)(this,b)}return(0,y.default)(b,null,[{key:"TIMER",value:function(){var v=(new Date).getTime();return{get milliSecondsElapsed(){return(new Date).getTime()-v}}}}]),b}()},1729:(z,g)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0,g.default=function(y,_){var b=_.retries,m=0;y.interceptors.response.use(void 0,function(c){var D=c.config;return D&&m<b?(m++,new Promise(function(S){return S(y(D))})):Promise.reject(c)})}},8566:(z,g)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.uuidv4=void 0,g.uuidv4=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(T){var y=16*Math.random()|0;return("x"===T?y:3&y|8).toString(16)})}},3762:(z,g,d)=>{"use strict";var u=d(1127);Object.defineProperty(g,"__esModule",{value:!0}),Object.defineProperty(g,"SDKProvider",{enumerable:!0,get:function(){return _.default}}),Object.defineProperty(g,"uuidv4",{enumerable:!0,get:function(){return m.uuidv4}});var T=u(d(1298)),y=u(d(3096)),_=u(d(4491)),b=u(d(682)),m=d(8566);!function(){if(void 0===global.window&&(global.window=global),void 0===("undefined"==typeof window?"undefined":(0,T.default)(window)))throw new Error("window object not found");"Microsoft"in window||(window.Microsoft={}),"CRM"in window.Microsoft||(window.Microsoft.CRM={}),"Omnichannel"in window.Microsoft.CRM||(window.Microsoft.CRM.Omnichannel={}),"SDK"in window.Microsoft.CRM.Omnichannel||(window.Microsoft.CRM.Omnichannel.SDK={SDKProvider:_.default,Util:{uuidv4:m.uuidv4}}),window.document&&b.default.raiseCustomEvent(y.default.OCSDKLOAD)}()},7626:function(z,g,d){"use strict";var u=this&&this.__assign||function(){return(u=Object.assign||function(ie){for(var P,F=1,W=arguments.length;F<W;F++)for(var A in P=arguments[F])Object.prototype.hasOwnProperty.call(P,A)&&(ie[A]=P[A]);return ie}).apply(this,arguments)},T=this&&this.__awaiter||function(ie,P,F,W){return new(F||(F=Promise))(function(R,U){function J(te){try{Y(W.next(te))}catch(re){U(re)}}function ne(te){try{Y(W.throw(te))}catch(re){U(re)}}function Y(te){te.done?R(te.value):function(R){return R instanceof F?R:new F(function(U){U(R)})}(te.value).then(J,ne)}Y((W=W.apply(ie,P||[])).next())})},y=this&&this.__generator||function(ie,P){var W,A,R,U,F={label:0,sent:function(){if(1&R[0])throw R[1];return R[1]},trys:[],ops:[]};return U={next:J(0),throw:J(1),return:J(2)},"function"==typeof Symbol&&(U[Symbol.iterator]=function(){return this}),U;function J(Y){return function(te){return function(Y){if(W)throw new TypeError("Generator is already executing.");for(;F;)try{if(W=1,A&&(R=2&Y[0]?A.return:Y[0]?A.throw||((R=A.return)&&R.call(A),0):A.next)&&!(R=R.call(A,Y[1])).done)return R;switch(A=0,R&&(Y=[2&Y[0],R.value]),Y[0]){case 0:case 1:R=Y;break;case 4:return F.label++,{value:Y[1],done:!1};case 5:F.label++,A=Y[1],Y=[0];continue;case 7:Y=F.ops.pop(),F.trys.pop();continue;default:if(!(R=(R=F.trys).length>0&&R[R.length-1])&&(6===Y[0]||2===Y[0])){F=0;continue}if(3===Y[0]&&(!R||Y[1]>R[0]&&Y[1]<R[3])){F.label=Y[1];break}if(6===Y[0]&&F.label<R[1]){F.label=R[1],R=Y;break}if(R&&F.label<R[2]){F.label=R[2],F.ops.push(Y);break}R[2]&&F.ops.pop(),F.trys.pop();continue}Y=P.call(ie,F)}catch(te){Y=[6,te],A=0}finally{W=R=0}if(5&Y[0])throw Y[1];return{value:Y[0]?Y[1]:void 0,done:!0}}([Y,te])}}},_=this&&this.__spreadArrays||function(){for(var ie=0,P=0,F=arguments.length;P<F;P++)ie+=arguments[P].length;var W=Array(ie),A=0;for(P=0;P<F;P++)for(var R=arguments[P],U=0,J=R.length;U<J;U++,A++)W[A]=R[U];return W};Object.defineProperty(g,"__esModule",{value:!0});var b=d(6419),m=d(6397),v=d(7925),I=d(2811),h=d(838),c=d(6633),D=d(2626),w=d(2900),S=d(4694),p=d(2217),C=d(9425),k=d(1775),O=d(5642),x=d(6345),j=d(448),V=d(3372),L=d(4352),B=d(8098),G=d(5655),Q=d(1247),$=d(3762),ue=d(6194),q=d(9600),X=d(7616),oe=d(641),ce=function(){function ie(P,F){var W,A,R,U,J;void 0===F&&(F=oe.defaultChatSDKConfig),this.authSettings=null,this.authenticatedUserToken=null,this.conversation=null,this.callingOption=b.default.NoCalling,this.telemetry=null,this.ic3ClientLogger=null,this.ocSdkLogger=null,this.isPersistentChat=!1,this.isChatReconnect=!1,this.reconnectId=null,this.refreshTokenTimer=null,this.debug=!1,this.omnichannelConfig=P,this.chatSDKConfig=u(u({},oe.defaultChatSDKConfig),F),this.isInitialized=!1,this.requestId=$.uuidv4(),this.chatToken={},this.liveChatConfig={},this.dataMaskingRules={},this.authSettings=null,this.preChatSurvey=null,this.telemetry=h.default(this.debug),this.scenarioMarker=new Q.default(this.omnichannelConfig),this.ic3ClientLogger=I.createIC3ClientLogger(this.omnichannelConfig),this.ocSdkLogger=I.createOCSDKLogger(this.omnichannelConfig),this.scenarioMarker.useTelemetry(this.telemetry),this.ic3ClientLogger.useTelemetry(this.telemetry),this.ocSdkLogger.useTelemetry(this.telemetry),X.default(P),oe.default(F),(null===(W=this.chatSDKConfig.telemetry)||void 0===W?void 0:W.disable)&&(null===(A=this.telemetry)||void 0===A||A.disable()),(null===(R=this.chatSDKConfig.telemetry)||void 0===R?void 0:R.ariaTelemetryKey)&&this.telemetry.initialize(this.chatSDKConfig.telemetry.ariaTelemetryKey),null===(U=this.ic3ClientLogger)||void 0===U||U.setRequestId(this.requestId),null===(J=this.ocSdkLogger)||void 0===J||J.setRequestId(this.requestId)}return ie.prototype.setDebug=function(P){var F,W,A;this.debug=P,null===(F=this.telemetry)||void 0===F||F.setDebug(P),this.scenarioMarker.setDebug(P),null===(W=this.ic3ClientLogger)||void 0===W||W.setDebug(P),null===(A=this.ocSdkLogger)||void 0===A||A.setDebug(P)},ie.prototype.initialize=function(){return T(this,void 0,void 0,function(){var P,F;return y(this,function(A){switch(A.label){case 0:if(this.scenarioMarker.startScenario(q.default.InitializeChatSDK),this.isInitialized)return this.scenarioMarker.completeScenario(q.default.InitializeChatSDK),[2,this.liveChatConfig];A.label=1;case 1:return A.trys.push([1,5,,6]),this.OCSDKProvider=$.SDKProvider,[4,$.SDKProvider.getSDK(this.omnichannelConfig,{},this.ocSdkLogger)];case 2:return P=A.sent(),[4,this.getIC3Client()];case 3:return F=A.sent(),this.OCClient=P,this.IC3Client=F,[4,this.getChatConfig()];case 4:return A.sent(),this.isInitialized=!0,this.scenarioMarker.completeScenario(q.default.InitializeChatSDK),[3,6];case 5:return A.sent(),this.scenarioMarker.failScenario(q.default.InitializeChatSDK),[3,6];case 6:return[2,this.liveChatConfig]}})})},ie.prototype.getChatReconnectContext=function(P){return void 0===P&&(P={}),T(this,void 0,void 0,function(){var F,A,R,J,ne,U;return y(this,function(Y){switch(Y.label){case 0:if(this.scenarioMarker.startScenario(q.default.GetChatReconnectContext,{RequestId:this.requestId,ChatId:this.chatToken.chatId}),F={reconnectId:null,redirectURL:null},!this.authenticatedUserToken)return[3,5];Y.label=1;case 1:return Y.trys.push([1,3,,4]),[4,this.OCClient.getReconnectableChats({authenticatedUserToken:this.authenticatedUserToken})];case 2:return(A=Y.sent())&&A.reconnectid&&(F.reconnectId=A.reconnectid),this.scenarioMarker.completeScenario(q.default.GetChatReconnectContext,{RequestId:this.requestId,ChatId:this.chatToken.chatId}),[3,4];case 3:return R=Y.sent(),U={response:"OCClientGetReconnectableChatsFailed"},this.scenarioMarker.failScenario(q.default.GetChatReconnectContext,{RequestId:this.requestId,ChatId:this.chatToken.chatId,ExceptionDetails:JSON.stringify(U)}),console.error("OmnichannelChatSDK/GetChatReconnectContext/error "+R),[3,4];case 4:return[3,9];case 5:if(!P.reconnectId)return[3,9];Y.label=6;case 6:return Y.trys.push([6,8,,9]),[4,this.OCClient.getReconnectAvailability(P.reconnectId)];case 7:return(J=Y.sent())&&!J.isReconnectAvailable?J.reconnectRedirectionURL&&(F.redirectURL=J.reconnectRedirectionURL):F.reconnectId=P.reconnectId,this.scenarioMarker.completeScenario(q.default.GetChatReconnectContext,{RequestId:this.requestId,ChatId:this.chatToken.chatId}),[3,9];case 8:return ne=Y.sent(),U={response:"OCClientGetReconnectAvailabilityFailed"},this.scenarioMarker.failScenario(q.default.GetChatReconnectContext,{RequestId:this.requestId,ChatId:this.chatToken.chatId,ExceptionDetails:JSON.stringify(U)}),console.error("OmnichannelChatSDK/GetChatReconnectContext/error "+ne),[3,9];case 9:return[2,F]}})})},ie.prototype.startChat=function(P){var F,W,A,R,U,J,ne,Y;return void 0===P&&(P={}),T(this,void 0,void 0,function(){var re,me,pe,ge,Se,_e,ye,ae,Te=this;return y(this,function(we){switch(we.label){case 0:if(this.scenarioMarker.startScenario(q.default.StartChat,{RequestId:this.requestId}),this.isChatReconnect&&!(null===(F=this.chatSDKConfig.chatReconnect)||void 0===F?void 0:F.disable)&&!this.isPersistentChat&&P.reconnectId&&(this.reconnectId=P.reconnectId),!this.isPersistentChat||(null===(W=this.chatSDKConfig.persistentChat)||void 0===W?void 0:W.disable))return[3,4];we.label=1;case 1:return we.trys.push([1,3,,4]),[4,this.OCClient.getReconnectableChats({authenticatedUserToken:this.authenticatedUserToken})];case 2:return(re=we.sent())&&re.reconnectid&&(this.reconnectId=re.reconnectid),[3,4];case 3:throw we.sent(),ae={response:"OCClientGetReconnectableChatsFailed"},Error(ae.response);case 4:return!P.liveChatContext||this.isPersistentChat||this.isChatReconnect?[3,6]:(this.chatToken=P.liveChatContext.chatToken||{},this.requestId=P.liveChatContext.requestId||$.uuidv4(),[4,this.getConversationDetails()]);case 5:if(me=we.sent(),0===Object.keys(me).length)throw ae={response:"InvalidConversation"},this.scenarioMarker.failScenario(q.default.StartChat,{RequestId:this.requestId,ChatId:this.chatToken.chatId,ExceptionDetails:JSON.stringify(ae)}),console.error("Conversation not found"),Error(ae.response);if(me.state===O.default.WrapUp||me.state===O.default.Closed)throw ae={response:"ClosedConversation"},this.scenarioMarker.failScenario(q.default.StartChat,{RequestId:this.requestId,ChatId:this.chatToken.chatId,ExceptionDetails:JSON.stringify(ae)}),console.error("Unable to join conversation that's in '"+me.state+"' state"),Error(ae.response);we.label=6;case 6:return this.chatToken&&0===Object.keys(this.chatToken).length?[4,this.getChatToken(!1)]:[3,8];case 7:we.sent(),we.label=8;case 8:null===(A=this.ic3ClientLogger)||void 0===A||A.setChatId(this.chatToken.chatId||""),null===(R=this.ocSdkLogger)||void 0===R||R.setChatId(this.chatToken.chatId||""),pe={initContext:{}},this.isPersistentChat&&!(null===(U=this.chatSDKConfig.persistentChat)||void 0===U?void 0:U.disable)&&(pe.reconnectId=this.reconnectId),this.isChatReconnect&&!(null===(J=this.chatSDKConfig.chatReconnect)||void 0===J?void 0:J.disable)&&!this.isPersistentChat&&(pe.reconnectId=this.reconnectId),P.customContext&&(pe.initContext.customContextData=P.customContext),P.browser&&(pe.initContext.browser=P.browser),P.os&&(pe.initContext.os=P.os),P.locale&&(pe.initContext.locale=P.locale),P.device&&(pe.initContext.device=P.device),P.preChatResponse&&(pe.initContext.preChatResponse=P.preChatResponse),P.initContext&&(pe.initContext=P.initContext),this.authenticatedUserToken&&(pe.authenticatedUserToken=this.authenticatedUserToken),we.label=9;case 9:return we.trys.push([9,11,,12]),[4,this.OCClient.sessionInit(this.requestId,pe)];case 10:return we.sent(),[3,12];case 11:return ge=we.sent(),ae={response:"OCClientSessionInitFailed"},this.scenarioMarker.failScenario(q.default.StartChat,{RequestId:this.requestId,ChatId:this.chatToken.chatId,ExceptionDetails:JSON.stringify(ae)}),console.error("OmnichannelChatSDK/startChat/sessionInit/error "+ge),[2,ge];case 12:return we.trys.push([12,14,,15]),[4,this.IC3Client.initialize({token:this.chatToken.token,regionGtms:this.chatToken.regionGTMS,visitor:!0})];case 13:return we.sent(),[3,15];case 14:return Se=we.sent(),ae={response:"IC3ClientInitializeFailed"},this.scenarioMarker.failScenario(q.default.StartChat,{RequestId:this.requestId,ChatId:this.chatToken.chatId,ExceptionDetails:JSON.stringify(ae)}),console.error("OmnichannelChatSDK/startChat/initialize/error "+Se),[2,Se];case 15:return we.trys.push([15,17,,18]),_e=this,[4,this.IC3Client.joinConversation(this.chatToken.chatId)];case 16:return _e.conversation=we.sent(),this.scenarioMarker.completeScenario(q.default.StartChat,{RequestId:this.requestId,ChatId:this.chatToken.chatId}),[3,18];case 17:return ye=we.sent(),ae={response:"IC3ClientJoinConversationFailed"},this.scenarioMarker.failScenario(q.default.StartChat,{RequestId:this.requestId,ChatId:this.chatToken.chatId,ExceptionDetails:JSON.stringify(ae)}),console.error("OmnichannelChatSDK/startChat/joinConversation/error "+ye),[2,ye];case 18:return this.isPersistentChat&&!(null===(ne=this.chatSDKConfig.persistentChat)||void 0===ne?void 0:ne.disable)&&(this.refreshTokenTimer=setInterval(function(){return T(Te,void 0,void 0,function(){return y(this,function(Fe){switch(Fe.label){case 0:return[4,this.getChatToken(!1)];case 1:return Fe.sent(),this.updateChatToken(this.chatToken.token,this.chatToken.regionGTMS),[2]}})})},null===(Y=this.chatSDKConfig.persistentChat)||void 0===Y?void 0:Y.tokenUpdateTime)),[2]}})})},ie.prototype.endChat=function(){var P,F,W,A,R,U,J;return T(this,void 0,void 0,function(){var ne,Y,re;return y(this,function(ae){switch(ae.label){case 0:this.scenarioMarker.startScenario(q.default.EndChat,{RequestId:this.requestId,ChatId:this.chatToken.chatId}),ne={},this.isPersistentChat&&!(null===(P=this.chatSDKConfig.persistentChat)||void 0===P?void 0:P.disable)&&(Y=null!==this.reconnectId,ne.isPersistentChat=this.isPersistentChat,ne.isReconnectChat=Y),this.isChatReconnect&&!(null===(F=this.chatSDKConfig.chatReconnect)||void 0===F?void 0:F.disable)&&!this.isPersistentChat&&(ne.isReconnectChat=null!==this.reconnectId),this.authenticatedUserToken&&(ne.authenticatedUserToken=this.authenticatedUserToken),ae.label=1;case 1:return ae.trys.push([1,3,,4]),[4,this.OCClient.sessionClose(this.requestId,ne)];case 2:return ae.sent(),this.scenarioMarker.completeScenario(q.default.EndChat,{RequestId:this.requestId,ChatId:this.chatToken.chatId}),null===(W=this.conversation)||void 0===W||W.disconnect(),this.conversation=null,this.requestId=$.uuidv4(),this.chatToken={},this.reconnectId=null,null===(A=this.ic3ClientLogger)||void 0===A||A.setRequestId(this.requestId),null===(R=this.ic3ClientLogger)||void 0===R||R.setChatId(""),null===(U=this.ocSdkLogger)||void 0===U||U.setRequestId(this.requestId),null===(J=this.ocSdkLogger)||void 0===J||J.setChatId(""),[3,4];case 3:return re=ae.sent(),this.scenarioMarker.failScenario(q.default.EndChat,{RequestId:this.requestId,ChatId:this.chatToken.chatId,ExceptionDetails:JSON.stringify({response:"OCClientSessionCloseFailed"})}),console.error("OmnichannelChatSDK/endChat/error "+re),[2,re];case 4:return null!==this.refreshTokenTimer&&(clearInterval(this.refreshTokenTimer),this.refreshTokenTimer=null),[2]}})})},ie.prototype.getCurrentLiveChatContext=function(){return T(this,void 0,void 0,function(){var P,W;return y(this,function(A){switch(A.label){case 0:return[4,this.getChatToken()];case 1:return P=A.sent(),W={chatToken:P,requestId:this.requestId},0===Object.keys(W.chatToken).length?[2,{}]:[2,W]}})})},ie.prototype.getConversationDetails=function(){var P,F;return T(this,void 0,void 0,function(){var W,U,J,ne;return y(this,function(Y){switch(Y.label){case 0:this.scenarioMarker.startScenario(q.default.GetConversationDetails,{RequestId:this.requestId,ChatId:(null===(P=this.chatToken)||void 0===P?void 0:P.chatId)||""}),Y.label=1;case 1:return Y.trys.push([1,3,,4]),[4,this.OCClient.getLWIDetails(this.requestId)];case 2:return W=Y.sent(),J={state:W.State,conversationId:W.ConversationId},(U=W.AgentAcceptedOn)&&(J.agentAcceptedOn=U),this.scenarioMarker.completeScenario(q.default.GetConversationDetails,{RequestId:this.requestId,ChatId:(null===(F=this.chatToken)||void 0===F?void 0:F.chatId)||""}),[2,J];case 3:return ne=Y.sent(),this.scenarioMarker.failScenario(q.default.GetConversationDetails,{RequestId:this.requestId,ChatId:this.chatToken.chatId||""}),console.error("OmnichannelChatSDK/getConversationDetails/error "+ne),[3,4];case 4:return[2,{}]}})})},ie.prototype.getPreChatSurvey=function(P){return void 0===P&&(P=!0),T(this,void 0,void 0,function(){var F;return y(this,function(W){this.scenarioMarker.startScenario(q.default.GetPreChatSurvey);try{return F=P?JSON.parse(this.preChatSurvey):this.preChatSurvey,this.scenarioMarker.completeScenario(q.default.GetPreChatSurvey),[2,F]}catch(A){this.scenarioMarker.failScenario(q.default.GetPreChatSurvey)}return[2]})})},ie.prototype.getLiveChatConfig=function(P){return void 0===P&&(P=!0),T(this,void 0,void 0,function(){return y(this,function(F){return P?[2,this.liveChatConfig]:[2,this.getChatConfig()]})})},ie.prototype.getChatToken=function(P){var F,W;return void 0===P&&(P=!0),T(this,void 0,void 0,function(){var A,R,J,Y,te,re,le;return y(this,function(me){switch(me.label){case 0:if(this.scenarioMarker.startScenario(q.default.GetChatToken,{RequestId:this.requestId}),P)return[3,5];me.label=1;case 1:return me.trys.push([1,3,,4]),A={},this.authenticatedUserToken&&(A.authenticatedUserToken=this.authenticatedUserToken),this.isPersistentChat&&!(null===(F=this.chatSDKConfig.persistentChat)||void 0===F?void 0:F.disable)&&(A.reconnectId=this.reconnectId),this.isChatReconnect&&!(null===(W=this.chatSDKConfig.chatReconnect)||void 0===W?void 0:W.disable)&&!this.isPersistentChat&&(A.reconnectId=this.reconnectId),[4,this.OCClient.getChatToken(this.requestId,A)];case 2:return R=me.sent(),J=R.Token,Y=R.ExpiresIn,te=R.VisitorId,re=R.VoiceVideoCallToken,this.chatToken={chatId:R.ChatId,regionGTMS:JSON.parse(R.RegionGtms),requestId:this.requestId,token:J,expiresIn:Y,visitorId:te,voiceVideoCallToken:re},this.scenarioMarker.completeScenario(q.default.GetChatToken,{RequestId:this.requestId,ChatId:this.chatToken.chatId}),[3,4];case 3:return le=me.sent(),this.scenarioMarker.failScenario(q.default.GetChatToken,{RequestId:this.requestId,ChatId:this.chatToken.chatId,ExceptionDetails:JSON.stringify({response:"OCClientGetChatTokenFailed"})}),console.error("OmnichannelChatSDK/getChatToken/error "+le),[3,4];case 4:return[3,6];case 5:this.scenarioMarker.completeScenario(q.default.GetChatToken,{RequestId:this.requestId,ChatId:this.chatToken.chatId}),me.label=6;case 6:return[2,this.chatToken]}})})},ie.prototype.getCallingToken=function(){return T(this,void 0,void 0,function(){return y(this,function(P){return this.chatToken&&0===Object.keys(this.chatToken).length?[2,""]:this.chatToken.voiceVideoCallToken?(console.log("calling:acs"),[2,this.chatToken.voiceVideoCallToken.Token]):(console.log("calling:skype"),[2,this.chatToken.token])})})},ie.prototype.getMessages=function(){var P;return T(this,void 0,void 0,function(){return y(this,function(F){return[2,null===(P=this.conversation)||void 0===P?void 0:P.getMessages()]})})},ie.prototype.getDataMaskingRules=function(){return T(this,void 0,void 0,function(){return y(this,function(P){return[2,this.dataMaskingRules]})})},ie.prototype.sendMessage=function(P){return T(this,void 0,void 0,function(){var F,W,A,R,U,J,Y,te,re,le;return y(this,function(ae){if(W=(F=this.chatSDKConfig.dataMasking).disable,A=F.maskingCharacter,R=P.content,Object.keys(this.dataMaskingRules).length>0&&!W)for(U=0,J=Object.values(this.dataMaskingRules);U<J.length;U++)for(Y=new RegExp(J[U],"g"),te=void 0;te=Y.exec(R);)re=te[0].replace(/./g,A),R=R.replace(te[0],re);return P.content=R,le={content:P.content,timestamp:new Date,contentType:j.default.Text,deliveryMode:w.default.Bridged,messageType:V.default.UserMessage,properties:void 0,tags:_(D.defaultMessageTags),sender:{displayName:"Customer",id:"customer",type:L.default.User}},P.tags&&(le.tags=P.tags),P.timestamp&&(le.timestamp=P.timestamp),[2,this.conversation.sendMessage(le)]})})},ie.prototype.onNewMessage=function(P,F){var W;return void 0===F&&(F={}),T(this,void 0,void 0,function(){var A,R,U,J,ne,Y;return y(this,function(te){switch(te.label){case 0:return A=new Set,F.rehydrate?(this.debug&&console.log("[OmnichannelChatSDK][onNewMessage] rehydrate"),[4,this.getMessages()]):[3,2];case 1:if(R=te.sent())for(U=0,J=R.reverse();U<J.length;U++)!A.has(Y=(ne=J[U]).clientmessageid)&&(A.add(Y),P(ne));te.label=2;case 2:return null===(W=this.conversation)||void 0===W||W.registerOnNewMessage(function(re){var le=re.clientmessageid,ae=re.messageType;C.isCustomerMessage(re)||A.has(le)||ae!==V.default.Typing&&P(re)}),[2]}})})},ie.prototype.sendTypingEvent=function(){return T(this,void 0,void 0,function(){var P,F,W,A;return y(this,function(R){switch(R.label){case 0:P="{isTyping: 0}",this.scenarioMarker.startScenario(q.default.SendTypingEvent,{RequestId:this.requestId,ChatId:this.chatToken.chatId}),R.label=1;case 1:return R.trys.push([1,5,,6]),[4,this.conversation.indicateTypingStatus(0)];case 2:return R.sent(),[4,this.conversation.getMembers()];case 3:return F=R.sent(),W=F.filter(function(U){return U.type===L.default.Bot}),[4,this.conversation.sendMessageToBot(W[0].id,{payload:P})];case 4:return R.sent(),this.scenarioMarker.completeScenario(q.default.SendTypingEvent,{RequestId:this.requestId,ChatId:this.chatToken.chatId}),[3,6];case 5:return A=R.sent(),console.error("OmnichannelChatSDK/sendTypingEvent/error"),this.scenarioMarker.failScenario(q.default.SendTypingEvent,{RequestId:this.requestId,ChatId:this.chatToken.chatId}),[2,A];case 6:return[2]}})})},ie.prototype.onTypingEvent=function(P){var F;return T(this,void 0,void 0,function(){return y(this,function(W){return null===(F=this.conversation)||void 0===F||F.registerOnNewMessage(function(A){var R=A.messageType;C.isCustomerMessage(A)||R===V.default.Typing&&P(A)}),[2]})})},ie.prototype.onAgentEndSession=function(P){var F;return T(this,void 0,void 0,function(){var W=this;return y(this,function(A){this.scenarioMarker.startScenario(q.default.OnAgentEndSession,{RequestId:this.requestId,ChatId:this.chatToken.chatId});try{null===(F=this.conversation)||void 0===F||F.registerOnThreadUpdate(function(R){1===R.members.length&&(P(R),null!==W.refreshTokenTimer&&(clearInterval(W.refreshTokenTimer),W.refreshTokenTimer=null))}),this.scenarioMarker.completeScenario(q.default.OnAgentEndSession,{RequestId:this.requestId,ChatId:this.chatToken.chatId})}catch(R){this.scenarioMarker.failScenario(q.default.OnAgentEndSession,{RequestId:this.requestId,ChatId:this.chatToken.chatId})}return[2]})})},ie.prototype.uploadFileAttachment=function(P){return T(this,void 0,void 0,function(){var F,W,A;return y(this,function(R){switch(R.label){case 0:return this.scenarioMarker.startScenario(q.default.UploadFileAttachment,{RequestId:this.requestId,ChatId:this.chatToken.chatId}),B.default.isReactNative()||B.default.isNode()?[4,this.conversation.sendFileData(P,S.default.AmsBasedFileSharing)]:[3,2];case 1:return F=R.sent(),[3,4];case 2:return[4,this.conversation.uploadFile(P,S.default.AmsBasedFileSharing)];case 3:F=R.sent(),R.label=4;case 4:W={content:"",timestamp:new Date,contentType:j.default.Text,deliveryMode:w.default.Bridged,messageType:V.default.UserMessage,tags:_(D.defaultMessageTags),sender:{displayName:"Customer",id:"customer",type:L.default.User},fileMetadata:F},R.label=5;case 5:return R.trys.push([5,7,,8]),[4,this.conversation.sendFileMessage(F,W)];case 6:return R.sent(),this.scenarioMarker.completeScenario(q.default.UploadFileAttachment,{RequestId:this.requestId,ChatId:this.chatToken.chatId}),[2,W];case 7:return A=R.sent(),console.error("OmnichannelChatSDK/uploadFileAttachment/error: "+A),this.scenarioMarker.failScenario(q.default.UploadFileAttachment,{RequestId:this.requestId,ChatId:this.chatToken.chatId}),[2,A];case 8:return[2]}})})},ie.prototype.downloadFileAttachment=function(P){return T(this,void 0,void 0,function(){var F,W;return y(this,function(A){switch(A.label){case 0:this.scenarioMarker.startScenario(q.default.DownloadFileAttachment,{RequestId:this.requestId,ChatId:this.chatToken.chatId}),A.label=1;case 1:return A.trys.push([1,3,,4]),[4,this.conversation.downloadFile(P)];case 2:return F=A.sent(),this.scenarioMarker.completeScenario(q.default.DownloadFileAttachment,{RequestId:this.requestId,ChatId:this.chatToken.chatId}),[2,F];case 3:throw W=A.sent(),console.error("OmnichannelChatSDK/downloadFileAttachment/error: "+W),this.scenarioMarker.failScenario(q.default.DownloadFileAttachment,{RequestId:this.requestId,ChatId:this.chatToken.chatId}),new Error("DownloadFileAttachmentFailed");case 4:return[2]}})})},ie.prototype.emailLiveChatTranscript=function(P){return T(this,void 0,void 0,function(){var F,A;return y(this,function(R){F={},this.scenarioMarker.startScenario(q.default.EmailLiveChatTranscript,{RequestId:this.requestId,ChatId:this.chatToken.chatId});try{return this.authenticatedUserToken&&(F.authenticatedUserToken=this.authenticatedUserToken),A=this.OCClient.emailTranscript(this.requestId,this.chatToken.token,{ChatId:this.chatToken.chatId,EmailAddress:P.emailAddress,DefaultAttachmentMessage:P.attachmentMessage,CustomerLocale:P.locale},F),this.scenarioMarker.completeScenario(q.default.EmailLiveChatTranscript,{RequestId:this.requestId,ChatId:this.chatToken.chatId}),[2,A]}catch(U){console.error("OmnichannelChatSDK/emailLiveChatTranscript/error: "+U),this.scenarioMarker.failScenario(q.default.EmailLiveChatTranscript,{RequestId:this.requestId,ChatId:this.chatToken.chatId})}return[2]})})},ie.prototype.getLiveChatTranscript=function(){return T(this,void 0,void 0,function(){var P,F;return y(this,function(W){P={},this.scenarioMarker.startScenario(q.default.GetLiveChatTranscript,{RequestId:this.requestId,ChatId:this.chatToken.chatId});try{return this.authenticatedUserToken&&(P.authenticatedUserToken=this.authenticatedUserToken),F=this.OCClient.getChatTranscripts(this.requestId,this.chatToken.chatId,this.chatToken.token,P),this.scenarioMarker.completeScenario(q.default.GetLiveChatTranscript,{RequestId:this.requestId,ChatId:this.chatToken.chatId}),[2,F]}catch(A){this.scenarioMarker.failScenario(q.default.GetLiveChatTranscript,{RequestId:this.requestId,ChatId:this.chatToken.chatId})}return[2]})})},ie.prototype.createChatAdapter=function(P){return void 0===P&&(P=m.default.IC3),T(this,void 0,void 0,function(){var F=this;return y(this,function(W){return B.default.isNode()||B.default.isReactNative()?[2,Promise.reject("ChatAdapter is only supported on browser")]:P!==m.default.IC3?[2,Promise.reject("ChatAdapter for protocol "+P+" currently not supported")]:[2,new Promise(function(A,R){return T(F,void 0,void 0,function(){var U,ne,J=this;return y(this,function(Y){switch(Y.label){case 0:return U=this.resolveChatAdapterUrl(P),null===(ne=this.telemetry)||void 0===ne||ne.setCDNPackages({IC3Adapter:U}),this.scenarioMarker.startScenario(q.default.CreateIC3Adapter),[4,x.loadScript(U,function(){J.debug&&console.debug("IC3Adapter loaded!");var te={chatToken:J.chatToken,userDisplayName:"Customer",userId:"teamsvisitor",sdkURL:J.resolveIC3ClientUrl(),sdk:J.IC3Client},re=new window.Microsoft.BotFramework.WebChat.IC3Adapter(te);re.logger=J.ic3ClientLogger,window.Microsoft.BotFramework.WebChat.IC3SDKProvider.disposeSdk=function(){},J.scenarioMarker.completeScenario(q.default.CreateIC3Adapter),A(re)},function(){J.scenarioMarker.failScenario(q.default.CreateIC3Adapter),R("Failed to load IC3Adapter")})];case 1:return Y.sent(),[2]}})})})]})})},ie.prototype.getVoiceVideoCalling=function(P){return void 0===P&&(P={}),T(this,void 0,void 0,function(){var F,A,R,U,J=this;return y(this,function(ne){switch(ne.label){case 0:return B.default.isNode()||B.default.isReactNative()?[2,Promise.reject("VoiceVideoCalling is only supported on browser")]:this.callingOption.toString()===b.default.NoCalling.toString()?[2,Promise.reject("Voice and video call is not enabled")]:[4,this.getChatConfig()];case 1:return F=ne.sent(),A=F.LiveWSAndLiveChatEngJoin.msdyn_widgetsnippet,R=new RegExp('src="(https:\\/\\/[\\w-.]+)[\\w-.\\/]+"'),(U=A.match(R))&&U.length?[2,new Promise(function(Y,te){return T(J,void 0,void 0,function(){var re,ae,le=this;return y(this,function(me){switch(me.label){case 0:return this.scenarioMarker.startScenario(q.default.GetVoiceVideoCalling),re=U[1]+"/livechatwidget/WebChatControl/lib/CallingBundle.js",null===(ae=this.telemetry)||void 0===ae||ae.setCDNPackages({VoiceVideoCalling:re}),[4,x.loadScript(re,function(){return T(le,void 0,void 0,function(){var pe;return y(this,function(ge){switch(ge.label){case 0:return this.debug&&console.debug(re+" loaded!"),[4,c.default(P)];case 1:return pe=ge.sent(),this.scenarioMarker.completeScenario(q.default.GetVoiceVideoCalling),pe.useScenarioMarker(this.scenarioMarker),Y(pe),[2]}})})},function(){return T(le,void 0,void 0,function(){return y(this,function(ge){return this.scenarioMarker.failScenario(q.default.GetVoiceVideoCalling,{ExceptionDetails:JSON.stringify({response:"VoiceVideoCallingLoadFailed"})}),te("Failed to load VoiceVideoCalling"),[2]})})})];case 1:return me.sent(),[2]}})})})]:[2]}})})},ie.prototype.getIC3Client=function(){return T(this,void 0,void 0,function(){var P,F=this;return y(this,function(W){switch(W.label){case 0:return B.default.isNode()||B.default.isReactNative()?(this.debug&&console.debug("IC3Core"),this.scenarioMarker.startScenario(q.default.GetIC3Client),this.IC3SDKProvider=ue.SDKProvider,[4,ue.SDKProvider.getSDK({hostType:p.default.Page,protocolType:G.default.IC3V1SDK})]):[3,2];case 1:return(P=W.sent()).setDebug(this.debug),this.scenarioMarker.completeScenario(q.default.GetIC3Client),[2,P];case 2:return this.debug&&console.debug("IC3Client"),[2,new Promise(function(A,R){return T(F,void 0,void 0,function(){var U,ne,J=this;return y(this,function(Y){switch(Y.label){case 0:return U=this.resolveIC3ClientUrl(),null===(ne=this.telemetry)||void 0===ne||ne.setCDNPackages({IC3Client:U}),this.scenarioMarker.startScenario(q.default.GetIC3Client),window.addEventListener("ic3:sdk:load",function(){return T(J,void 0,void 0,function(){var te,re,le;return y(this,function(ae){switch(ae.label){case 0:return this.debug&&console.debug("ic3:sdk:load"),te=window.Microsoft.CRM.Omnichannel.IC3Client.SDK,this.IC3SDKProvider=re=te.SDKProvider,[4,re.getSDK({hostType:p.default.IFrame,protocolType:G.default.IC3V1SDK,logger:this.ic3ClientLogger})];case 1:return le=ae.sent(),this.scenarioMarker.completeScenario(q.default.GetIC3Client),A(le),[2]}})})}),[4,x.loadScript(U,function(){J.debug&&console.debug("IC3Client loaded!")},function(){J.scenarioMarker.failScenario(q.default.GetIC3Client,{ExceptionDetails:JSON.stringify({response:"IC3ClientLoadFailed"})}),R("Failed to load IC3Client")})];case 1:return Y.sent(),[2]}})})})]}})})},ie.prototype.getChatConfig=function(){return T(this,void 0,void 0,function(){var P,F,W,A,U,J,ne,Y,te,re,le,ae,me,ge;return y(this,function(Se){switch(Se.label){case 0:return Se.trys.push([0,8,,9]),[4,this.OCClient.getChatConfig()];case 1:if(P=Se.sent(),W=P.LiveChatConfigAuthSettings,A=P.LiveWSAndLiveChatEngJoin,(F=P.DataMaskingInfo).setting.msdyn_maskforcustomer&&(this.dataMaskingRules=F.dataMaskingRules),W&&(this.authSettings=W),U=A.PreChatSurvey,ne=A.msdyn_callingoptions,re=!0===(J=A.msdyn_prechatenabled)||"true"==J,le=!0===(te=A.msdyn_enablechatreconnect)||"true"==te,(null==(Y=A.msdyn_conversationmode)?void 0:Y.toString())===v.default.PersistentChat.toString()&&(this.isPersistentChat=!0),le&&!this.isPersistentChat&&(this.isChatReconnect=!0),re&&U&&U.trim().length>0&&(this.preChatSurvey=U),!this.authSettings)return[3,7];if(this.scenarioMarker.startScenario(q.default.GetAuthToken),!this.chatSDKConfig.getAuthToken)return[3,6];Se.label=2;case 2:return Se.trys.push([2,4,,5]),[4,this.chatSDKConfig.getAuthToken()];case 3:return(ae=Se.sent())?(this.authenticatedUserToken=ae,this.scenarioMarker.completeScenario(q.default.GetAuthToken)):(me={response:"UndefinedAuthToken"},this.scenarioMarker.failScenario(q.default.GetAuthToken,{ExceptionDetails:JSON.stringify(me)})),[3,5];case 4:return Se.sent(),me={response:"GetAuthTokenFailed"},this.scenarioMarker.failScenario(q.default.GetAuthToken,{ExceptionDetails:JSON.stringify(me)}),[3,5];case 5:return[3,7];case 6:me={response:"GetAuthTokenNotFound"},this.scenarioMarker.failScenario(q.default.GetAuthToken,{ExceptionDetails:JSON.stringify(me)}),Se.label=7;case 7:return this.preChatSurvey&&this.debug&&console.log("Prechat Survey!"),this.callingOption=ne,this.liveChatConfig=P,[2,this.liveChatConfig];case 8:return ge=Se.sent(),console.error("OmnichannelChatSDK/getChatConfig/error "+ge),[2,ge];case 9:return[2]}})})},ie.prototype.resolveIC3ClientUrl=function(){return this.chatSDKConfig.ic3Config&&"ic3ClientCDNUrl"in this.chatSDKConfig.ic3Config?this.chatSDKConfig.ic3Config.ic3ClientCDNUrl:this.chatSDKConfig.ic3Config&&"ic3ClientVersion"in this.chatSDKConfig.ic3Config?k.default.getIC3ClientCDNUrl(this.chatSDKConfig.ic3Config.ic3ClientVersion):k.default.getIC3ClientCDNUrl()},ie.prototype.resolveChatAdapterUrl=function(P){if(P!==m.default.IC3)throw new Error("ChatAdapter for protocol "+P+" currently not supported");return this.chatSDKConfig.chatAdapterConfig&&"webChatIC3AdapterCDNUrl"in this.chatSDKConfig.chatAdapterConfig?this.chatSDKConfig.chatAdapterConfig.webChatIC3AdapterCDNUrl:this.chatSDKConfig.chatAdapterConfig&&"webChatIC3AdapterVersion"in this.chatSDKConfig.chatAdapterConfig?k.default.getIC3AdapterCDNUrl(this.chatSDKConfig.chatAdapterConfig.webChatIC3AdapterVersion):k.default.getIC3AdapterCDNUrl()},ie.prototype.updateChatToken=function(P,F){return T(this,void 0,void 0,function(){var A;return y(this,function(U){switch(U.label){case 0:this.scenarioMarker.startScenario(q.default.UpdateChatToken,{RequestId:this.requestId,ChatId:this.chatToken.chatId}),U.label=1;case 1:return U.trys.push([1,3,,4]),[4,this.IC3Client.initialize({token:P,regionGtms:F,visitor:!0})];case 2:return U.sent(),this.scenarioMarker.completeScenario(q.default.UpdateChatToken,{RequestId:this.requestId,ChatId:this.chatToken.chatId}),[3,4];case 3:return A=U.sent(),this.scenarioMarker.failScenario(q.default.UpdateChatToken,{RequestId:this.requestId,ChatId:this.chatToken.chatId,ExceptionDetails:JSON.stringify({response:"UpdateChatTokenFailed"})}),console.error("OmnichannelChatSDK/updateChatToken/error "+A),[3,4];case 4:return[2]}})})},ie}();g.default=ce},6633:function(z,g,d){"use strict";var u=this&&this.__awaiter||function(h,c,D,w){return new(D||(D=Promise))(function(p,C){function k(j){try{x(w.next(j))}catch(V){C(V)}}function O(j){try{x(w.throw(j))}catch(V){C(V)}}function x(j){j.done?p(j.value):function(p){return p instanceof D?p:new D(function(C){C(p)})}(j.value).then(k,O)}x((w=w.apply(h,c||[])).next())})},T=this&&this.__generator||function(h,c){var w,S,p,C,D={label:0,sent:function(){if(1&p[0])throw p[1];return p[1]},trys:[],ops:[]};return C={next:k(0),throw:k(1),return:k(2)},"function"==typeof Symbol&&(C[Symbol.iterator]=function(){return this}),C;function k(x){return function(j){return function(x){if(w)throw new TypeError("Generator is already executing.");for(;D;)try{if(w=1,S&&(p=2&x[0]?S.return:x[0]?S.throw||((p=S.return)&&p.call(S),0):S.next)&&!(p=p.call(S,x[1])).done)return p;switch(S=0,p&&(x=[2&x[0],p.value]),x[0]){case 0:case 1:p=x;break;case 4:return D.label++,{value:x[1],done:!1};case 5:D.label++,S=x[1],x=[0];continue;case 7:x=D.ops.pop(),D.trys.pop();continue;default:if(!(p=(p=D.trys).length>0&&p[p.length-1])&&(6===x[0]||2===x[0])){D=0;continue}if(3===x[0]&&(!p||x[1]>p[0]&&x[1]<p[3])){D.label=x[1];break}if(6===x[0]&&D.label<p[1]){D.label=p[1],p=x;break}if(p&&D.label<p[2]){D.label=p[2],D.ops.push(x);break}p[2]&&D.ops.pop(),D.trys.pop();continue}x=c.call(h,D)}catch(j){x=[6,j],S=0}finally{w=p=0}if(5&x[0])throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}([x,j])}}};Object.defineProperty(g,"__esModule",{value:!0}),g.VoiceVideoCallingProxy=void 0;var y=d(9600),_=(()=>{return(h=_||(_={}))[h.Voice=19237e4]="Voice",h[h.Video=19238e4]="Video",h[h.Cobrowse=19239e4]="Cobrowse",_;var h})(),b=(()=>{return(h=b||(b={})).Accept="accept",h.Reject="reject",h.Connect="connect",h.End="end",b;var h})(),m=(()=>{return(h=m||(m={})).CallAdded="callAdded",h.LocalVideoStreamAdded="localVideoStreamAdded",h.LocalVideoStreamRemoved="localVideoStreamRemoved",h.RemoteVideoStreamAdded="remoteVideoStreamAdded",h.RemoteVideoStreamRemoved="remoteVideoStreamRemoved",h.CallDisconnected="callDisconnected",h.ParticipantDisconnected="participantDisconnected",h.IncomingCallEnded="incomingCallEnded",m;var h})(),v=function(){function h(){this.debug=!1,this.callClientName="ElevateToVoiceVideo",this.proxy=window["Microsoft.Omnichannel.Calling.SDK"].VoiceVideoCalling,this.proxyInstance=this.proxy.getInstance()}return h.getInstance=function(){return this._instance||(this._instance=new h),this._instance},h.prototype.setDebug=function(c){this.debug=c},h.prototype.useScenarioMarker=function(c){this.scenarioMarker=c},h.prototype.load=function(c){return void 0===c&&(c={}),u(this,void 0,void 0,function(){return T(this,function(D){return c.logger&&(this.logger=c.logger),this.proxyInstance.load(c),[2]})})},h.prototype.isInitialized=function(){return this.proxyInstance.isInitialized()},h.prototype.initialize=function(c){var D,w,S,p,C,k,O,x;return u(this,void 0,void 0,function(){var j;return T(this,function(V){switch(V.label){case 0:return this.debug&&console.debug("[VoiceVideoCallingProxy] VoiceVideoCallingParams: "+JSON.stringify(c)),this.callingParams=c,null===(D=this.scenarioMarker)||void 0===D||D.startScenario(y.default.InitializeVoiceVideoCallingSDK),this.debug&&console.debug("[VoiceVideoCallingProxy][initialize] _isLoaded: "+this.proxyInstance._isLoaded),this.proxyInstance._isLoaded?[3,2]:[4,this.proxyInstance.load(this.logger||{})];case 1:V.sent(),V.label=2;case 2:return V.trys.push([2,4,,5]),[4,this.proxyInstance.initialize({callClientName:this.callClientName,accesstoken:(null===(S=null===(w=this.callingParams)||void 0===w?void 0:w.chatToken.voiceVideoCallToken)||void 0===S?void 0:S.Token)||(null===(p=this.callingParams)||void 0===p?void 0:p.chatToken.token),selfVideoHTMLElementId:null===(C=this.callingParams)||void 0===C?void 0:C.selfVideoHTMLElementId,remoteVideoHTMLElementId:null===(k=this.callingParams)||void 0===k?void 0:k.remoteVideoHTMLElementId})];case 3:return V.sent(),null===(O=this.scenarioMarker)||void 0===O||O.completeScenario(y.default.InitializeVoiceVideoCallingSDK),[3,5];case 4:return j=V.sent(),console.log(j),null===(x=this.scenarioMarker)||void 0===x||x.failScenario(y.default.InitializeVoiceVideoCallingSDK),[3,5];case 5:return[2]}})})},h.prototype.addEventListener=function(c,D){var w=this;this.proxyInstance.registerEvent(c,function(S){var p=S.callId;c===m.CallAdded&&(w.callId=p),w.debug&&console.debug("[VoiceVideoCallingProxy]["+c+"] callId: "+p),p===w.callId&&D(S)})},h.prototype.isMicrophoneMuted=function(){return this.proxyInstance.isMicrophoneMuted({callClientName:this.callClientName,callId:this.callId})},h.prototype.acceptCall=function(c){var D,w,S,p,C,k;return void 0===c&&(c={}),u(this,void 0,void 0,function(){var O,x,j,B,L;return T(this,function(G){switch(G.label){case 0:x=(O=this).callClientName,j=O.callId,null===(D=this.scenarioMarker)||void 0===D||D.startScenario(c.withVideo?y.default.AcceptVideoCall:y.default.AcceptVoiceCall,{CallId:j||""}),this.debug&&console.debug("[VoiceVideoCallingProxy][acceptCall] callId: "+j),this.debug&&console.debug(c),G.label=1;case 1:return G.trys.push([1,3,,4]),[4,this.proxyInstance.acceptCall({callClientName:x,callId:j,withVideo:c.withVideo||!1})];case 2:return G.sent(),[3,4];case 3:return G.sent(),L={response:c.withVideo?"AcceptVideoCallFailed":"AcceptVoiceCallFailed"},null===(w=this.scenarioMarker)||void 0===w||w.failScenario(c.withVideo?y.default.AcceptVideoCall:y.default.AcceptVoiceCall,{CallId:j||"",ExceptionDetails:JSON.stringify(L)}),[3,4];case 4:B={SecondaryChannelType:c.withVideo?_.Video:_.Voice,SecondaryChannelEventType:b.Accept};try{null===(S=this.callingParams)||void 0===S||S.OCClient.makeSecondaryChannelEventRequest(null===(p=this.callingParams)||void 0===p?void 0:p.chatToken.requestId,B),null===(C=this.scenarioMarker)||void 0===C||C.completeScenario(c.withVideo?y.default.AcceptVideoCall:y.default.AcceptVoiceCall,{CallId:j||""}),this.debug&&console.debug("[VoiceVideoCallingProxy][acceptCall][makeSecondaryChannelEventRequest]")}catch(Q){L={response:"OCClientMakeSecondaryChannelEventRequestFailed"},null===(k=this.scenarioMarker)||void 0===k||k.failScenario(c.withVideo?y.default.AcceptVideoCall:y.default.AcceptVoiceCall,{CallId:j||"",ExceptionDetails:JSON.stringify(L)}),console.error("[VoiceVideoCallingProxy][acceptCall][makeSecondaryChannelEventRequest] Failure "+Q)}return[2]}})})},h.prototype.rejectCall=function(){var c,D,w,S,p,C;return u(this,void 0,void 0,function(){var k,O,x,L,V;return T(this,function(B){switch(B.label){case 0:O=(k=this).callClientName,x=k.callId,null===(c=this.scenarioMarker)||void 0===c||c.startScenario(y.default.RejectCall,{CallId:x||""}),this.debug&&console.debug("[VoiceVideoCallingProxy][rejectCall] callId: "+x),B.label=1;case 1:return B.trys.push([1,3,,4]),[4,this.proxyInstance.rejectCall({callClientName:O,callId:x})];case 2:return B.sent(),null===(D=this.scenarioMarker)||void 0===D||D.completeScenario(y.default.RejectCall,{CallId:x||""}),[3,4];case 3:return B.sent(),V={response:"RejectCallFailed"},null===(w=this.scenarioMarker)||void 0===w||w.failScenario(y.default.RejectCall,{CallId:x||"",ExceptionDetails:JSON.stringify(V)}),[3,4];case 4:L={SecondaryChannelType:this.isRemoteVideoEnabled()?_.Video:_.Voice,SecondaryChannelEventType:b.Reject};try{null===(S=this.callingParams)||void 0===S||S.OCClient.makeSecondaryChannelEventRequest(null===(p=this.callingParams)||void 0===p?void 0:p.chatToken.requestId,L),this.debug&&console.debug("[VoiceVideoCallingProxy][rejectCall][makeSecondaryChannelEventRequest]")}catch(G){return V={response:"OCClientMakeSecondaryChannelEventRequestFailed"},null===(C=this.scenarioMarker)||void 0===C||C.failScenario(y.default.RejectCall,{CallId:x||"",ExceptionDetails:JSON.stringify(V)}),console.error("[VoiceVideoCallingProxy][rejectCall][makeSecondaryChannelEventRequest] Failure "+G),[2,G]}return[2]}})})},h.prototype.stopCall=function(){var c,D,w,S,p;return u(this,void 0,void 0,function(){var C,k,O,x;return T(this,function(V){switch(V.label){case 0:k=(C=this).callClientName,O=C.callId,null===(c=this.scenarioMarker)||void 0===c||c.startScenario(y.default.StopCall,{CallId:O||""}),this.debug&&console.debug("[VoiceVideoCallingProxy][stopCall] callId: "+O),x=!!(null===(w=null===(D=this.callingParams)||void 0===D?void 0:D.chatToken.voiceVideoCallToken)||void 0===w?void 0:w.Token),V.label=1;case 1:return V.trys.push([1,3,,4]),[4,this.proxyInstance.stopCall({callClientName:k,callId:O,forEveryone:x})];case 2:return V.sent(),null===(S=this.scenarioMarker)||void 0===S||S.completeScenario(y.default.StopCall,{CallId:O||""}),[3,4];case 3:return V.sent(),null===(p=this.scenarioMarker)||void 0===p||p.failScenario(y.default.StopCall,{CallId:O||""}),[3,4];case 4:return[2]}})})},h.prototype.toggleMute=function(){return u(this,void 0,void 0,function(){var c;return T(this,function(S){return[2,this.proxyInstance.toggleMute({callClientName:(c=this).callClientName,callId:c.callId})]})})},h.prototype.isRemoteVideoEnabled=function(){return this.proxyInstance.isRemoteVideoEnabled({callClientName:this.callClientName,callId:this.callId})},h.prototype.isLocalVideoEnabled=function(){return this.proxyInstance.isLocalVideoEnabled({callClientName:this.callClientName,callId:this.callId})},h.prototype.toggleLocalVideo=function(){return u(this,void 0,void 0,function(){var c;return T(this,function(S){return[2,this.proxyInstance.toggleLocalVideo({callClientName:(c=this).callClientName,callId:c.callId})]})})},h.prototype.isInACall=function(){return this.proxyInstance.isInACall({callClientName:this.callClientName,callId:this.callId})},h.prototype.renderVideoStreams=function(){return this.proxyInstance.renderVideoStreams({callClientName:this.callClientName,callId:this.callId})},h.prototype.disposeVideoRenderers=function(){return this.proxyInstance.disposeVideoRenderers({callClientName:this.callClientName,callId:this.callId})},h.prototype.close=function(){this.debug&&console.debug("[VoiceVideoCallingProxy][close]"),this.proxyInstance.dispose(),this.callingParams=void 0,this.callId=void 0},h.prototype.onCallAdded=function(c){var D=m.CallAdded;this.debug&&console.debug("[VoiceVideoCallingProxy]["+D+"]"),this.addEventListener(D,c)},h.prototype.onLocalVideoStreamAdded=function(c){var D=m.LocalVideoStreamAdded;this.debug&&console.debug("[VoiceVideoCallingProxy]["+D+"]"),this.addEventListener(D,c)},h.prototype.onLocalVideoStreamRemoved=function(c){var D=m.LocalVideoStreamRemoved;this.debug&&console.debug("[VoiceVideoCallingProxy]["+D+"]"),this.addEventListener(D,c)},h.prototype.onRemoteVideoStreamAdded=function(c){var D=m.RemoteVideoStreamAdded;this.debug&&console.debug("[VoiceVideoCallingProxy]["+D+"]"),this.addEventListener(D,c)},h.prototype.onRemoteVideoStreamRemoved=function(c){var D=m.RemoteVideoStreamRemoved;this.debug&&console.debug("[VoiceVideoCallingProxy]["+D+"]"),this.addEventListener(D,c)},h.prototype.onCallDisconnected=function(c){var D=this,w=m.CallDisconnected;this.debug&&console.debug("[VoiceVideoCallingProxy]["+w+"]"),this.addEventListener(w,function(S){return u(D,void 0,void 0,function(){var p,C,k,O,x,j,V;return T(this,function(L){p={SecondaryChannelType:_.Voice,SecondaryChannelEventType:b.End},null===(k=this.scenarioMarker)||void 0===k||k.startScenario(y.default.OnCallDisconnected,{CallId:this.callId||""});try{null===(O=this.callingParams)||void 0===O||O.OCClient.makeSecondaryChannelEventRequest(null===(x=this.callingParams)||void 0===x?void 0:x.chatToken.requestId,p),this.debug&&console.debug("[VoiceVideoCallingProxy][onCallDisconnected][makeSecondaryChannelEventRequest]"),null===(j=this.scenarioMarker)||void 0===j||j.completeScenario(y.default.OnCallDisconnected,{CallId:this.callId||""})}catch(B){console.error("[VoiceVideoCallingProxy][onCallDisconnected][makeSecondaryChannelEventRequest] Failure "+B),C={response:"OCClientMakeSecondaryChannelEventRequestFailed"},null===(V=this.scenarioMarker)||void 0===V||V.failScenario(y.default.OnCallDisconnected,{CallId:this.callId||"",ExceptionDetails:JSON.stringify(C)})}return this.clearRemoteVideoElementChildren(),c(S),[2]})})})},h.prototype.clearRemoteVideoElementChildren=function(){var c,D;if(null===(c=this.callingParams)||void 0===c?void 0:c.remoteVideoHTMLElementId)for(var w=document.getElementById(null===(D=this.callingParams)||void 0===D?void 0:D.remoteVideoHTMLElementId);null==w?void 0:w.firstChild;)this.debug&&console.debug("[VoiceVideoCallingProxy][clearRemoteVideoElement]"),w.firstChild.remove()},h}();g.VoiceVideoCallingProxy=v,g.default=function(h){return void 0===h&&(h={}),u(void 0,void 0,void 0,function(){var c;return T(this,function(D){switch(D.label){case 0:return[4,(c=v.getInstance()).load(h.logger)];case 1:return D.sent(),[2,Promise.resolve(c)]}})})}},4151:(z,g)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.ariaTelemetryKey=g.webChatIC3AdapterVersion=g.ic3ClientVersion=void 0,g.ic3ClientVersion="2021.08.14.1",g.webChatIC3AdapterVersion="0.1.0-master.2dba07b",g.ariaTelemetryKey="c7655518acf1403f93ff6b9f77942f0a-d01a02fd-6b50-4de3-a566-62eda11f93bc-7083"},6419:(z,g)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var d=(()=>{return(u=d||(d={}))[u.NoCalling=19235e4]="NoCalling",u[u.VideoAndVoiceCalling=192350001]="VideoAndVoiceCalling",u[u.VoiceOnly=192350002]="VoiceOnly",d;var u})();g.default=d},6397:(z,g)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.default={IC3:"IC3",DirectLine:"DirectLine"}},7925:(z,g)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var d=(()=>{return(u=d||(d={}))[u.LiveChat=19235e4]="LiveChat",u[u.PersistentChat=192350001]="PersistentChat",d;var u})();g.default=d},5642:(z,g)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var d=(()=>{return(u=d||(d={})).Active="Active",u.Closed="Closed",u.Open="Open",u.Waiting="Waiting",u.WrapUp="WrapUp",d;var u})();g.default=d},2626:(z,g)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.defaultMessageTags=void 0,g.defaultMessageTags=["ChannelId-lcw"]},9451:(z,g)=>{"use strict";var u;Object.defineProperty(g,"__esModule",{value:!0}),(u=g._BondDataType||(g._BondDataType={}))[u._BT_STOP=0]="_BT_STOP",u[u._BT_STOP_BASE=1]="_BT_STOP_BASE",u[u._BT_BOOL=2]="_BT_BOOL",u[u._BT_DOUBLE=8]="_BT_DOUBLE",u[u._BT_STRING=9]="_BT_STRING",u[u._BT_STRUCT=10]="_BT_STRUCT",u[u._BT_LIST=11]="_BT_LIST",u[u._BT_MAP=13]="_BT_MAP",u[u._BT_INT32=16]="_BT_INT32",u[u._BT_INT64=17]="_BT_INT64"},1464:(z,g,d)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var u=d(6649),T=d(5644),y=d(514);g._Utf8_GetBytes=function(D){for(var w=[],S=0;S<D.length;++S){var p=D.charCodeAt(S);p<128?w.push(p):p<2048?w.push(192|p>>6,128|63&p):p<55296||p>=57344?w.push(224|p>>12,128|p>>6&63,128|63&p):(p=65536+((1023&p)<<10|1023&D.charCodeAt(++S)),w.push(240|p>>18,128|p>>12&63,128|p>>6&63,128|63&p))}return w},g._Base64_GetString=function(D){for(var w="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",S=[],p=D.length%3,k=0,O=D.length-p;k<O;k+=3)S.push([w.charAt((V=x=(D[k]<<16)+(D[k+1]<<8)+D[k+2])>>18&63),w.charAt(V>>12&63),w.charAt(V>>6&63),w.charAt(63&V)].join(""));var V;switch(p){case 1:var x;S.push(w.charAt((x=D[D.length-1])>>2)),S.push(w.charAt(x<<4&63)),S.push("==");break;case 2:var j=(D[D.length-2]<<8)+D[D.length-1];S.push(w.charAt(j>>10)),S.push(w.charAt(j>>4&63)),S.push(w.charAt(j<<2&63)),S.push("=")}return S.join("")},g._Varint_GetBytes=function(D){for(var w=[];4294967168&D;)w.push(127&D|128),D>>>=7;return w.push(127&D),w},g._Varint64_GetBytes=function(D){for(var w=D.low,S=D.high,p=[];S||4294967168&w;)p.push(127&w|128),w=(127&S)<<25|w>>>7,S>>>=7;return p.push(127&w),p},g._Double_GetBytes=function(D){if(y.BrowserChecker._IsDataViewSupport()){var w=new DataView(new ArrayBuffer(8));w.setFloat64(0,D,!0);for(var S=[],p=0;p<8;++p)S.push(w.getUint8(p));return S}return T.FloatUtils._ConvertNumberToArray(D,!0)},g._Zigzag_EncodeZigzag32=function(D){return(D=u.Number._ToInt32(D))<<1^D>>31},g._Zigzag_EncodeZigzag64=function(D){var w=D.low,S=D.high,p=S<<1|w>>>31,C=w<<1;2147483648&S&&(p=~p,C=~C);var k=new u.UInt64("0");return k.low=C,k.high=p,k}},5644:(z,g)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var d=function(){function u(){}return u._ConvertNumberToArray=function(T,y){if(!T)return y?this._doubleZero:this._floatZero;var b=y?52:23,m=(1<<(y?11:8)-1)-1,v=1-m,I=m,h=T<0?1:0;T=Math.abs(T);for(var c=Math.floor(T),D=T-c,w=2*(m+2)+b,S=new Array(w),p=0;p<w;)S[p++]=0;for(p=m+2;p&&c;)S[--p]=c%2,c=Math.floor(c/2);for(p=m+1;p<w-1&&D>0;)(D*=2)>=1?(S[++p]=1,--D):S[++p]=0;for(var C=0;C<w&&!S[C];)C++;var k=m+1-C,O=C+b;if(S[O+1]){for(p=O;p>C&&(S[p]=1-S[p],!S);--p);p===C&&++k}if(k>I||c)return h?y?this._doubleNegInifinity:this._floatNegInifinity:y?this._doubleInifinity:this._floatInifinity;if(k<v)return y?this._doubleZero:this._floatZero;if(y){var x=0;for(p=0;p<20;++p)x=x<<1|S[++C];for(var j=0;p<52;++p)j=j<<1|S[++C];return[255&j,j>>8&255,j>>16&255,j>>>24,255&(x=h<<31|2147483647&(x|=k+m<<20)),x>>8&255,x>>16&255,x>>>24]}var L=0;for(p=0;p<23;++p)L=L<<1|S[++C];return[255&(L=h<<31|2147483647&(L|=k+m<<23)),L>>8&255,L>>16&255,L>>>24]},u._floatZero=[0,0,0,0],u._doubleZero=[0,0,0,0,0,0,0,0],u._floatInifinity=[0,0,128,127],u._floatNegInifinity=[0,0,128,255],u._doubleInifinity=[0,0,0,0,0,0,240,127],u._doubleNegInifinity=[0,0,0,0,0,0,240,255],u}();g.FloatUtils=d},67:(z,g,d)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var u=d(6649),T=function(){function y(){this._buffer=[]}return y.prototype._WriteByte=function(_){this._buffer.push(u.Number._ToByte(_))},y.prototype._Write=function(_,b,m){for(;m--;)this._WriteByte(_[b++])},y.prototype._GetBuffer=function(){return this._buffer},y}();g.MemoryStream=T},4356:(z,g,d)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var u=d(9451);g._BondDataType=u._BondDataType;var T=d(1464);g._Encoding=T;var y=d(67);g.IO=y;var _=d(6649);g.Int64=_.Int64,g.UInt64=_.UInt64,g.Number=_.Number;var b=function(){function m(v){this._stream=v}return m.prototype._WriteBlob=function(v){this._stream._Write(v,0,v.length)},m.prototype._WriteBool=function(v){this._stream._WriteByte(v?1:0)},m.prototype._WriteContainerBegin=function(v,I){this._WriteUInt8(I),this._WriteUInt32(v)},m.prototype._WriteMapContainerBegin=function(v,I,h){this._WriteUInt8(I),this._WriteUInt8(h),this._WriteUInt32(v)},m.prototype._WriteDouble=function(v){var I=T._Double_GetBytes(v);this._stream._Write(I,0,I.length)},m.prototype._WriteFieldBegin=function(v,I,h){I<=5?this._stream._WriteByte(v|I<<5):I<=255?(this._stream._WriteByte(192|v),this._stream._WriteByte(I)):(this._stream._WriteByte(224|v),this._stream._WriteByte(I),this._stream._WriteByte(I>>8))},m.prototype._WriteInt32=function(v){v=T._Zigzag_EncodeZigzag32(v),this._WriteUInt32(v)},m.prototype._WriteInt64=function(v){this._WriteUInt64(T._Zigzag_EncodeZigzag64(v))},m.prototype._WriteString=function(v){if(""===v)this._WriteUInt32(0);else{var I=T._Utf8_GetBytes(v);this._WriteUInt32(I.length),this._stream._Write(I,0,I.length)}},m.prototype._WriteStructEnd=function(v){this._WriteUInt8(v?u._BondDataType._BT_STOP_BASE:u._BondDataType._BT_STOP)},m.prototype._WriteUInt32=function(v){var I=T._Varint_GetBytes(_.Number._ToUInt32(v));this._stream._Write(I,0,I.length)},m.prototype._WriteUInt64=function(v){var I=T._Varint64_GetBytes(v);this._stream._Write(I,0,I.length)},m.prototype._WriteUInt8=function(v){this._stream._WriteByte(_.Number._ToUInt8(v))},m}();g.CompactBinaryProtocolWriter=b},6649:(z,g)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var d=function(){function y(_){this.low=0,this.high=0,this.low=parseInt(_,10),this.low<0&&(this.high=-1)}return y.prototype._Equals=function(_){var b=new y(_);return this.low===b.low&&this.high===b.high},y}();g.Int64=d;var u=function(){function y(_){this.low=0,this.high=0,this.low=parseInt(_,10)}return y.prototype._Equals=function(_){var b=new y(_);return this.low===b.low&&this.high===b.high},y}();g.UInt64=u;var T=function(){function y(){}return y._ToByte=function(_){return this._ToUInt8(_)},y._ToUInt8=function(_){return 255&_},y._ToInt32=function(_){return 2147483647&_|2147483648&_},y._ToUInt32=function(_){return 4294967295&_},y}();g.Number=T},514:(z,g)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var d=function(){function u(){}return u._IsDataViewSupport=function(){return"undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},u}();g.BrowserChecker=d},4501:(z,g)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var d=function(){function u(T){this.clockSkewRefreshDurationInMins=T,this._reset()}return u.prototype.allowRequestSending=function(){return this._isFirstRequest&&!this._clockSkewSet?(this._isFirstRequest=!1,this._allowRequestSending=!1,!0):this._allowRequestSending},u.prototype.shouldAddClockSkewHeaders=function(){return this._shouldAddClockSkewHeaders},u.prototype.getClockSkewHeaderValue=function(){return this._clockSkewHeaderValue},u.prototype.setClockSkew=function(T){this._clockSkewSet||(T?this._clockSkewHeaderValue=T:this._shouldAddClockSkewHeaders=!1,this._clockSkewSet=!0,this._allowRequestSending=!0)},u.prototype._reset=function(){var T=this;this._isFirstRequest=!0,this._clockSkewSet=!1,this._allowRequestSending=!0,this._shouldAddClockSkewHeaders=!0,this._clockSkewHeaderValue="use-collector-delta",this.clockSkewRefreshDurationInMins>0&&setTimeout(function(){return T._reset()},6e4*this.clockSkewRefreshDurationInMins)},u}();g.default=d},7190:(z,g)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var u=function(){function T(){this._killedTokenDictionary={}}return T.prototype.setKillSwitchTenants=function(y,_){if(y&&_)try{var b=y.split(",");if("this-request-only"===_)return b;for(var m=1e3*parseInt(_,10),v=0;v<b.length;++v)this._killedTokenDictionary[b[v]]=Date.now()+m}catch(I){return[]}return[]},T.prototype.isTenantKilled=function(y){return void 0!==this._killedTokenDictionary[y]&&this._killedTokenDictionary[y]>Date.now()||(delete this._killedTokenDictionary[y],!1)},T}();g.default=u},2551:(z,g)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var d=function(){function u(){}return u.addNotificationListener=function(T){this.listeners.push(T)},u.removeNotificationListener=function(T){for(var y=this.listeners.indexOf(T);y>-1;)this.listeners.splice(y,1),y=this.listeners.indexOf(T)},u.eventsSent=function(T){for(var y=this,_=function(v){b.listeners[v].eventsSent&&setTimeout(function(){return y.listeners[v].eventsSent(T)},0)},b=this,m=0;m<this.listeners.length;++m)_(m)},u.eventsDropped=function(T,y){for(var _=this,b=function(I){m.listeners[I].eventsDropped&&setTimeout(function(){return _.listeners[I].eventsDropped(T,y)},0)},m=this,v=0;v<this.listeners.length;++v)b(v)},u.eventsRetrying=function(T){for(var y=this,_=function(v){b.listeners[v].eventsRetrying&&setTimeout(function(){return y.listeners[v].eventsRetrying(T)},0)},b=this,m=0;m<this.listeners.length;++m)_(m)},u.eventsRejected=function(T,y){for(var _=this,b=function(I){m.listeners[I].eventsRejected&&setTimeout(function(){return _.listeners[I].eventsRejected(T,y)},0)},m=this,v=0;v<this.listeners.length;++v)b(v)},u.listeners=[],u}();g.default=d},2659:(z,g,d)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var u=d(676),T=function(){function y(_,b){this._outboundQueue=_,this._maxNumberOfEvents=b,this._currentBatch={},this._currentNumEventsInBatch=0}return y.prototype.addEventToBatch=function(_){if(_.priority===u.AWTEventPriority.Immediate_sync){var b={};return b[_.apiKey]=[_],b}return this._currentNumEventsInBatch>=this._maxNumberOfEvents&&this.flushBatch(),void 0===this._currentBatch[_.apiKey]&&(this._currentBatch[_.apiKey]=[]),this._currentBatch[_.apiKey].push(_),this._currentNumEventsInBatch++,null},y.prototype.flushBatch=function(){this._currentNumEventsInBatch>0&&(this._outboundQueue.push(this._currentBatch),this._currentBatch={},this._currentNumEventsInBatch=0)},y.prototype.hasBatch=function(){return this._currentNumEventsInBatch>0},y}();g.default=T},7270:(z,g)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var _=function(){function b(){}return b.shouldRetryForStatus=function(m){return!(m>=300&&m<500&&408!==m||501===m||505===m)},b.getMillisToBackoffForRetry=function(m){var v,c=Math.floor(1200*Math.random())+2400;return v=Math.pow(4,m)*c,Math.min(v,12e4)},b}();g.default=_},6064:(z,g,d)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var u=d(4356),T=d(676),y=d(2551),_=d(5593),b=2936012,m=function(){function v(){}return v.getPayloadBlob=function(I,h){var D,c=!1,w=new u.IO.MemoryStream,S=new u.CompactBinaryProtocolWriter(w);for(var p in S._WriteFieldBegin(u._BondDataType._BT_MAP,3,null),S._WriteMapContainerBegin(h,u._BondDataType._BT_STRING,u._BondDataType._BT_LIST),I)if(c)D||(D={}),D[p]=I[p],delete I[p];else if(I.hasOwnProperty(p)){S._WriteString(p);var C=I[p];S._WriteContainerBegin(1,u._BondDataType._BT_STRUCT),S._WriteFieldBegin(u._BondDataType._BT_STRING,2,null),S._WriteString("act_default_source"),S._WriteFieldBegin(u._BondDataType._BT_STRING,5,null),S._WriteString(_.newGuid()),S._WriteFieldBegin(u._BondDataType._BT_INT64,6,null),S._WriteInt64(_.numberToBondInt64(Date.now())),S._WriteFieldBegin(u._BondDataType._BT_LIST,8,null);var k=w._GetBuffer().length+1;S._WriteContainerBegin(I[p].length,u._BondDataType._BT_STRUCT);for(var O=w._GetBuffer().length-k,x=0;x<C.length;++x){var j=w._GetBuffer().length;if(this.writeEvent(C[x],S),w._GetBuffer().length-j>b)y.default.eventsRejected([C[x]],T.AWTEventsRejectedReason.SizeLimitExceeded),C.splice(x--,1),w._GetBuffer().splice(j),this._addNewDataPackageSize(C.length,w,O,k);else if(w._GetBuffer().length>b){w._GetBuffer().splice(j),D||(D={}),I[p]=C.splice(0,x),D[p]=C,this._addNewDataPackageSize(I[p].length,w,O,k),c=!0;break}}S._WriteStructEnd(!1)}return S._WriteStructEnd(!1),{payloadBlob:w._GetBuffer(),remainingRequest:D}},v._addNewDataPackageSize=function(I,h,c,D){for(var w=u._Encoding._Varint_GetBytes(u.Number._ToUInt32(I)),S=0;S<c;++S){if(!(S<w.length)){h._GetBuffer().slice(D+S,c-S);break}h._GetBuffer()[D+S]=w[S]}},v.writeEvent=function(I,h){h._WriteFieldBegin(u._BondDataType._BT_STRING,1,null),h._WriteString(I.id),h._WriteFieldBegin(u._BondDataType._BT_INT64,3,null),h._WriteInt64(_.numberToBondInt64(I.timestamp)),h._WriteFieldBegin(u._BondDataType._BT_STRING,5,null),h._WriteString(I.type),h._WriteFieldBegin(u._BondDataType._BT_STRING,6,null),h._WriteString(I.name);var c={},D=0,w={},S=0,p={},C=0,k={},O=0,x={},j=0,V={},L=0,B={},G=0;for(var Q in I.properties)if(I.properties.hasOwnProperty(Q))if(($=I.properties[Q]).cc>0)B[Q]=$,G++;else if($.pii>0)V[Q]=$,L++;else switch($.type){case T.AWTPropertyType.String:c[Q]=$.value,D++;break;case T.AWTPropertyType.Int64:w[Q]=$.value,S++;break;case T.AWTPropertyType.Double:p[Q]=$.value,C++;break;case T.AWTPropertyType.Boolean:k[Q]=$.value,O++;break;case T.AWTPropertyType.Date:x[Q]=$.value,j++}if(D)for(var Q in h._WriteFieldBegin(u._BondDataType._BT_MAP,13,null),h._WriteMapContainerBegin(D,u._BondDataType._BT_STRING,u._BondDataType._BT_STRING),c)if(c.hasOwnProperty(Q)){var ue=c[Q];h._WriteString(Q),h._WriteString(ue.toString())}if(L)for(var Q in h._WriteFieldBegin(u._BondDataType._BT_MAP,30,null),h._WriteMapContainerBegin(L,u._BondDataType._BT_STRING,u._BondDataType._BT_STRUCT),V)if(V.hasOwnProperty(Q)){var $=V[Q];h._WriteString(Q),h._WriteFieldBegin(u._BondDataType._BT_INT32,1,null),h._WriteInt32(1),h._WriteFieldBegin(u._BondDataType._BT_INT32,2,null),h._WriteInt32($.pii),h._WriteFieldBegin(u._BondDataType._BT_STRING,3,null),h._WriteString($.value.toString()),h._WriteStructEnd(!1)}if(O)for(var Q in h._WriteFieldBegin(u._BondDataType._BT_MAP,31,null),h._WriteMapContainerBegin(O,u._BondDataType._BT_STRING,u._BondDataType._BT_BOOL),k)k.hasOwnProperty(Q)&&(ue=k[Q],h._WriteString(Q),h._WriteBool(ue));if(j)for(var Q in h._WriteFieldBegin(u._BondDataType._BT_MAP,32,null),h._WriteMapContainerBegin(j,u._BondDataType._BT_STRING,u._BondDataType._BT_INT64),x)x.hasOwnProperty(Q)&&(ue=x[Q],h._WriteString(Q),h._WriteInt64(_.numberToBondInt64(ue)));if(S)for(var Q in h._WriteFieldBegin(u._BondDataType._BT_MAP,33,null),h._WriteMapContainerBegin(S,u._BondDataType._BT_STRING,u._BondDataType._BT_INT64),w)w.hasOwnProperty(Q)&&(ue=w[Q],h._WriteString(Q),h._WriteInt64(_.numberToBondInt64(ue)));if(C)for(var Q in h._WriteFieldBegin(u._BondDataType._BT_MAP,34,null),h._WriteMapContainerBegin(C,u._BondDataType._BT_STRING,u._BondDataType._BT_DOUBLE),p)p.hasOwnProperty(Q)&&(ue=p[Q],h._WriteString(Q),h._WriteDouble(ue));if(G)for(var Q in h._WriteFieldBegin(u._BondDataType._BT_MAP,36,null),h._WriteMapContainerBegin(G,u._BondDataType._BT_STRING,u._BondDataType._BT_STRUCT),B)B.hasOwnProperty(Q)&&($=B[Q],h._WriteString(Q),h._WriteFieldBegin(u._BondDataType._BT_INT32,1,null),h._WriteInt32($.cc),h._WriteFieldBegin(u._BondDataType._BT_STRING,2,null),h._WriteString($.value.toString()),h._WriteStructEnd(!1));h._WriteStructEnd(!1)},v.base64Encode=function(I){return u._Encoding._Base64_GetString(I)},v}();g.default=m},5816:(z,g,d)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var u=d(5593),T=d(2551),y=d(676),b=function(){function m(){}return m.initialize=function(v){var I=this;this._sendStats=v,this._isInitalized=!0,T.default.addNotificationListener({eventsSent:function(h){I._addStat("records_sent_count",h.length,h[0].apiKey)},eventsDropped:function(h,c){switch(c){case y.AWTEventsDroppedReason.NonRetryableStatus:I._addStat("d_send_fail",h.length,h[0].apiKey),I._addStat("records_dropped_count",h.length,h[0].apiKey);break;case y.AWTEventsDroppedReason.MaxRetryLimit:I._addStat("d_retry_limit",h.length,h[0].apiKey),I._addStat("records_dropped_count",h.length,h[0].apiKey);break;case y.AWTEventsDroppedReason.QueueFull:I._addStat("d_queue_full",h.length,h[0].apiKey)}},eventsRejected:function(h,c){switch(c){case y.AWTEventsRejectedReason.InvalidEvent:I._addStat("r_inv",h.length,h[0].apiKey);break;case y.AWTEventsRejectedReason.KillSwitch:I._addStat("r_kl",h.length,h[0].apiKey);break;case y.AWTEventsRejectedReason.SizeLimitExceeded:I._addStat("r_size",h.length,h[0].apiKey)}I._addStat("r_count",h.length,h[0].apiKey)},eventsRetrying:null}),setTimeout(function(){return I.flush()},6e4)},m.teardown=function(){this._isInitalized&&(this.flush(),this._isInitalized=!1)},m.eventReceived=function(v){m._addStat("records_received_count",1,v)},m.flush=function(){var v=this;if(this._isInitalized){for(var I in this._stats)this._stats.hasOwnProperty(I)&&this._sendStats(this._stats[I],I);this._stats={},setTimeout(function(){return v.flush()},6e4)}},m._addStat=function(v,I,h){if(this._isInitalized&&h!==u.StatsApiKey){var c=u.getTenantId(h);this._stats[c]||(this._stats[c]={}),this._stats[c][v]=this._stats[c][v]?this._stats[c][v]+I:I}},m._isInitalized=!1,m._stats={},m}();g.default=b},676:(z,g)=>{"use strict";var m;Object.defineProperty(g,"__esModule",{value:!0}),(m=g.AWTPropertyType||(g.AWTPropertyType={}))[m.Unspecified=0]="Unspecified",m[m.String=1]="String",m[m.Int64=2]="Int64",m[m.Double=3]="Double",m[m.Boolean=4]="Boolean",m[m.Date=5]="Date",function(m){m[m.NotSet=0]="NotSet",m[m.DistinguishedName=1]="DistinguishedName",m[m.GenericData=2]="GenericData",m[m.IPV4Address=3]="IPV4Address",m[m.IPv6Address=4]="IPv6Address",m[m.MailSubject=5]="MailSubject",m[m.PhoneNumber=6]="PhoneNumber",m[m.QueryString=7]="QueryString",m[m.SipAddress=8]="SipAddress",m[m.SmtpAddress=9]="SmtpAddress",m[m.Identity=10]="Identity",m[m.Uri=11]="Uri",m[m.Fqdn=12]="Fqdn",m[m.IPV4AddressLegacy=13]="IPV4AddressLegacy"}(g.AWTPiiKind||(g.AWTPiiKind={})),function(m){m[m.NotSet=0]="NotSet",m[m.GenericContent=1]="GenericContent"}(g.AWTCustomerContentKind||(g.AWTCustomerContentKind={})),function(m){m[m.Low=1]="Low",m[m.Normal=2]="Normal",m[m.High=3]="High",m[m.Immediate_sync=5]="Immediate_sync"}(g.AWTEventPriority||(g.AWTEventPriority={})),function(m){m[m.NonRetryableStatus=1]="NonRetryableStatus",m[m.QueueFull=3]="QueueFull",m[m.MaxRetryLimit=4]="MaxRetryLimit"}(g.AWTEventsDroppedReason||(g.AWTEventsDroppedReason={})),function(m){m[m.InvalidEvent=1]="InvalidEvent",m[m.SizeLimitExceeded=2]="SizeLimitExceeded",m[m.KillSwitch=3]="KillSwitch"}(g.AWTEventsRejectedReason||(g.AWTEventsRejectedReason={}))},5593:(z,g,d)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var u=d(6649),T=d(676),y=/[xy]/g,m=null;g.EventNameAndTypeRegex=/^[a-zA-Z]([a-zA-Z0-9]|_){2,98}[a-zA-Z0-9]$/,g.EventNameDotRegex=/\./g,g.PropertyNameRegex=/^[a-zA-Z](([a-zA-Z0-9|_|\.]){0,98}[a-zA-Z0-9])?$/,g.StatsApiKey="a387cfcf60114a43a7699f9fbb49289e-9bceb9fe-1c06-460f-96c5-6a0b247358bc-7238";var v=m,I=m,h=m;function w(R){return"string"==typeof R}function S(R){return"number"==typeof R}function p(R){return"boolean"==typeof R}function C(R){return R instanceof Date}function k(R){return 1e4*(R+621355968e5)}function $(){return!("undefined"==typeof navigator||!navigator.product)&&"ReactNative"===navigator.product}function ue(){return"object"==typeof self&&"ServiceWorkerGlobalScope"===self.constructor.name}function q(R){return R<10?"0"+R:R.toString()}function A(R){return void 0===R||R===m||""===R}g.numberToBondInt64=function(R){var U=new u.Int64("0");return U.low=4294967295&R,U.high=Math.floor(R/4294967296),U},g.newGuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(y,function(R){var U=16*Math.random()|0;return("x"===R?U:3&U|8).toString(16)})},g.isString=w,g.isNumber=S,g.isBoolean=p,g.isDate=C,g.msToTicks=k,g.getTenantId=function(R){var U=R.indexOf("-");return U>-1?R.substring(0,U):""},g.isBeaconsSupported=function(){return v===m&&(v="undefined"!=typeof navigator&&Boolean(navigator.sendBeacon)),v},g.isUint8ArrayAvailable=function(){return I===m&&(I="undefined"!=typeof Uint8Array&&!function(){if("undefined"!=typeof navigator&&navigator.userAgent){var R=navigator.userAgent.toLowerCase();if((R.indexOf("safari")>=0||R.indexOf("firefox")>=0)&&R.indexOf("chrome")<0)return!0}return!1}()&&!$()),I},g.isPriority=function(R){return!(!S(R)||!(R>=1&&R<=3||5===R))},g.sanitizeProperty=function(R,U){return!g.PropertyNameRegex.test(R)||A(U)||(A(U.value)&&(U={value:U,type:T.AWTPropertyType.Unspecified}),U.type=function(R,U){switch(U=function(R){return!!(S(R)&&R>=0&&R<=4)}(U)?U:T.AWTPropertyType.Unspecified){case T.AWTPropertyType.Unspecified:return function(R){switch(typeof R){case"string":return T.AWTPropertyType.String;case"boolean":return T.AWTPropertyType.Boolean;case"number":return T.AWTPropertyType.Double;case"object":return C(R)?T.AWTPropertyType.Date:m}return m}(R);case T.AWTPropertyType.String:return w(R)?U:m;case T.AWTPropertyType.Boolean:return p(R)?U:m;case T.AWTPropertyType.Date:return C(R)&&NaN!==R.getTime()?U:m;case T.AWTPropertyType.Int64:return S(R)&&R%1==0?U:m;case T.AWTPropertyType.Double:return S(R)?U:m}return m}(U.value,U.type),!U.type)||(C(U.value)&&(U.value=k(U.value.getTime())),U.pii>0&&U.cc>0)?m:U.pii?function(R){return!!(S(R)&&R>=0&&R<=13)}(U.pii)?U:m:U.cc?function(R){return!!(S(R)&&R>=0&&R<=1)}(U.cc)?U:m:U},g.getISOString=function(R){return R.getUTCFullYear()+"-"+q(R.getUTCMonth()+1)+"-"+q(R.getUTCDate())+"T"+q(R.getUTCHours())+":"+q(R.getUTCMinutes())+":"+q(R.getUTCSeconds())+"."+function(R){return R<10?"00"+R:R<100?"0"+R:R.toString()}(R.getUTCMilliseconds())+"Z"},g.useXDomainRequest=function(){if(h===m){var R=new XMLHttpRequest;h=void 0===R.withCredentials&&"undefined"!=typeof XDomainRequest}return h},g.useFetchRequest=function(){return $()||ue()},g.isReactNative=$,g.isServiceWorkerGlobalScope=ue},4094:(z,g,d)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var u=d(5593),T="MicrosoftApplicationsTelemetryDeviceId",y="MicrosoftApplicationsTelemetryFirstLaunchTime",m_WIN=/(windows|win32)/i,m_WINRT=/ arm;/i,m_WINPHONE=/windows\sphone\s\d+\.\d+/i,m_OSX=/(macintosh|mac os x)/i,m_IOS=/(iPad|iPhone|iPod)(?=.*like Mac OS X)/i,m_LINUX=/(linux|joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk)/i,m_ANDROID=/android/i,m_CROS=/CrOS/i,v={5.1:"XP","6.0":"Vista",6.1:"7",6.2:"8",6.3:"8.1","10.0":"10"},I="([\\d,.]+)",c="Unknown",D="undefined",w=function(){function S(){}return S.addPropertyStorageOverride=function(p){return!!p&&(this._propertyStorage=p,!0)},S.autoCollect=function(p,C,k){if(this._semanticContext=p,this._disableCookies=C,this._autoCollect(),!k&&typeof navigator!==D&&(k=navigator.userAgent||""),this._autoCollectFromUserAgent(k),this._disableCookies&&!this._propertyStorage)return this._deleteCookie(T),void this._deleteCookie(y);(this._propertyStorage||this._areCookiesAvailable&&!this._disableCookies)&&this._autoCollectDeviceId()},S.checkAndSaveDeviceId=function(p){if(p){var C=this._getData(T),k=this._getData(y);C!==p&&(k=u.getISOString(new Date)),this._saveData(T,p),this._saveData(y,k),this._setFirstLaunchTime(k)}},S._autoCollectDeviceId=function(){var p=this._getData(T);p||(p=u.newGuid()),this._semanticContext.setDeviceId(p)},S._autoCollect=function(){typeof document!==D&&document.documentElement&&this._semanticContext.setAppLanguage(document.documentElement.lang),typeof navigator!==D&&this._semanticContext.setUserLanguage(navigator.userLanguage||navigator.language);var p=(new Date).getTimezoneOffset(),C=p%60,k=(p-C)/60,O="+";k>0&&(O="-"),k=Math.abs(k),C=Math.abs(C),this._semanticContext.setUserTimeZone(O+(k<10?"0"+k:k.toString())+":"+(C<10?"0"+C:C.toString()))},S._autoCollectFromUserAgent=function(p){if(p){var C=this._getBrowserName(p);this._semanticContext.setDeviceBrowserName(C),this._semanticContext.setDeviceBrowserVersion(this._getBrowserVersion(p,C));var k=this._getOsName(p);this._semanticContext.setDeviceOsName(k),this._semanticContext.setDeviceOsVersion(this._getOsVersion(p,k))}},S._getBrowserName=function(p){return this._userAgentContainsString("OPR/",p)?"Opera":this._userAgentContainsString("PhantomJS",p)?"PhantomJS":this._userAgentContainsString("Edge",p)||this._userAgentContainsString("Edg",p)?"Edge":this._userAgentContainsString("Electron",p)?"Electron":this._userAgentContainsString("Chrome",p)?"Chrome":this._userAgentContainsString("Trident",p)?"MSIE":this._userAgentContainsString("Firefox",p)?"Firefox":this._userAgentContainsString("Safari",p)?"Safari":this._userAgentContainsString("SkypeShell",p)?"SkypeShell":c},S._setFirstLaunchTime=function(p){if(!isNaN(p)){var C=new Date;C.setTime(parseInt(p,10)),p=u.getISOString(C)}this.firstLaunchTime=p},S._userAgentContainsString=function(p,C){return C.indexOf(p)>-1},S._getBrowserVersion=function(p,C){if("MSIE"===C)return this._getIeVersion(p);if("Edge"===C){var k=this._getOtherVersion(C,p);return k===c?this._getOtherVersion("Edg",p):k}return this._getOtherVersion(C,p)},S._getIeVersion=function(p){var C=p.match(new RegExp("MSIE "+I));if(C)return C[1];var k=p.match(new RegExp("rv:"+I));return k?k[1]:void 0},S._getOtherVersion=function(p,C){"Safari"===p&&(p="Version");var k=C.match(new RegExp(p+"/"+I));return k?k[1]:c},S._getOsName=function(p){return p.match(m_WINPHONE)?"Windows Phone":p.match(m_WINRT)?"Windows RT":p.match(m_IOS)?"iOS":p.match(m_ANDROID)?"Android":p.match(m_LINUX)?"Linux":p.match(m_OSX)?"Mac OS X":p.match(m_WIN)?"Windows":p.match(m_CROS)?"Chrome OS":c},S._getOsVersion=function(p,C){return"Windows"===C?this._getGenericOsVersion(p,"Windows NT"):"Android"===C?this._getGenericOsVersion(p,C):"Mac OS X"===C?this._getMacOsxVersion(p):c},S._getGenericOsVersion=function(p,C){var k=p.match(new RegExp(C+" "+I));return k?v[k[1]]?v[k[1]]:k[1]:c},S._getMacOsxVersion=function(p){var C=p.match(new RegExp("Mac OS X ([\\d,_,.]+)"));if(C){var k=C[1].replace(/_/g,".");if(k){var O=this._getDelimiter(k);return O?k.split(O)[0]:k}}return c},S._getDelimiter=function(p){return p.indexOf(".")>-1?".":p.indexOf("_")>-1?"_":null},S._saveData=function(p,C){if(this._propertyStorage)this._propertyStorage.setProperty(p,C);else if(this._areCookiesAvailable){var k=new Date;k.setTime(k.getTime()+31536e6);var O="expires="+k.toUTCString();document.cookie=p+"="+C+"; "+O}},S._getData=function(p){if(this._propertyStorage)return this._propertyStorage.getProperty(p)||"";if(this._areCookiesAvailable){p+="=";for(var C=document.cookie.split(";"),k=0;k<C.length;k++){for(var O=C[k],x=0;" "===O.charAt(x);)x++;if(0===(O=O.substring(x)).indexOf(p))return O.substring(p.length,O.length)}}return""},S._deleteCookie=function(p){this._areCookiesAvailable&&(document.cookie=p+"=;expires=Thu, 01 Jan 1970 00:00:01 GMT;")},S._disableCookies=!1,S._areCookiesAvailable=typeof document!==D&&typeof document.cookie!==D,S}();g.default=w},58:(z,g,d)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var u=d(5593),T=d(676),y=function(){function _(b){this._event={name:"",properties:{}},b&&this.setName(b)}return _.prototype.setName=function(b){this._event.name=b},_.prototype.getName=function(){return this._event.name},_.prototype.setType=function(b){this._event.type=b},_.prototype.getType=function(){return this._event.type},_.prototype.setTimestamp=function(b){this._event.timestamp=b},_.prototype.getTimestamp=function(){return this._event.timestamp},_.prototype.setEventPriority=function(b){this._event.priority=b},_.prototype.getEventPriority=function(){return this._event.priority},_.prototype.setProperty=function(b,m,v){void 0===v&&(v=T.AWTPropertyType.Unspecified);var I={value:m,type:v,pii:T.AWTPiiKind.NotSet,cc:T.AWTCustomerContentKind.NotSet};null!==(I=u.sanitizeProperty(b,I))?this._event.properties[b]=I:delete this._event.properties[b]},_.prototype.setPropertyWithPii=function(b,m,v,I){void 0===I&&(I=T.AWTPropertyType.Unspecified);var h={value:m,type:I,pii:v,cc:T.AWTCustomerContentKind.NotSet};null!==(h=u.sanitizeProperty(b,h))?this._event.properties[b]=h:delete this._event.properties[b]},_.prototype.setPropertyWithCustomerContent=function(b,m,v,I){void 0===I&&(I=T.AWTPropertyType.Unspecified);var h={value:m,type:I,pii:T.AWTPiiKind.NotSet,cc:v};null!==(h=u.sanitizeProperty(b,h))?this._event.properties[b]=h:delete this._event.properties[b]},_.prototype.getPropertyMap=function(){return this._event.properties},_.prototype.getEvent=function(){return this._event},_}();g.default=y},9449:(z,g,d)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var u=d(676),T=d(6064),y=d(7270),_=d(7190),b=d(4501),m=d(8779),v=d(5593),I=d(2551),h=d(4023),w="POST",S=function(){function p(C,k,O,x,j){var V=this;this._requestQueue=C,this._queueManager=O,this._httpInterface=x,this._urlString="?qsp=true&content-type=application%2Fbond-compact-binary&client-id=NO_AUTH&sdk-version="+m.FullVersionString,this._killSwitch=new _.default,this._paused=!1,this._useBeacons=!1,this._activeConnections=0,this._clockSkewManager=new b.default(j),v.isUint8ArrayAvailable()||(this._urlString+="&content-encoding=base64"),this._urlString=k+this._urlString,this._httpInterface||(this._useBeacons=!v.isReactNative(),this._httpInterface={sendPOST:function(L,B,G,Q,$,ue){try{if(v.useFetchRequest())fetch(L,{body:B,method:w}).then(function(oe){var ce={};oe.headers&&oe.headers.forEach(function(ie,P){ce[P]=ie}),$(oe.status,ce)}).catch(function(oe){Q(0,{})});else if(v.useXDomainRequest()){var q=new XDomainRequest;q.open(w,L),q.onload=function(){$(200,null)},q.onerror=function(){Q(400,null)},q.ontimeout=function(){G(500,null)},q.send(B)}else{var X=new XMLHttpRequest;X.open(w,L,!ue),X.onload=function(){$(X.status,V._convertAllHeadersToMap(X.getAllResponseHeaders()))},X.onerror=function(){Q(X.status,V._convertAllHeadersToMap(X.getAllResponseHeaders()))},X.ontimeout=function(){G(X.status,V._convertAllHeadersToMap(X.getAllResponseHeaders()))},X.send(B)}}catch(oe){Q(400,null)}}})}return p.prototype.hasIdleConnection=function(){return this._activeConnections<2},p.prototype.sendQueuedRequests=function(){for(;this.hasIdleConnection()&&!this._paused&&this._requestQueue.length>0&&this._clockSkewManager.allowRequestSending();)this._activeConnections++,this._sendRequest(this._requestQueue.shift(),0,!1);this.hasIdleConnection()&&h.default.scheduleTimer()},p.prototype.isCompletelyIdle=function(){return 0===this._activeConnections},p.prototype.teardown=function(){for(;this._requestQueue.length>0;)this._sendRequest(this._requestQueue.shift(),0,!0)},p.prototype.pause=function(){this._paused=!0},p.prototype.resume=function(){this._paused=!1,this.sendQueuedRequests()},p.prototype.removeQueuedRequests=function(){this._requestQueue.length=0},p.prototype.sendSynchronousRequest=function(C,k){this._paused&&(C[k][0].priority=u.AWTEventPriority.High),this._activeConnections++,this._sendRequest(C,0,!1,!0)},p.prototype._sendRequest=function(C,k,O,x){var j=this;void 0===x&&(x=!1);try{if(this._paused)return this._activeConnections--,void this._queueManager.addBackRequest(C);var V=0,L="";for(var B in C)C.hasOwnProperty(B)&&(this._killSwitch.isTenantKilled(B)?(I.default.eventsRejected(C[B],u.AWTEventsRejectedReason.KillSwitch),delete C[B]):(L.length>0&&(L+=","),L+=B,V++));if(V>0){var G=T.default.getPayloadBlob(C,V);G.remainingRequest&&this._requestQueue.push(G.remainingRequest);var Q=this._urlString+"&x-apikey="+L+"&client-time-epoch-millis="+Date.now().toString();this._clockSkewManager.shouldAddClockSkewHeaders()&&(Q=Q+"&time-delta-to-apply-millis="+this._clockSkewManager.getClockSkewHeaderValue());var $;for(var B in $=v.isUint8ArrayAvailable()?new Uint8Array(G.payloadBlob):T.default.base64Encode(G.payloadBlob),C)if(C.hasOwnProperty(B))for(var ue=0;ue<C[B].length;++ue)C[B][ue].sendAttempt>0?C[B][ue].sendAttempt++:C[B][ue].sendAttempt=1;if(this._useBeacons&&O&&v.isBeaconsSupported()&&navigator.sendBeacon(Q,$))return;this._httpInterface.sendPOST(Q,$,function(q,X){j._retryRequestIfNeeded(q,X,C,V,L,k,O,x)},function(q,X){j._retryRequestIfNeeded(q,X,C,V,L,k,O,x)},function(q,X){j._retryRequestIfNeeded(q,X,C,V,L,k,O,x)},O||x)}else O||this._handleRequestFinished(!1,{},O,x)}catch(q){this._handleRequestFinished(!1,{},O,x)}},p.prototype._retryRequestIfNeeded=function(C,k,O,x,j,V,L,B){var G=this,Q=!0;if(void 0!==C){if(k){var $=this._killSwitch.setKillSwitchTenants(k["kill-tokens"],k["kill-duration-seconds"]);this._clockSkewManager.setClockSkew(k["time-delta-millis"]);for(var ue=0;ue<$.length;++ue)I.default.eventsRejected(O[$[ue]],u.AWTEventsRejectedReason.KillSwitch),delete O[$[ue]],x--}else this._clockSkewManager.setClockSkew(null);if(200===C)return void this._handleRequestFinished(!0,O,L,B);(!y.default.shouldRetryForStatus(C)||x<=0)&&(Q=!1)}if(Q)if(B)this._activeConnections--,O[j][0].priority=u.AWTEventPriority.High,this._queueManager.addBackRequest(O);else if(V<1){for(var q in O)O.hasOwnProperty(q)&&I.default.eventsRetrying(O[q]);setTimeout(function(){return G._sendRequest(O,V+1,!1)},y.default.getMillisToBackoffForRetry(V))}else this._activeConnections--,h.default.backOffTransmission(),this._queueManager.addBackRequest(O);else this._handleRequestFinished(!1,O,L,B)},p.prototype._handleRequestFinished=function(C,k,O,x){for(var j in C&&h.default.clearBackOff(),k)k.hasOwnProperty(j)&&(C?I.default.eventsSent(k[j]):I.default.eventsDropped(k[j],u.AWTEventsDroppedReason.NonRetryableStatus));this._activeConnections--,!x&&!O&&this.sendQueuedRequests()},p.prototype._convertAllHeadersToMap=function(C){var k={};if(C)for(var O=C.split("\n"),x=0;x<O.length;++x){var j=O[x].split(": ");k[j[0]]=j[1]}return k},p}();g.default=S},7613:(z,g,d)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var u=d(676),T=d(5640),y=d(4189),_=d(6208),b=d(4023),m=d(2551),v=d(4094),I=function(){function h(){}return h.initialize=function(c,D){if(void 0===D&&(D={}),!this._isInitialized)return this._isInitialized=!0,y.default.defaultTenantToken=c,this._overrideValuesFromConfig(D),this._config.disableCookiesUsage&&!this._config.propertyStorageOverride&&(y.default.sessionEnabled=!1),v.default.addPropertyStorageOverride(this._config.propertyStorageOverride),v.default.autoCollect(y.default.semanticContext,this._config.disableCookiesUsage,this._config.userAgent),b.default.initialize(this._config),y.default.loggingEnabled=!0,this._config.enableAutoUserSession&&(this.getLogger().logSession(T.AWTSessionState.Started),window.addEventListener("beforeunload",this.flushAndTeardown)),this.getLogger()},h.getSemanticContext=function(){return y.default.semanticContext},h.flush=function(c){this._isInitialized&&!this._isDestroyed&&b.default.flush(c)},h.flushAndTeardown=function(){this._isInitialized&&!this._isDestroyed&&(this._config.enableAutoUserSession&&this.getLogger().logSession(T.AWTSessionState.Ended),b.default.flushAndTeardown(),y.default.loggingEnabled=!1,this._isDestroyed=!0)},h.pauseTransmission=function(){this._isInitialized&&!this._isDestroyed&&b.default.pauseTransmission()},h.resumeTransmision=function(){this._isInitialized&&!this._isDestroyed&&b.default.resumeTransmision()},h.setTransmitProfile=function(c){this._isInitialized&&!this._isDestroyed&&b.default.setTransmitProfile(c)},h.loadTransmitProfiles=function(c){this._isInitialized&&!this._isDestroyed&&b.default.loadTransmitProfiles(c)},h.setContext=function(c,D,w){void 0===w&&(w=u.AWTPropertyType.Unspecified),y.default.logManagerContext.setProperty(c,D,w)},h.setContextWithPii=function(c,D,w,S){void 0===S&&(S=u.AWTPropertyType.Unspecified),y.default.logManagerContext.setPropertyWithPii(c,D,w,S)},h.setContextWithCustomerContent=function(c,D,w,S){void 0===S&&(S=u.AWTPropertyType.Unspecified),y.default.logManagerContext.setPropertyWithCustomerContent(c,D,w,S)},h.getLogger=function(c){var D=c;return(!D||D===y.default.defaultTenantToken)&&(D=""),this._loggers[D]||(this._loggers[D]=new _.default(D)),this._loggers[D]},h.addNotificationListener=function(c){m.default.addNotificationListener(c)},h.removeNotificationListener=function(c){m.default.removeNotificationListener(c)},h._overrideValuesFromConfig=function(c){c.collectorUri&&(this._config.collectorUri=c.collectorUri),c.cacheMemorySizeLimitInNumberOfEvents>0&&(this._config.cacheMemorySizeLimitInNumberOfEvents=c.cacheMemorySizeLimitInNumberOfEvents),c.httpXHROverride&&c.httpXHROverride.sendPOST&&(this._config.httpXHROverride=c.httpXHROverride),c.propertyStorageOverride&&c.propertyStorageOverride.getProperty&&c.propertyStorageOverride.setProperty&&(this._config.propertyStorageOverride=c.propertyStorageOverride),c.userAgent&&(this._config.userAgent=c.userAgent),c.disableCookiesUsage&&(this._config.disableCookiesUsage=c.disableCookiesUsage),c.canSendStatEvent&&(this._config.canSendStatEvent=c.canSendStatEvent),c.enableAutoUserSession&&"undefined"!=typeof window&&window.addEventListener&&(this._config.enableAutoUserSession=c.enableAutoUserSession),c.clockSkewRefreshDurationInMins>0&&(this._config.clockSkewRefreshDurationInMins=c.clockSkewRefreshDurationInMins)},h._loggers={},h._isInitialized=!1,h._isDestroyed=!1,h._config={collectorUri:"https://browser.pipe.aria.microsoft.com/Collector/3.0/",cacheMemorySizeLimitInNumberOfEvents:1e4,disableCookiesUsage:!1,canSendStatEvent:function(c){return!0},clockSkewRefreshDurationInMins:0},h}();g.default=I},4189:(z,g,d)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var u=d(58),T=d(1009),y=function(){function _(){}return _.logManagerContext=new u.default,_.sessionEnabled=!0,_.loggingEnabled=!1,_.defaultTenantToken="",_.semanticContext=new T.default(!0,_.logManagerContext),_}();g.default=y},6208:(z,g,d)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var u=d(676),T=d(5640),y=d(58),_=d(5593),b=d(5816),m=d(2551),v=d(4023),I=d(4189),h=d(8779),c=d(1009),D=d(4094),w=function(){function S(p){this._apiKey=p,this._contextProperties=new y.default,this._semanticContext=new c.default(!1,this._contextProperties),this._sessionStartTime=0,this._createInitId()}return S.prototype.setContext=function(p,C,k){void 0===k&&(k=u.AWTPropertyType.Unspecified),this._contextProperties.setProperty(p,C,k)},S.prototype.setContextWithPii=function(p,C,k,O){void 0===O&&(O=u.AWTPropertyType.Unspecified),this._contextProperties.setPropertyWithPii(p,C,k,O)},S.prototype.setContextWithCustomerContent=function(p,C,k,O){void 0===O&&(O=u.AWTPropertyType.Unspecified),this._contextProperties.setPropertyWithCustomerContent(p,C,k,O)},S.prototype.getSemanticContext=function(){return this._semanticContext},S.prototype.logEvent=function(p){if(I.default.loggingEnabled){this._apiKey||(this._apiKey=I.default.defaultTenantToken,this._createInitId());var C=!0;_.isString(p)?p={name:p}:p instanceof y.default&&(p=p.getEvent(),C=!1),b.default.eventReceived(this._apiKey),S._logEvent(S._getInternalEvent(p,this._apiKey,C),this._contextProperties)}},S.prototype.logSession=function(p,C){if(I.default.sessionEnabled){var k={name:"session",type:"session",properties:{}};if(S._addPropertiesToEvent(k,C),k.priority=u.AWTEventPriority.High,p===T.AWTSessionState.Started){if(this._sessionStartTime>0)return;this._sessionStartTime=(new Date).getTime(),this._sessionId=_.newGuid(),this.setContext("Session.Id",this._sessionId),k.properties["Session.State"]="Started"}else{if(p!==T.AWTSessionState.Ended)return;if(0===this._sessionStartTime)return;var O=Math.floor(((new Date).getTime()-this._sessionStartTime)/1e3);k.properties["Session.Id"]=this._sessionId,k.properties["Session.State"]="Ended",k.properties["Session.Duration"]=O.toString(),k.properties["Session.DurationBucket"]=S._getSessionDurationFromTime(O),this._sessionStartTime=0,this.setContext("Session.Id",null),this._sessionId=void 0}k.properties["Session.FirstLaunchTime"]=D.default.firstLaunchTime,this.logEvent(k)}},S.prototype.getSessionId=function(){return this._sessionId},S.prototype.logFailure=function(p,C,k,O,x){if(p&&C){var j={name:"failure",type:"failure",properties:{}};S._addPropertiesToEvent(j,x),j.properties["Failure.Signature"]=p,j.properties["Failure.Detail"]=C,k&&(j.properties["Failure.Category"]=k),O&&(j.properties["Failure.Id"]=O),j.priority=u.AWTEventPriority.High,this.logEvent(j)}},S.prototype.logPageView=function(p,C,k,O,x,j){if(p&&C){var V={name:"pageview",type:"pageview",properties:{}};S._addPropertiesToEvent(V,j),V.properties["PageView.Id"]=p,V.properties["PageView.Name"]=C,k&&(V.properties["PageView.Category"]=k),O&&(V.properties["PageView.Uri"]=O),x&&(V.properties["PageView.ReferrerUri"]=x),this.logEvent(V)}},S.prototype._createInitId=function(){!S._initIdMap[this._apiKey]&&this._apiKey&&(S._initIdMap[this._apiKey]=_.newGuid())},S._addPropertiesToEvent=function(p,C){if(C)for(var k in C instanceof y.default&&(C=C.getEvent()),C.name&&(p.name=C.name),C.priority&&(p.priority=C.priority),C.properties)C.properties.hasOwnProperty(k)&&(p.properties[k]=C.properties[k])},S._getSessionDurationFromTime=function(p){return p<0?"Undefined":p<=3?"UpTo3Sec":p<=10?"UpTo10Sec":p<=30?"UpTo30Sec":p<=60?"UpTo60Sec":p<=180?"UpTo3Min":p<=600?"UpTo10Min":p<=1800?"UpTo30Min":"Above30Min"},S._logEvent=function(p,C){p.name&&_.isString(p.name)?(p.name=p.name.toLowerCase(),p.name=p.name.replace(_.EventNameDotRegex,"_"),p.type=p.type&&_.isString(p.type)?p.type.toLowerCase():"custom",_.EventNameAndTypeRegex.test(p.name)&&_.EventNameAndTypeRegex.test(p.type)?((!_.isNumber(p.timestamp)||p.timestamp<0)&&(p.timestamp=(new Date).getTime()),p.properties||(p.properties={}),this._addContextIfAbsent(p,C.getPropertyMap()),this._addContextIfAbsent(p,I.default.logManagerContext.getPropertyMap()),this._setDefaultProperty(p,"EventInfo.InitId",this._getInitId(p.apiKey)),this._setDefaultProperty(p,"EventInfo.Sequence",this._getSequenceId(p.apiKey)),this._setDefaultProperty(p,"EventInfo.SdkVersion",h.FullVersionString),this._setDefaultProperty(p,"EventInfo.Name",p.name),this._setDefaultProperty(p,"EventInfo.Time",new Date(p.timestamp).toISOString()),_.isPriority(p.priority)||(p.priority=u.AWTEventPriority.Normal),this._sendEvent(p)):m.default.eventsRejected([p],u.AWTEventsRejectedReason.InvalidEvent)):m.default.eventsRejected([p],u.AWTEventsRejectedReason.InvalidEvent)},S._addContextIfAbsent=function(p,C){if(C)for(var k in C)C.hasOwnProperty(k)&&(p.properties[k]||(p.properties[k]=C[k]))},S._setDefaultProperty=function(p,C,k){p.properties[C]={value:k,pii:u.AWTPiiKind.NotSet,type:u.AWTPropertyType.String}},S._sendEvent=function(p){v.default.sendEvent(p)},S._getInternalEvent=function(p,C,k){if(p.properties=p.properties||{},k)for(var O in p.properties)p.properties.hasOwnProperty(O)&&(p.properties[O]=_.sanitizeProperty(O,p.properties[O]),null===p.properties[O]&&delete p.properties[O]);var x=p;return x.id=_.newGuid(),x.apiKey=C,x},S._getInitId=function(p){return S._initIdMap[p]},S._getSequenceId=function(p){return void 0===S._sequenceIdMap[p]&&(S._sequenceIdMap[p]=0),(++S._sequenceIdMap[p]).toString()},S._sequenceIdMap={},S._initIdMap={},S}();g.default=w},4220:(z,g,d)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var u=d(676),T=d(9449),y=d(4023),_=d(2659),b=d(2551),m=d(5593),c=function(){function D(w,S,p,C){this._queueSizeLimit=S,this._isCurrentlyUploadingNow=!1,this._uploadNowQueue=[],this._shouldDropEventsOnPause=!1,this._paused=!1,this._queueSize=0,this._outboundQueue=[],this._inboundQueues={},this._inboundQueues[u.AWTEventPriority.High]=[],this._inboundQueues[u.AWTEventPriority.Normal]=[],this._inboundQueues[u.AWTEventPriority.Low]=[],this._addEmptyQueues(),this._batcher=new _.default(this._outboundQueue,500),this._httpManager=new T.default(this._outboundQueue,w,this,p,C)}return D.prototype.addEvent=function(w){m.isPriority(w.priority)||(w.priority=u.AWTEventPriority.Normal),w.priority===u.AWTEventPriority.Immediate_sync?this._httpManager.sendSynchronousRequest(this._batcher.addEventToBatch(w),w.apiKey):this._queueSize<this._queueSizeLimit||this._dropEventWithPriorityOrLess(w.priority)?this._addEventToProperQueue(w):b.default.eventsDropped([w],u.AWTEventsDroppedReason.QueueFull)},D.prototype.sendEventsForPriorityAndAbove=function(w){this._batchEvents(w),this._httpManager.sendQueuedRequests()},D.prototype.hasEvents=function(){return(this._inboundQueues[u.AWTEventPriority.High][0].length>0||this._inboundQueues[u.AWTEventPriority.Normal][0].length>0||this._inboundQueues[u.AWTEventPriority.Low][0].length>0||this._batcher.hasBatch())&&this._httpManager.hasIdleConnection()},D.prototype.addBackRequest=function(w){if(!this._paused||!this._shouldDropEventsOnPause){for(var S in w)if(w.hasOwnProperty(S))for(var p=0;p<w[S].length;++p)w[S][p].sendAttempt<6?this.addEvent(w[S][p]):b.default.eventsDropped([w[S][p]],u.AWTEventsDroppedReason.MaxRetryLimit);y.default.scheduleTimer()}},D.prototype.teardown=function(){this._paused||(this._batchEvents(u.AWTEventPriority.Low),this._httpManager.teardown())},D.prototype.uploadNow=function(w){var S=this;this._addEmptyQueues(),this._isCurrentlyUploadingNow?this._uploadNowQueue.push(w):(this._isCurrentlyUploadingNow=!0,setTimeout(function(){return S._uploadNow(w)},0))},D.prototype.pauseTransmission=function(){this._paused=!0,this._httpManager.pause(),this._shouldDropEventsOnPause&&(this._queueSize-=this._inboundQueues[u.AWTEventPriority.High][0].length+this._inboundQueues[u.AWTEventPriority.Normal][0].length+this._inboundQueues[u.AWTEventPriority.Low][0].length,this._inboundQueues[u.AWTEventPriority.High][0]=[],this._inboundQueues[u.AWTEventPriority.Normal][0]=[],this._inboundQueues[u.AWTEventPriority.Low][0]=[],this._httpManager.removeQueuedRequests())},D.prototype.resumeTransmission=function(){this._paused=!1,this._httpManager.resume()},D.prototype.shouldDropEventsOnPause=function(w){this._shouldDropEventsOnPause=w},D.prototype._removeFirstQueues=function(){this._inboundQueues[u.AWTEventPriority.High].shift(),this._inboundQueues[u.AWTEventPriority.Normal].shift(),this._inboundQueues[u.AWTEventPriority.Low].shift()},D.prototype._addEmptyQueues=function(){this._inboundQueues[u.AWTEventPriority.High].push([]),this._inboundQueues[u.AWTEventPriority.Normal].push([]),this._inboundQueues[u.AWTEventPriority.Low].push([])},D.prototype._addEventToProperQueue=function(w){(!this._paused||!this._shouldDropEventsOnPause)&&(this._queueSize++,this._inboundQueues[w.priority][this._inboundQueues[w.priority].length-1].push(w))},D.prototype._dropEventWithPriorityOrLess=function(w){for(var S=u.AWTEventPriority.Low;S<=w;){if(this._inboundQueues[S][this._inboundQueues[S].length-1].length>0)return b.default.eventsDropped([this._inboundQueues[S][this._inboundQueues[S].length-1].shift()],u.AWTEventsDroppedReason.QueueFull),!0;S++}return!1},D.prototype._batchEvents=function(w){for(var S=u.AWTEventPriority.High;S>=w;){for(;this._inboundQueues[S][0].length>0;){var p=this._inboundQueues[S][0].pop();this._queueSize--,this._batcher.addEventToBatch(p)}S--}this._batcher.flushBatch()},D.prototype._uploadNow=function(w){var S=this;this.hasEvents()&&this.sendEventsForPriorityAndAbove(u.AWTEventPriority.Low),this._checkOutboundQueueEmptyAndSent(function(){S._removeFirstQueues(),null!=w&&w(),S._uploadNowQueue.length>0?setTimeout(function(){return S._uploadNow(S._uploadNowQueue.shift())},0):(S._isCurrentlyUploadingNow=!1,S.hasEvents()&&y.default.scheduleTimer())})},D.prototype._checkOutboundQueueEmptyAndSent=function(w){var S=this;this._httpManager.isCompletelyIdle()?w():setTimeout(function(){return S._checkOutboundQueueEmptyAndSent(w)},250)},D}();g.default=c},1009:(z,g,d)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var u=d(4094),T=d(676),y=d(5640),_="UserInfo.IdType",b=function(){function m(v,I){this._allowDeviceFields=v,this._properties=I}return m.prototype.setAppId=function(v){this._addContext("AppInfo.Id",v)},m.prototype.setAppVersion=function(v){this._addContext("AppInfo.Version",v)},m.prototype.setAppLanguage=function(v){this._addContext("AppInfo.Language",v)},m.prototype.setDeviceId=function(v){this._allowDeviceFields&&(u.default.checkAndSaveDeviceId(v),this._addContext("DeviceInfo.Id",v))},m.prototype.setDeviceOsName=function(v){this._allowDeviceFields&&this._addContext("DeviceInfo.OsName",v)},m.prototype.setDeviceOsVersion=function(v){this._allowDeviceFields&&this._addContext("DeviceInfo.OsVersion",v)},m.prototype.setDeviceBrowserName=function(v){this._allowDeviceFields&&this._addContext("DeviceInfo.BrowserName",v)},m.prototype.setDeviceBrowserVersion=function(v){this._allowDeviceFields&&this._addContext("DeviceInfo.BrowserVersion",v)},m.prototype.setDeviceMake=function(v){this._allowDeviceFields&&this._addContext("DeviceInfo.Make",v)},m.prototype.setDeviceModel=function(v){this._allowDeviceFields&&this._addContext("DeviceInfo.Model",v)},m.prototype.setUserId=function(v,I,h){if(!isNaN(h)&&null!==h&&h>=0&&h<=12)this._addContext(_,h.toString());else{var c=void 0;switch(I){case T.AWTPiiKind.SipAddress:c=y.AWTUserIdType.SipAddress;break;case T.AWTPiiKind.PhoneNumber:c=y.AWTUserIdType.PhoneNumber;break;case T.AWTPiiKind.SmtpAddress:c=y.AWTUserIdType.EmailAddress;break;default:c=y.AWTUserIdType.Unknown}this._addContext(_,c.toString())}if(isNaN(I)||null===I||I===T.AWTPiiKind.NotSet||I>13)switch(h){case y.AWTUserIdType.Skype:I=T.AWTPiiKind.Identity;break;case y.AWTUserIdType.EmailAddress:I=T.AWTPiiKind.SmtpAddress;break;case y.AWTUserIdType.PhoneNumber:I=T.AWTPiiKind.PhoneNumber;break;case y.AWTUserIdType.SipAddress:I=T.AWTPiiKind.SipAddress;break;default:I=T.AWTPiiKind.NotSet}this._addContextWithPii("UserInfo.Id",v,I)},m.prototype.setUserAdvertisingId=function(v){this._addContext("UserInfo.AdvertisingId",v)},m.prototype.setUserTimeZone=function(v){this._addContext("UserInfo.TimeZone",v)},m.prototype.setUserLanguage=function(v){this._addContext("UserInfo.Language",v)},m.prototype._addContext=function(v,I){"string"==typeof I&&this._properties.setProperty(v,I)},m.prototype._addContextWithPii=function(v,I,h){"string"==typeof I&&this._properties.setPropertyWithPii(v,I,h)},m}();g.default=b},2621:(z,g,d)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var u=d(4023),T=function(){function y(){}return y.setEventsHandler=function(_){u.default.setEventsHandler(_)},y.getEventsHandler=function(){return u.default.getEventsHandler()},y.scheduleTimer=function(){u.default.scheduleTimer()},y}();g.default=T},4023:(z,g,d)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var u=d(1842),T=d(676),y=d(4220),_=d(5816),b=d(58),m=d(7613),v=d(5593),c="awt_stats",D=function(){function w(){}return w.setEventsHandler=function(S){this._eventHandler=S},w.getEventsHandler=function(){return this._eventHandler},w.scheduleTimer=function(){var S=this,p=this._profiles[this._currentProfile][2];this._timeout<0&&p>=0&&!this._paused&&(this._eventHandler.hasEvents()?(0===p&&this._currentBackoffCount>0&&(p=1),this._timeout=setTimeout(function(){return S._batchAndSendEvents()},p*(1<<this._currentBackoffCount)*1e3)):this._timerCount=0)},w.initialize=function(S){var p=this;this._newEventsAllowed=!0,this._config=S,this._eventHandler=new y.default(S.collectorUri,S.cacheMemorySizeLimitInNumberOfEvents,S.httpXHROverride,S.clockSkewRefreshDurationInMins),this._initializeProfiles(),_.default.initialize(function(C,k){if(p._config.canSendStatEvent(c)){var O=new b.default(c);for(var x in O.setEventPriority(T.AWTEventPriority.High),O.setProperty("TenantId",k),C)C.hasOwnProperty(x)&&O.setProperty(x,C[x].toString());m.default.getLogger(v.StatsApiKey).logEvent(O)}})},w.setTransmitProfile=function(S){this._currentProfile!==S&&void 0!==this._profiles[S]&&(this.clearTimeout(),this._currentProfile=S,this.scheduleTimer())},w.loadTransmitProfiles=function(S){for(var p in this._resetTransmitProfiles(),S)if(S.hasOwnProperty(p)){if(3!==S[p].length)continue;for(var C=2;C>=0;--C)if(S[p][C]<0){for(var k=C;k>=0;--k)S[p][k]=-1;break}for(C=2;C>0;--C)S[p][C]>0&&S[p][C-1]>0&&(S[p][C-1]=Math.ceil(S[p][C-1]/S[p][C])*S[p][C]);this._profiles[p]=S[p]}},w.sendEvent=function(S){this._newEventsAllowed&&(this._currentBackoffCount>0&&S.priority===T.AWTEventPriority.Immediate_sync&&(S.priority=T.AWTEventPriority.High),this._eventHandler.addEvent(S),this.scheduleTimer())},w.flush=function(S){var p=(new Date).getTime();!this._paused&&this._lastUploadNowCall+3e4<p&&(this._lastUploadNowCall=p,this._timeout>-1&&(clearTimeout(this._timeout),this._timeout=-1),this._eventHandler.uploadNow(S))},w.pauseTransmission=function(){this._paused||(this.clearTimeout(),this._eventHandler.pauseTransmission(),this._paused=!0)},w.resumeTransmision=function(){this._paused&&(this._paused=!1,this._eventHandler.resumeTransmission(),this.scheduleTimer())},w.flushAndTeardown=function(){_.default.teardown(),this._newEventsAllowed=!1,this.clearTimeout(),this._eventHandler.teardown()},w.backOffTransmission=function(){this._currentBackoffCount<4&&(this._currentBackoffCount++,this.clearTimeout(),this.scheduleTimer())},w.clearBackOff=function(){this._currentBackoffCount>0&&(this._currentBackoffCount=0,this.clearTimeout(),this.scheduleTimer())},w._resetTransmitProfiles=function(){this.clearTimeout(),this._initializeProfiles(),this._currentProfile=u.AWT_REAL_TIME,this.scheduleTimer()},w.clearTimeout=function(){this._timeout>0&&(clearTimeout(this._timeout),this._timeout=-1,this._timerCount=0)},w._batchAndSendEvents=function(){var S=T.AWTEventPriority.High;this._timerCount++,this._timerCount*this._profiles[this._currentProfile][2]===this._profiles[this._currentProfile][0]?(S=T.AWTEventPriority.Low,this._timerCount=0):this._timerCount*this._profiles[this._currentProfile][2]===this._profiles[this._currentProfile][1]&&(S=T.AWTEventPriority.Normal),this._eventHandler.sendEventsForPriorityAndAbove(S),this._timeout=-1,this.scheduleTimer()},w._initializeProfiles=function(){this._profiles={},this._profiles[u.AWT_REAL_TIME]=[4,2,1],this._profiles[u.AWT_NEAR_REAL_TIME]=[12,6,3],this._profiles[u.AWT_BEST_EFFORT]=[36,18,9]},w._newEventsAllowed=!1,w._currentProfile=u.AWT_REAL_TIME,w._timeout=-1,w._currentBackoffCount=0,w._paused=!1,w._timerCount=0,w._lastUploadNowCall=0,w}();g.default=D},5234:(z,g,d)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var u=d(676);g.AWTPropertyType=u.AWTPropertyType,g.AWTPiiKind=u.AWTPiiKind,g.AWTEventPriority=u.AWTEventPriority,g.AWTEventsDroppedReason=u.AWTEventsDroppedReason,g.AWTEventsRejectedReason=u.AWTEventsRejectedReason,g.AWTCustomerContentKind=u.AWTCustomerContentKind;var T=d(5640);g.AWTUserIdType=T.AWTUserIdType,g.AWTSessionState=T.AWTSessionState;var y=d(1842);g.AWT_BEST_EFFORT=y.AWT_BEST_EFFORT,g.AWT_NEAR_REAL_TIME=y.AWT_NEAR_REAL_TIME,g.AWT_REAL_TIME=y.AWT_REAL_TIME;var _=d(58);g.AWTEventProperties=_.default;var b=d(6208);g.AWTLogger=b.default;var m=d(7613);g.AWTLogManager=m.default;var v=d(2621);g.AWTTransmissionManager=v.default;var I=d(6064);g.AWTSerializer=I.default;var h=d(1009);g.AWTSemanticContext=h.default,g.AWT_COLLECTOR_URL_UNITED_STATES="https://us.pipe.aria.microsoft.com/Collector/3.0/",g.AWT_COLLECTOR_URL_GERMANY="https://de.pipe.aria.microsoft.com/Collector/3.0/",g.AWT_COLLECTOR_URL_JAPAN="https://jp.pipe.aria.microsoft.com/Collector/3.0/",g.AWT_COLLECTOR_URL_AUSTRALIA="https://au.pipe.aria.microsoft.com/Collector/3.0/",g.AWT_COLLECTOR_URL_EUROPE="https://eu.pipe.aria.microsoft.com/Collector/3.0/",g.AWT_COLLECTOR_URL_USGOV_DOD="https://pf.pipe.aria.microsoft.com/Collector/3.0",g.AWT_COLLECTOR_URL_USGOV_DOJ="https://tb.pipe.aria.microsoft.com/Collector/3.0"},1842:(z,g)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.AWT_REAL_TIME="REAL_TIME",g.AWT_NEAR_REAL_TIME="NEAR_REAL_TIME",g.AWT_BEST_EFFORT="BEST_EFFORT"},5640:(z,g)=>{"use strict";var T;Object.defineProperty(g,"__esModule",{value:!0}),(T=g.AWTUserIdType||(g.AWTUserIdType={}))[T.Unknown=0]="Unknown",T[T.MSACID=1]="MSACID",T[T.MSAPUID=2]="MSAPUID",T[T.ANID=3]="ANID",T[T.OrgIdCID=4]="OrgIdCID",T[T.OrgIdPUID=5]="OrgIdPUID",T[T.UserObjectId=6]="UserObjectId",T[T.Skype=7]="Skype",T[T.Yammer=8]="Yammer",T[T.EmailAddress=9]="EmailAddress",T[T.PhoneNumber=10]="PhoneNumber",T[T.SipAddress=11]="SipAddress",T[T.MUID=12]="MUID",function(T){T[T.Started=0]="Started",T[T.Ended=1]="Ended"}(g.AWTSessionState||(g.AWTSessionState={}))},8779:(z,g)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.Version="1.8.7",g.FullVersionString="AWT-Web-JS-"+g.Version},5436:(z,g,d)=>{"use strict";g.Mg=void 0;d(3762),d(6194);var _=d(7626);g.Mg=_.default,d(448),d(2900),d(3372),d(4352);d(9425)},2235:function(z,g,d){"use strict";var u=this&&this.__assign||function(){return(u=Object.assign||function(h){for(var c,D=1,w=arguments.length;D<w;D++)for(var S in c=arguments[D])Object.prototype.hasOwnProperty.call(c,S)&&(h[S]=c[S]);return h}).apply(this,arguments)};Object.defineProperty(g,"__esModule",{value:!0});var T=d(4151),y=d(676),_=d(5234),b=d(7095),m=d(3037),v=d(4151),I=function(){function h(){}return h.initialize=function(c){this._debug&&console.log("[AriaTelemetry][logger][initialize][custom]"),h._logger=_.AWTLogManager.initialize(c)},h.setDebug=function(c){h._debug=c},h.disable=function(){this._debug&&console.log("[AriaTelemetry][disable]"),h._disable=!0},h.setCDNPackages=function(c){h._CDNPackagesInfo=u(u({},h._CDNPackagesInfo),c)},h.info=function(c,D){var w;void 0===D&&(D=m.default.EVENTS);var S={name:m.default.EVENTS,properties:u(u(u(u(u({},h.populateBaseProperties()),h.fillWebPlatformData()),h.fillMobilePlatformData()),c),{LogLevel:b.default.INFO}),priority:y.AWTEventPriority.High};D==m.default.IC3CLIENT&&(S={name:m.default.IC3CLIENT,properties:u(u(u({},h.populateIC3ClientBaseProperties()),c),{LogLevel:b.default.INFO}),priority:y.AWTEventPriority.High}),D==m.default.OCSDK&&(S={name:m.default.OCSDK,properties:u(u(u({},h.populateOCSDKBaseProperties()),c),{LogLevel:b.default.INFO}),priority:y.AWTEventPriority.High}),this._debug&&console.log("[AriaTelemetry][info] "+D),this._debug&&console.log(S),this._debug&&console.log(S.properties.Event),!h._disable&&(null===(w=h.logger)||void 0===w||w.logEvent(S))},h.debug=function(c,D){var w;void 0===D&&(D=m.default.EVENTS);var S={name:m.default.EVENTS,properties:u(u(u(u(u({},h.populateBaseProperties()),h.fillWebPlatformData()),h.fillMobilePlatformData()),c),{LogLevel:b.default.DEBUG}),priority:y.AWTEventPriority.High};D==m.default.IC3CLIENT&&(S={name:m.default.IC3CLIENT,properties:u(u(u({},h.populateIC3ClientBaseProperties()),c),{LogLevel:b.default.DEBUG}),priority:y.AWTEventPriority.High}),D==m.default.OCSDK&&(S={name:m.default.OCSDK,properties:u(u(u({},h.populateOCSDKBaseProperties()),c),{LogLevel:b.default.DEBUG}),priority:y.AWTEventPriority.High}),this._debug&&console.log("[AriaTelemetry][debug] "+D),this._debug&&console.log(S),this._debug&&console.log(S.properties.Event),!h._disable&&(null===(w=h.logger)||void 0===w||w.logEvent(S))},h.warn=function(c,D){var w;void 0===D&&(D=m.default.EVENTS);var S={name:m.default.EVENTS,properties:u(u(u(u(u({},h.populateBaseProperties()),h.fillWebPlatformData()),h.fillMobilePlatformData()),c),{LogLevel:b.default.WARN}),priority:y.AWTEventPriority.High};D==m.default.IC3CLIENT&&(S={name:m.default.IC3CLIENT,properties:u(u(u({},h.populateIC3ClientBaseProperties()),c),{LogLevel:b.default.WARN}),priority:y.AWTEventPriority.High}),D==m.default.OCSDK&&(S={name:m.default.OCSDK,properties:u(u(u({},h.populateOCSDKBaseProperties()),c),{LogLevel:b.default.WARN}),priority:y.AWTEventPriority.High}),this._debug&&console.log("[AriaTelemetry][warn] "+D),this._debug&&console.log(S),this._debug&&console.log(S.properties.Event),!h._disable&&(null===(w=h.logger)||void 0===w||w.logEvent(S))},h.error=function(c,D){var w;void 0===D&&(D=m.default.EVENTS);var S={name:m.default.EVENTS,properties:u(u(u(u(u({},h.populateBaseProperties()),h.fillWebPlatformData()),h.fillMobilePlatformData()),c),{LogLevel:b.default.ERROR}),priority:y.AWTEventPriority.High};D==m.default.IC3CLIENT&&(S={name:m.default.IC3CLIENT,properties:u(u(u({},h.populateIC3ClientBaseProperties()),c),{LogLevel:b.default.ERROR}),priority:y.AWTEventPriority.High}),D==m.default.OCSDK&&(S={name:m.default.OCSDK,properties:u(u(u({},h.populateOCSDKBaseProperties()),c),{LogLevel:b.default.ERROR}),priority:y.AWTEventPriority.High}),this._debug&&console.log("[AriaTelemetry][error] "+D),this._debug&&console.log(S),this._debug&&console.log(S.properties.Event),!h._disable&&(null===(w=h.logger)||void 0===w||w.logEvent(S))},h.log=function(c,D){var w;void 0===D&&(D=m.default.EVENTS);var S={name:m.default.EVENTS,properties:u(u(u(u(u({},h.populateBaseProperties()),h.fillWebPlatformData()),h.fillMobilePlatformData()),c),{LogLevel:b.default.LOG}),priority:y.AWTEventPriority.High};D==m.default.IC3CLIENT&&(S={name:m.default.IC3CLIENT,properties:u(u(u({},h.populateIC3ClientBaseProperties()),c),{LogLevel:b.default.LOG}),priority:y.AWTEventPriority.High}),D==m.default.OCSDK&&(S={name:m.default.OCSDK,properties:u(u(u({},h.populateOCSDKBaseProperties()),c),{LogLevel:b.default.LOG}),priority:y.AWTEventPriority.High}),this._debug&&console.log("[AriaTelemetry][log]"),this._debug&&console.log(S),this._debug&&console.log(S.properties.Event),!h._disable&&(null===(w=h.logger)||void 0===w||w.logEvent(S))},Object.defineProperty(h,"logger",{get:function(){return h._logger||(this._debug&&console.log("[AriaTelemetry][logger][initialize]"),h._logger=_.AWTLogManager.initialize(T.ariaTelemetryKey)),h._logger},enumerable:!1,configurable:!0}),h.populateBaseProperties=function(){var c={OCSDK:d(1528).i8,IC3Core:d(5233).i8};return{OrgId:"",OrgUrl:"",WidgetId:"",RequestId:"",ChatId:"",CallId:"",Domain:"",ExceptionDetails:"",ElapsedTimeInMilliseconds:"",ChatSDKVersion:d(8464).i8,NPMPackagesInfo:JSON.stringify(c),CDNPackagesInfo:JSON.stringify(h._CDNPackagesInfo)}},h.fillMobilePlatformData=function(){var c={};try{var w=d(Object(function(){var p=new Error("Cannot find module 'react-native'");throw p.code="MODULE_NOT_FOUND",p}())).Platform;c.DeviceInfo_OsVersion=w.Version,c.DeviceInfo_OsName="android"===w.OS?"Android":"ios"===w.OS?"iOS":""+w.OS,this._debug&&console.log("[AriaTelemetry][fillMobilePlatformData]["+c.DeviceInfo_OsName+"]")}catch(S){this._debug&&console.log("[AriaTelemetry][fillMobilePlatformData][Web]")}return c},h.fillWebPlatformData=function(){var c={};if(!window)return c;try{c.Domain=window.location.origin||"",this._debug&&console.log("[AriaTelemetry][fillWebPlatformData]")}catch(D){this._debug&&console.log("[AriaTelemetry][fillWebPlatformData][Error]")}return c},h.populateIC3ClientBaseProperties=function(){return{OrgId:"",OrgUrl:"",WidgetId:"",RequestId:"",ChatId:"",Event:"",Description:"",SubscriptionId:"",EndpointId:"",EndpointUrl:"",ErrorCode:"",ExceptionDetails:"",ElapsedTimeInMilliseconds:"",IC3ClientVersion:v.ic3ClientVersion}},h.populateOCSDKBaseProperties=function(){return{OrgId:"",OrgUrl:"",WidgetId:"",RequestId:"",ChatId:"",TransactionId:"",Event:"",ExceptionDetails:"",ElapsedTimeInMilliseconds:"",OCSDKVersion:d(1528).i8}},h._debug=!1,h._disable=!1,h}();g.default=I},7095:(z,g)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var d=(()=>{return(u=d||(d={})).INFO="INFO",u.DEBUG="DEBUG",u.WARN="WARN",u.ERROR="ERROR",u.LOG="LOG",d;var u})();g.default=d},1247:function(z,g,d){"use strict";var u=this&&this.__assign||function(){return(u=Object.assign||function(b){for(var m,v=1,I=arguments.length;v<I;v++)for(var h in m=arguments[v])Object.prototype.hasOwnProperty.call(m,h)&&(b[h]=m[h]);return b}).apply(this,arguments)};Object.defineProperty(g,"__esModule",{value:!0});var T=d(8485),y=d(9600),_=function(){function b(m){this.omnichannelConfig=m,this.telemetry=null,this.debug=!1,this.telemetryEvents=new Map}return b.prototype.setDebug=function(m){var v;this.debug=m,null===(v=this.telemetry)||void 0===v||v.setDebug(m)},b.prototype.useTelemetry=function(m){this.debug&&console.log("[ScenarioMarker][useTelemetry]"),this.telemetry=m},b.prototype.startScenario=function(m,v){var I;if(void 0===v&&(v={}),this.debug&&console.log("[ScenarioMarker][startScenario]"),!this.telemetryEvents.has(m)){var h=new T.default;h.start(),this.telemetryEvents.set(m,h)}var c=u({Event:y.startEvent(m),OrgId:this.omnichannelConfig.orgId,OrgUrl:this.omnichannelConfig.orgUrl,WidgetId:this.omnichannelConfig.widgetId},v);null===(I=this.telemetry)||void 0===I||I.info(c)},b.prototype.failScenario=function(m,v){var I;if(void 0===v&&(v={}),this.debug&&console.log("[ScenarioMarker][failScenario]"),this.telemetryEvents.has(m)){var h=this.telemetryEvents.get(m);this.telemetryEvents.delete(m);var c=u({Event:y.failEvent(m),OrgId:this.omnichannelConfig.orgId,OrgUrl:this.omnichannelConfig.orgUrl,WidgetId:this.omnichannelConfig.widgetId,ElapsedTimeInMilliseconds:h.stop()},v);null===(I=this.telemetry)||void 0===I||I.error(c)}else console.warn("'"+m+"' event has not started.")},b.prototype.completeScenario=function(m,v){var I;if(void 0===v&&(v={}),this.debug&&console.log("[ScenarioMarker][completeScenario]"),this.telemetryEvents.has(m)){var h=this.telemetryEvents.get(m);this.telemetryEvents.delete(m);var c=u({Event:y.completeEvent(m),OrgId:this.omnichannelConfig.orgId,OrgUrl:this.omnichannelConfig.orgUrl,WidgetId:this.omnichannelConfig.widgetId,ElapsedTimeInMilliseconds:h.stop()},v);null===(I=this.telemetry)||void 0===I||I.info(c)}else console.warn("'"+m+"' event has not started.")},b}();g.default=_},3037:(z,g)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var d=(()=>{return(u=d||(d={})).EVENTS="occhatsdk_events",u.IC3CLIENT="occhatsdk_ic3clientevents",u.OCSDK="occhatsdk_ocsdkevents",u.UNDEFINED="undefined",d;var u})();g.default=d},8485:(z,g)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var d=function(){function u(){}return u.prototype.start=function(){this.timeStart=(new Date).getTime()},u.prototype.stop=function(){return(new Date).getTime()-this.timeStart},u}();g.default=d},9600:(z,g)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.failEvent=g.completeEvent=g.startEvent=void 0;var d=(()=>{return(u=d||(d={})).ValidateOmnichannelConfig="ValidateOmnichannelConfig",u.ValidateSDKConfig="ValidateSDKConfig",u.InitializeChatSDK="InitializeChatSDK",u.StartChat="StartChat",u.EndChat="EndChat",u.GetLiveChatConfig="GetLiveChatConfig",u.GetAuthToken="GetAuthToken",u.GetPreChatSurvey="GetPreChatSurvey",u.GetChatToken="GetChatToken",u.GetConversationDetails="GetConversationDetails",u.SendTypingEvent="SendTypingEvent",u.OnAgentEndSession="OnAgentEndSession",u.UploadFileAttachment="UploadFileAttachment",u.DownloadFileAttachment="DownloadFileAttachment",u.EmailLiveChatTranscript="EmailLiveChatTranscript",u.GetLiveChatTranscript="GetLiveChatTranscript",u.CreateIC3Adapter="CreateChatAdapter",u.CreateACSAdapter="CreateACSAdapter",u.GetVoiceVideoCalling="GetVoiceVideoCalling",u.GetIC3Client="GetIC3Client",u.InitializeVoiceVideoCallingSDK="InitializeVoiceVideoCallingSDK",u.AcceptVoiceCall="AcceptVoiceCall",u.AcceptVideoCall="AcceptVideoCall",u.RejectCall="RejectCall",u.StopCall="StopCall",u.OnCallDisconnected="OnCallDisconnected",u.UpdateChatToken="UpdateChatToken",u.GetChatReconnectContext="GetChatReconnectContext",d;var u})();g.startEvent=function(u){return u+"Started"},g.completeEvent=function(u){return u+"Completed"},g.failEvent=function(u){return u+"Failed"},g.default=d},6345:function(z,g){"use strict";var d=this&&this.__awaiter||function(y,_,b,m){return new(b||(b=Promise))(function(I,h){function c(S){try{w(m.next(S))}catch(p){h(p)}}function D(S){try{w(m.throw(S))}catch(p){h(p)}}function w(S){S.done?I(S.value):function(I){return I instanceof b?I:new b(function(h){h(I)})}(S.value).then(c,D)}w((m=m.apply(y,_||[])).next())})},u=this&&this.__generator||function(y,_){var m,v,I,h,b={label:0,sent:function(){if(1&I[0])throw I[1];return I[1]},trys:[],ops:[]};return h={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(h[Symbol.iterator]=function(){return this}),h;function c(w){return function(S){return function(w){if(m)throw new TypeError("Generator is already executing.");for(;b;)try{if(m=1,v&&(I=2&w[0]?v.return:w[0]?v.throw||((I=v.return)&&I.call(v),0):v.next)&&!(I=I.call(v,w[1])).done)return I;switch(v=0,I&&(w=[2&w[0],I.value]),w[0]){case 0:case 1:I=w;break;case 4:return b.label++,{value:w[1],done:!1};case 5:b.label++,v=w[1],w=[0];continue;case 7:w=b.ops.pop(),b.trys.pop();continue;default:if(!(I=(I=b.trys).length>0&&I[I.length-1])&&(6===w[0]||2===w[0])){b=0;continue}if(3===w[0]&&(!I||w[1]>I[0]&&w[1]<I[3])){b.label=w[1];break}if(6===w[0]&&b.label<I[1]){b.label=I[1],I=w;break}if(I&&b.label<I[2]){b.label=I[2],b.ops.push(w);break}I[2]&&b.ops.pop(),b.trys.pop();continue}w=_.call(y,b)}catch(S){w=[6,S],v=0}finally{m=I=0}if(5&w[0])throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}([w,S])}}};Object.defineProperty(g,"__esModule",{value:!0}),g.loadScript=void 0;var T=function(y,_,b){return void 0===_&&(_=function(){}),void 0===b&&(b=function(){}),d(void 0,void 0,void 0,function(){return u(this,function(m){return[2,new Promise(function(v,I){return d(void 0,void 0,void 0,function(){var D;return u(this,function(w){switch(w.label){case 0:return Array.from(document.getElementsByTagName("script")).filter(function(S){return S.src==y}).length?[4,_()]:[3,2];case 1:return w.sent(),[2,v()];case 2:return(D=document.createElement("script")).setAttribute("src",y),D.setAttribute("type","text/javascript"),document.head.appendChild(D),D.addEventListener("load",function(){return d(void 0,void 0,void 0,function(){return u(this,function(S){switch(S.label){case 0:return[4,_()];case 1:return S.sent(),v(),[2]}})})}),D.addEventListener("error",function(){return d(void 0,void 0,void 0,function(){return u(this,function(S){switch(S.label){case 0:return[4,b()];case 1:return S.sent(),I(),[2]}})})}),[2]}})})})]})})};g.loadScript=T,g.default={loadScript:T}},838:(z,g,d)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var u=d(2235);g.default=function(y){return void 0===y&&(y=!1),u.default.setDebug(y),u.default}},1775:(z,g,d)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.getIC3AdapterCDNUrl=g.getIC3ClientCDNUrl=void 0;var u=d(4151),T=function(_){return void 0===_&&(_=u.ic3ClientVersion),"https://comms.omnichannelengagementhub.com/release/"+_+"/Scripts/SDK/SDK.min.js"};g.getIC3ClientCDNUrl=T;var y=function(_){return void 0===_&&(_=u.webChatIC3AdapterVersion),"https://webchatic3.blob.core.windows.net/webchat-ic3adapter/"+_+"/botframework-webchat-adapter-ic3.production.min.js"};g.getIC3AdapterCDNUrl=y,g.default={getIC3ClientCDNUrl:T,getIC3AdapterCDNUrl:y}},2811:function(z,g,d){"use strict";var u=this&&this.__assign||function(){return(u=Object.assign||function(m){for(var v,I=1,h=arguments.length;I<h;I++)for(var c in v=arguments[I])Object.prototype.hasOwnProperty.call(v,c)&&(m[c]=v[c]);return m}).apply(this,arguments)};Object.defineProperty(g,"__esModule",{value:!0}),g.createOCSDKLogger=g.createIC3ClientLogger=g.OCSDKLogger=g.IC3ClientLogger=void 0;var T=d(752),y=d(3037),_=function(){function m(v){this.omnichannelConfig=v,this.debug=!1,this.requestId="",this.chatId="",this.telemetry=null,this.debug=!1}return m.prototype.setDebug=function(v){this.debug=v},m.prototype.setRequestId=function(v){this.requestId=v},m.prototype.setChatId=function(v){this.chatId=v},m.prototype.useTelemetry=function(v){this.debug&&console.log("[IC3ClientLogger][useTelemetry]"),this.telemetry=v},m.prototype.logClientSdkTelemetryEvent=function(v,I){var h,c,D,w;this.debug&&console.log("[IC3ClientLogger][logClientSdkTelemetryEvent]["+v+"]"),this.debug&&console.log(I);var S={OrgId:this.omnichannelConfig.orgId,OrgUrl:this.omnichannelConfig.orgUrl,WidgetId:this.omnichannelConfig.widgetId,RequestId:this.requestId,ChatId:this.chatId},p=u(u({},I),{ExceptionDetails:I.ExceptionDetails?JSON.stringify(I.ExceptionDetails):""});switch(v){case T.default.DEBUG:null===(h=this.telemetry)||void 0===h||h.debug(u(u({},S),p),y.default.IC3CLIENT);break;case T.default.WARN:null===(c=this.telemetry)||void 0===c||c.warn(u(u({},S),p),y.default.IC3CLIENT);break;case T.default.ERROR:null===(D=this.telemetry)||void 0===D||D.error(u(u({},S),p),y.default.IC3CLIENT);break;case T.default.INFO:default:null===(w=this.telemetry)||void 0===w||w.info(u(u({},S),p),y.default.IC3CLIENT)}},m}();g.IC3ClientLogger=_;var b=function(){function m(v){this.omnichannelConfig=v,this.debug=!1,this.requestId="",this.chatId="",this.telemetry=null,this.debug=!1}return m.prototype.setDebug=function(v){this.debug=v},m.prototype.setRequestId=function(v){this.requestId=v},m.prototype.setChatId=function(v){this.chatId=v},m.prototype.useTelemetry=function(v){this.debug&&console.log("[OCSDKLogger][useTelemetry]"),this.telemetry=v},m.prototype.logClientSdkTelemetryEvent=function(v,I){var h,c,D,w;this.debug&&console.log("[OCSDKLogger][logClientSdkTelemetryEvent]["+v+"]"),this.debug&&console.log(I);var S={OrgId:this.omnichannelConfig.orgId,OrgUrl:this.omnichannelConfig.orgUrl,WidgetId:this.omnichannelConfig.widgetId,RequestId:this.requestId,ChatId:this.chatId},p=u(u({},I),{ExceptionDetails:I.ExceptionDetails?JSON.stringify(I.ExceptionDetails):""});switch(v){case T.default.DEBUG:null===(h=this.telemetry)||void 0===h||h.debug(u(u({},S),p),y.default.OCSDK);break;case T.default.WARN:null===(c=this.telemetry)||void 0===c||c.warn(u(u({},S),p),y.default.OCSDK);break;case T.default.ERROR:null===(D=this.telemetry)||void 0===D||D.error(u(u({},S),p),y.default.OCSDK);break;case T.default.INFO:default:null===(w=this.telemetry)||void 0===w||w.info(u(u({},S),p),y.default.OCSDK)}},m}();g.OCSDKLogger=b,g.createIC3ClientLogger=function(m,v){void 0===v&&(v=!1);var I=new _(m);return I.setDebug(v),I},g.createOCSDKLogger=function(m,v){void 0===v&&(v=!1);var I=new b(m);return I.setDebug(v),I}},8098:(z,g)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.isReactNative=g.isNode=g.isBrowser=void 0,g.isBrowser=function(){return"undefined"!=typeof window&&void 0!==window.document},g.isNode=function(){return"undefined"!=typeof process&&null!=process.versions&&null!=process.versions.node},g.isReactNative=function(){return"undefined"!=typeof navigator&&"ReactNative"==navigator.product},g.default={isBrowser:g.isBrowser,isNode:g.isNode,isReactNative:g.isReactNative}},9425:(z,g,d)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.isCustomerMessage=g.isSystemMessage=void 0;var u=d(3372);g.isSystemMessage=function(T){return T.messageType===u.default.UserMessage&&T.properties.tags.includes("system")},g.isCustomerMessage=function(T){return T.sender.id.includes("contacts/8:")}},7616:(z,g)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var d=["orgUrl","orgId","widgetId"];g.default=function(T){if(!T)throw new Error("OmnichannelConfiguration not found");for(var y=Object.keys(T),_=0,b=d;_<b.length;_++){var m=b[_];if(!y.includes(m))throw new Error("Missing '"+m+"' in OmnichannelConfiguration")}}},641:(z,g,d)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.defaultChatSDKConfig=void 0;var T={dataMasking:{disable:!1,maskingCharacter:"#"},telemetry:{disable:!1,ariaTelemetryKey:d(4151).ariaTelemetryKey},persistentChat:{disable:!0,tokenUpdateTime:216e5},chatReconnect:{disable:!0}};g.defaultChatSDKConfig=T,g.default=function(m){m.dataMasking&&function(m){"boolean"!=typeof m.disable&&(m.disable=T.dataMasking.disable),("string"!=typeof m.maskingCharacter||1!==m.maskingCharacter.length)&&(m.maskingCharacter=T.dataMasking.maskingCharacter)}(m.dataMasking),m.persistentChat&&function(m){("number"!=typeof m.tokenUpdateTime||!m.tokenUpdateTime)&&(m.tokenUpdateTime=T.persistentChat.tokenUpdateTime)}(m.persistentChat)}},5145:(z,g)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var d=function(){function u(){}return u.read="read",u}();g.default=d},3865:function(z,g,d){"use strict";var u=this&&this.__awaiter||function(S,p,C,k){return new(C||(C=Promise))(function(x,j){function V(G){try{B(k.next(G))}catch(Q){j(Q)}}function L(G){try{B(k.throw(G))}catch(Q){j(Q)}}function B(G){G.done?x(G.value):function(x){return x instanceof C?x:new C(function(j){j(x)})}(G.value).then(V,L)}B((k=k.apply(S,p||[])).next())})},T=this&&this.__generator||function(S,p){var k,O,x,j,C={label:0,sent:function(){if(1&x[0])throw x[1];return x[1]},trys:[],ops:[]};return j={next:V(0),throw:V(1),return:V(2)},"function"==typeof Symbol&&(j[Symbol.iterator]=function(){return this}),j;function V(B){return function(G){return function(B){if(k)throw new TypeError("Generator is already executing.");for(;C;)try{if(k=1,O&&(x=2&B[0]?O.return:B[0]?O.throw||((x=O.return)&&x.call(O),0):O.next)&&!(x=x.call(O,B[1])).done)return x;switch(O=0,x&&(B=[2&B[0],x.value]),B[0]){case 0:case 1:x=B;break;case 4:return C.label++,{value:B[1],done:!1};case 5:C.label++,O=B[1],B=[0];continue;case 7:B=C.ops.pop(),C.trys.pop();continue;default:if(!(x=(x=C.trys).length>0&&x[x.length-1])&&(6===B[0]||2===B[0])){C=0;continue}if(3===B[0]&&(!x||B[1]>x[0]&&B[1]<x[3])){C.label=B[1];break}if(6===B[0]&&C.label<x[1]){C.label=x[1],x=B;break}if(x&&C.label<x[2]){C.label=x[2],C.ops.push(B);break}x[2]&&C.ops.pop(),C.trys.pop();continue}B=p.call(S,C)}catch(G){B=[6,G],O=0}finally{k=x=0}if(5&B[0])throw B[1];return{value:B[0]?B[1]:void 0,done:!0}}([B,G])}}};Object.defineProperty(g,"__esModule",{value:!0});var y=d(501),_=d(6849),b=d(5874),m=d(2915),v=d(1927),I=d(6648),h=d(5145),c=d(6355),D=d(8636),w=function(){function S(){}return S.getDocumentTypeFromContentType=function(p){return D.default.isDocumentTypeImage(p)?y.default.DocumentTypeImage:y.default.DocumentTypeFile},S.createNewDocument=function(p,C,k){return u(this,void 0,void 0,function(){var x,j,V,L,B;return T(this,function(G){return(B={})[p]=[h.default[h.default.read]],x={filename:C.name,permissions:B,type:S.getDocumentTypeFromContentType(C.type)},j=v.default.getAmsObjectsUrl(k.RegionGtms),(V=I.default.getDefaultAMSHeaders(k.SkypeToken))[_.default.ContentTypeHeader]=y.default.ContentTypeJson,L={data:JSON.stringify(x),headers:V,type:b.default.POST,url:j},[2,m.HttpClient.MakeRequest(L)]})})},S.uploadDocument=function(p,C,k){return u(this,void 0,void 0,function(){var O,x,j;return T(this,function(L){return console.log("AmsHelper.ts uploadDocument(): "+p+", "+C+", "+k),O=D.default.isDocumentTypeImage(C.type),x=v.default.getAmsObjectContentUrl(p,k.RegionGtms,O),j=I.default.getDefaultAMSHeaders(k.SkypeToken),[2,m.HttpClient.MakeRequest({data:C.data,headers:j,processData:!1,type:b.default.PUT,url:x})]})})},S.getFileStatus=function(p,C){var k=D.default.isImageType(p.type),O=v.default.getAmsStatusUrl(p.id,C.RegionGtms,k);return this.getViewStatus(O,C).then(function(x){return x.scan&&x.scan.status===y.default.Malware?c.default.Error:x.view_state===y.default.Ready?c.default.Success:x.scan&&x.scan.status===y.default.InProgress||x.view_state&&x.view_state!==y.default.Failed?c.default.InProgress:c.default.Error}).catch(function(){return Promise.reject({})})},S.downloadDocument=function(p,C){var k=this,O=D.default.isImageType(p.type),x=v.default.getAmsStatusUrl(p.id,C.RegionGtms,O);return new Promise(function(j){k.getViewUri(x,C).then(function(V){var L=new Headers;return L.append("Authorization","skype_token "+C.SkypeToken),L.append("X-MS-Client-Version",y.default.ClientVersion),O&&(L.append("accept",y.default.AMSAcceptHeaderValue),L.append("Accept-Encoding",y.default.AMSAcceptEncodingHeaderValue)),fetch(V,{headers:L,method:b.default.GET}).then(function(G){j(G.blob())}).catch(function(){return Promise.reject({})})})})},S.getViewUri=function(p,C){var k=this;return this.getViewStatus(p,C).then(function(O){return!O.view_location||O.view_state===y.default.Failed||O.scan&&O.scan.status===y.default.Malware?Promise.reject({}):O.view_state&&O.view_state!==y.default.Ready?k.getViewUri(p,C):O.content_state===y.default.Expired?Promise.reject({}):Promise.resolve(O.view_location)}).catch(function(){return Promise.reject("")})},S.getViewStatus=function(p,C){var k=this;return console.log("AmsHelper.ts getViewStatus(): "+p+", "+C),new Promise(function(O){setTimeout(O,y.default.DelayForAms)}).then(function(){var O=I.default.getDefaultAMSViewHeaders(C.SkypeToken);return m.HttpClient.MakeRequest({headers:O,type:b.default.GET,url:p}).then(function(j){return j.status_location&&!j.view_state?k.getViewStatus(j.status_location,C):Promise.resolve(j)}).catch(function(j){return Promise.reject(401===j.status||403===j.status?"unauthorized":{})})})},S}();g.default=w},501:(z,g)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var d=function(){function u(){}return u.NewMessageEvent="NewMessage",u.MessageUpdateEvent="MessageUpdate",u.ThreadUpdateEvent="ThreadUpdate",u.ConversationUpdateEvent="ConversationUpdate",u.HttpLongPoll="HttpLongPoll",u.ContentTypeJson="application/json",u.ContentTypeTextPlain="text/plain;charset=UTF-8",u.ContentTypeForm="application/x-www-form-urlencoded",u.RedirectAs404="redirectAs404",u.NoCache="no-cache",u.User="user",u.Web="web",u.ClientInfoValue="os=Windows; osVer=10; proc=Win32; lcid=en-us; deviceType=1; country=IN; clientName=swc; clientVer=912/0.106.0.34//swc",u.TextPlainMimeType="text/plain",u.SwcName="SWC",u.Image="image",u.ClientVersion="937/0.123.0.9",u.DelayForAms=50,u.Reset_Flag="reset_ic3_needed",u.Malware="malware",u.Ready="ready",u.InProgress="in progress",u.Failed="failed",u.Expired="expired",u.ImageView="imgpsh_fullsize_anim",u.FileView="original",u.DocumentTypeImage="pish/image",u.DocumentTypeFile="sharing/file",u.ImageContent="imgpsh",u.FileContent="original",u.AMSAcceptHeaderValue="image/webp,image/ *,*/*;q=0.8",u.AMSAcceptEncodingHeaderValue="gzip, deflate, sdch, br",u.AMSAuthorizationSkypeTokenValue="skype_token ",u.stabilizePollMaxRetryCount=50,u.timeBetweenStabilizingPoll=1e3,u.retryCount=2,u.retry404Count=3,u.retryOtherCount=3,u.liveStateRetryCount=3,u.timeBetweenOperationRetry=1e3,u.heartBeatDuration=3e4,u.endpointRequestLog="Endpoint request",u.subscriptionRequestLog="Subscription request",u.setPropertiesRequestLog="Set message properties request",u.unsubscribeRequestLog="Unsubscribe from endpoint request",u.pollRequestLog="Polling",u.oldInitializer="Old initializer",u.newInitializer="New Initializer",u.skypeTokenAuthURL="/v1/skypetokenauth",u.skypeTokenConstantForData="skypetoken=",u}();g.default=d},1927:(z,g,d)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var u=d(501),T=d(6849),y=d(909),_=function(){function b(){}return b.getV2EndpointUrl=function(m,v){return v.chatService+"/v2/users/ME/endpoints/"+m},b.getThreadUrl=function(m,v){return v.chatService+"/v1/threads/"+m+"?view=msnp24Equivalent"},b.getMessagesUrl=function(m,v){return v.chatService+"/v1/users/ME/conversations/"+m+"/messages"},b.getBotMessagesUrl=function(m,v){return v.chatService+"/v1/agents/"+m+"/invoke"},b.getAmsObjectsUrl=function(m){return y.default.sanitizeUrlWithBackSlash(m.ams)+"v1/objects"},b.getAmsObjectContentUrl=function(m,v,I){void 0===I&&(I=!1);var h=I?u.default.ImageContent:u.default.FileContent;return y.default.sanitizeUrlWithBackSlash(v.ams)+"v1/objects/"+m+"/content/"+h},b.getAmsObjectViewUrl=function(m,v,I){void 0===I&&(I=!1);var h=I?u.default.ImageView:u.default.FileView;return y.default.sanitizeUrlWithBackSlash(v.ams)+"v1/objects/"+m+"/views/"+h},b.getAmsStatusUrl=function(m,v,I){void 0===I&&(I=!1);var h=I?u.default.ImageView:u.default.FileView;return y.default.sanitizeUrlWithBackSlash(v.ams)+"v1/objects/"+m+"/views/"+h+"/status"},b.getV1EndpointUrl=function(m){return m.chatService+"/v1/users/ME/endpoints"},b.getV1DeleteEndpointUrl=function(m,v){return m.chatService+"/v1/users/ME/endpoints/"+v},b.getV1SubscriptionUrl=function(m){return m.chatService+"/v1/users/ME/endpoints/SELF/subscriptions"},b.getV1PollUrl=function(m,v){return m.chatService+"/v1/users/ME/endpoints/SELF/subscriptions/"+v+"/poll"},b.getV1SetPropertiesUrl=function(m){return m.chatService+"/v1/users/ME/endpoints/SELF/properties?name="+T.default.SetEndpointProperty},b}();g.default=_},8636:function(z,g,d){"use strict";var u=this&&this.__assign||function(){return(u=Object.assign||function(p){for(var C,k=1,O=arguments.length;k<O;k++)for(var x in C=arguments[k])Object.prototype.hasOwnProperty.call(C,x)&&(p[x]=C[x]);return p}).apply(this,arguments)};Object.defineProperty(g,"__esModule",{value:!0});var T=d(501),y=d(2900),_=d(4694),b=d(9306),m=d(448),v=d(3207),I=d(3372),h=d(4352),c=d(1927),D=d(7708),w=d(909),S=function(){function p(){}return p.createMessageData=function(C){var O=C.content,x=p.createBaseMessageData(C.contentType===m.default.Text?v.default.Text:v.default.RichTextHtml,C.contentType.toString(),O);return x.properties=this.getMessageProperties(C),w.default.isNullOrUndefined(C.sender.displayName)||(x.imdisplayname=C.sender.displayName),x},p.createBaseMessageData=function(C,k,O){return{"Has-Mentions":"false",clientmessageid:Date.now().toString(),composetime:(new Date).toISOString(),content:O,contenttype:k,messagetype:C}},p.getMessageProperties=function(C){var k={};if(k.deliveryMode=C.deliveryMode.toString(),C.tags){var O=[];C.tags.forEach(function(x){O.push(x)}),k.tags=O.join()}return k},p.createTypingStatusThreadMessageData=function(C,k){var O="";switch(C){case D.default.Typing:O=v.default.ControlTyping;break;case D.default.ClearTyping:O=v.default.ControlClearTyping}var x=p.createBaseMessageData(O,m.default.Text,"");return w.default.isNullOrUndefined(k)||(x=u(u({},k),x)),x},p.createBotMessageData=function(C,k){return JSON.stringify({conversation:{id:C},value:k})},p.createFileMessage=function(C,k,O){var x=v.default.Text,j=m.default.Text.toString().toLowerCase(),V=p.createBaseMessageData(x,j.toString(),"");return V.amsreferences=JSON.stringify([C.id]),V.properties=JSON.stringify(this.createFileMessageProperties(C,k,O)),w.default.isNullOrUndefined(O.sender.displayName)||(V.imdisplayname=O.sender.displayName),V},p.createFileMessageProperties=function(C,k,O){var x={};if(x.deliveryMode=O.deliveryMode.toString(),x.files=JSON.stringify([this.createFileProperty(C,k)]),x.importance="",x.subject="",O.tags){var j=[];O.tags.forEach(function(V){j.push(V)}),x.tags=j.join()}return x},p.createFileProperty=function(C,k){var O=!!p.isDocumentTypeImage(C.type);return{"@type":"http://schema.skype.com/File",type:C.type,itemid:"",baseUrl:"",providerData:"",version:2,id:C.id,title:C.name,state:"active",objectUrl:c.default.getAmsObjectViewUrl(C.id,k.RegionGtms,O),fileName:C.name,fileType:p.getNameAndExtension(C.name).extension,botFileProperties:{url:c.default.getAmsObjectViewUrl(C.id,k.RegionGtms,O)},fileInfo:{fileUrl:c.default.getAmsObjectContentUrl(C.id,k.RegionGtms,O),siteUrl:"",serverRelativeUrl:""},filePreview:{previewUrl:""}}},p.getNameAndExtension=function(C){var k=(C||"").split("."),O="",x="";return k.length>1?(x=k.pop().toLowerCase(),O=k.join(".")):(x="",O=k[0]),{name:O,extension:x}},p.createIRawMessage=function(C,k,O){var j,V,x={clientmessageid:C.clientmessageid,content:C.content,contentType:p.getMessageContentType(C),deliveryMode:w.default.isNullOrUndefined(C.properties)||C.properties.deliveryMode!==y.default.Bridged?y.default.Unbridged:y.default.Bridged,messageType:p.getMessageType(C),properties:C.properties,sender:{displayName:C.imdisplayname,id:C.from,type:p.getPersonType(C.from)},timestamp:new Date(Date.parse(C.originalarrivaltime))};(O&&(x.resourceType=O),w.default.isNullOrUndefined(C.properties)||w.default.isNullOrEmptyString(C.properties.tags))||(j=C.properties.tags.split(","),x.tags=j);if(!w.default.isNullOrUndefined(C.properties)&&!w.default.isNullOrEmptyString(C.properties.files)&&(V=JSON.parse(C.properties.files)).length>0){var L=V[0].id;w.default.isNullOrUndefined(L)&&C.amsreferences&&(L=C.amsreferences[0]);var B=p.getFileUrl(V[0],L,k);x.fileMetadata={fileSharingProtocolType:_.default.AmsBasedFileSharing,id:L,name:V[0].fileName,size:V[0].version,type:V[0].fileType,url:B}}return x},p.createIRawThread=function(C){return{id:C.id,members:C.members,messages:C.messages,properties:C.properties,rosterVersion:C.rosterVersion,type:C.type,version:C.version}},p.getConversationIdFromUrl=function(C){var k=C&&C.match(/\/(\d+:[^\/]*)[\/]?/);return k&&k[1]?k[1]:void 0},p.isSystemMessage=function(C){var k=!1;return w.default.isNullOrEmptyString(C.messagetype)||(k=p.getSystemMessageTypes().reduce(function(O,x){return O||0===C.messagetype.toLowerCase().indexOf(x.toLowerCase())},k)),k},p.getPersonType=function(C){var k=h.default.Unknown,O=C.split("/").pop();return 0===O.indexOf("28:")?k=h.default.Bot:0===O.indexOf("19:")&&(k=h.default.User),k},p.isImageType=function(C){switch(C.toLowerCase()){case"jpeg":case"jpg":case"gif":case"png":case"bmp":case"tiff":case"jfif":return!0;default:return!1}},p.getMessageType=function(C){var k;switch(C.messagetype){case I.default.Typing:k=I.default.Typing;break;case I.default.ClearTyping:k=I.default.ClearTyping;break;default:k=I.default.UserMessage}return k},p.getMessageContentType=function(C){var O=C.contenttype?C.contenttype:C.messagetype;return O===v.default.Text.toLowerCase()||O.indexOf(T.default.TextPlainMimeType)>=0?m.default.Text:m.default.RichText},p.getSystemMessageTypes=function(){return["ThreadActivity"]},p.getFileUrl=function(C,k,O){var j,x=C.fileInfo;if(x&&x.fileUrl)j=x.fileUrl;else if(k){var V=p.isImageType(C.fileType);j=c.default.getAmsObjectContentUrl(k,O.RegionGtms,V)}return j},p.isDocumentTypeImage=function(C){return-1!==C.indexOf(T.default.Image)},p.getDomainRegexp=function(){return new RegExp(/^(https?:.+?\.microsoft\.com)/i)},p.parseDomain=function(C){var k=C.match(p.getDomainRegexp());return k?k[1]:null},p.parseChatServiceHostUrl=function(C){return p.parseDomain(C)},p.shouldRetryOnFailure=function(C){return C!==b.default.Accepted&&C!==b.default.Created},p}();g.default=S},909:(z,g,d)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var u=d(6849),T=function(){function y(){}return y.isNullOrEmptyString=function(_){return y.isNullOrUndefined(_)||""===_},y.isNullOrUndefinedOrEmptyArray=function(_){return y.isNullOrUndefined(_)||0===_.length},y.isNullOrUndefined=function(_){return null==_},y.isPrimitiveString=function(_){return"string"==typeof _},y.convertStringToBoolean=function(_){return!y.isNullOrUndefined(_)&&"true"===_.toLowerCase()},y.sanitizeUrlWithBackSlash=function(_){return _.endsWith("/")?_:_+"/"},y.getRegistrationTokenValue=function(_){var b=_.match(/registrationToken=(.+); expires=(\d+)/);return b&&b.length>=2?u.default.RegistrationTokenHeaderValue+b[1]:""},y.addQueryParametersToPath=function(_,b){var m=_;if(!y.isNullOrUndefined(b))for(var v in m.indexOf("?")>=0||(m+="?"),b)if(b.hasOwnProperty(v)){var I=v+"="+b[v];"?"!==m[m.length-1]&&(I="&"+I),m+=I}return m},y.getResponseHeader=function(_,b){var m;return y.isNullOrUndefined(_)||(m=_.headers[b]),m},y.timer=function(){var _=(new Date).getTime();return{get milliSecondsElapsed(){return(new Date).getTime()-_}}},y.concatArrays=function(_,b){!y.isNullOrUndefined(_)&&!y.isNullOrUndefined(b)&&b.forEach(function(m){_.push(m)})},y}();g.default=T},1288:function(z,g,d){"use strict";var u=this&&this.__awaiter||function(m,v,I,h){return new(I||(I=Promise))(function(D,w){function S(k){try{C(h.next(k))}catch(O){w(O)}}function p(k){try{C(h.throw(k))}catch(O){w(O)}}function C(k){k.done?D(k.value):function(D){return D instanceof I?D:new I(function(w){w(D)})}(k.value).then(S,p)}C((h=h.apply(m,v||[])).next())})},T=this&&this.__generator||function(m,v){var h,c,D,w,I={label:0,sent:function(){if(1&D[0])throw D[1];return D[1]},trys:[],ops:[]};return w={next:S(0),throw:S(1),return:S(2)},"function"==typeof Symbol&&(w[Symbol.iterator]=function(){return this}),w;function S(C){return function(k){return function(C){if(h)throw new TypeError("Generator is already executing.");for(;I;)try{if(h=1,c&&(D=2&C[0]?c.return:C[0]?c.throw||((D=c.return)&&D.call(c),0):c.next)&&!(D=D.call(c,C[1])).done)return D;switch(c=0,D&&(C=[2&C[0],D.value]),C[0]){case 0:case 1:D=C;break;case 4:return I.label++,{value:C[1],done:!1};case 5:I.label++,c=C[1],C=[0];continue;case 7:C=I.ops.pop(),I.trys.pop();continue;default:if(!(D=(D=I.trys).length>0&&D[D.length-1])&&(6===C[0]||2===C[0])){I=0;continue}if(3===C[0]&&(!D||C[1]>D[0]&&C[1]<D[3])){I.label=C[1];break}if(6===C[0]&&I.label<D[1]){I.label=D[1],D=C;break}if(D&&I.label<D[2]){I.label=D[2],I.ops.push(C);break}D[2]&&I.ops.pop(),I.trys.pop();continue}C=v.call(m,I)}catch(k){C=[6,k],c=0}finally{h=D=0}if(5&C[0])throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}([C,k])}}};Object.defineProperty(g,"__esModule",{value:!0});var y=d(2217),_=d(737),b=function(){function m(v){this.hostType=y.default.Page,this.id=(0,_.uuidv4)(),this.protocolType=v,this.newConversationMessageListeners={},this.threadUpdateListeners={},this.debug=!1}return m.prototype.setDebug=function(v){this.debug=v},m.prototype.joinConversation=function(v,I){var h=this;return this.onJoinConversation(v,I).then(function(c){return{disconnect:h.disconnectFromConversation.bind(h,c),downloadFile:h.downloadFile.bind(h,c),getFileStatus:h.getFileStatus.bind(h,c),getMembers:h.getMembers.bind(h,c),getMessages:h.getMessages.bind(h,c),id:c.id,indicateTypingStatus:h.indicateTypingStatus.bind(h,c),registerOnNewMessage:h.registerOnNewMessage.bind(h,c),registerOnThreadUpdate:h.registerOnThreadUpdate.bind(h,c),sendFileMessage:h.sendFileMessage.bind(h,c),sendMessage:h.sendMessage.bind(h,c),sendMessageToBot:h.sendMessageToBot.bind(h,c),uploadFile:h.uploadFile.bind(h,c),sendFileData:h.sendFileData.bind(h,c)}})},m.prototype.registerOnNewMessage=function(v,I){return u(this,void 0,void 0,function(){return T(this,function(h){return[2,Promise.resolve()]})})},m.prototype.registerOnThreadUpdate=function(v,I){return u(this,void 0,void 0,function(){return T(this,function(h){return[2,Promise.resolve()]})})},m.prototype.uploadFile=function(v,I,h){return Promise.resolve()},m.prototype.downloadFile=function(v,I){return this.debug&&console.debug("IC3Core/ClientBridge/downloadFile"),this.downloadFileData(v,I).then(function(h){if(h&&h.size)return h;var D=new Blob([new Uint8Array(h)]);return!D||0===D.size&&""===D.type?h:D})},m}();g.default=b},2518:(z,g,d)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var u=d(333),T=d(2217),y=function(){function _(){}return _.getClientBridge=function(b){switch(b.hostType){case T.default.IFrame:throw new Error("Framed bridge not implemented for "+b.hostType+" in IC3Core");case T.default.Page:return new u.default(b.protocolType);default:throw new Error("Client bridge not implemented for "+b.hostType+" in IC3Core")}},_}();g.default=y},333:function(z,g,d){"use strict";var I,u=this&&this.__extends||(I=function(h,c){return(I=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,w){D.__proto__=w}||function(D,w){for(var S in w)Object.prototype.hasOwnProperty.call(w,S)&&(D[S]=w[S])})(h,c)},function(h,c){if("function"!=typeof c&&null!==c)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function D(){this.constructor=h}I(h,c),h.prototype=null===c?Object.create(c):(D.prototype=c.prototype,new D)}),T=this&&this.__awaiter||function(I,h,c,D){return new(c||(c=Promise))(function(S,p){function C(x){try{O(D.next(x))}catch(j){p(j)}}function k(x){try{O(D.throw(x))}catch(j){p(j)}}function O(x){x.done?S(x.value):function(S){return S instanceof c?S:new c(function(p){p(S)})}(x.value).then(C,k)}O((D=D.apply(I,h||[])).next())})},y=this&&this.__generator||function(I,h){var D,w,S,p,c={label:0,sent:function(){if(1&S[0])throw S[1];return S[1]},trys:[],ops:[]};return p={next:C(0),throw:C(1),return:C(2)},"function"==typeof Symbol&&(p[Symbol.iterator]=function(){return this}),p;function C(O){return function(x){return function(O){if(D)throw new TypeError("Generator is already executing.");for(;c;)try{if(D=1,w&&(S=2&O[0]?w.return:O[0]?w.throw||((S=w.return)&&S.call(w),0):w.next)&&!(S=S.call(w,O[1])).done)return S;switch(w=0,S&&(O=[2&O[0],S.value]),O[0]){case 0:case 1:S=O;break;case 4:return c.label++,{value:O[1],done:!1};case 5:c.label++,w=O[1],O=[0];continue;case 7:O=c.ops.pop(),c.trys.pop();continue;default:if(!(S=(S=c.trys).length>0&&S[S.length-1])&&(6===O[0]||2===O[0])){c=0;continue}if(3===O[0]&&(!S||O[1]>S[0]&&O[1]<S[3])){c.label=O[1];break}if(6===O[0]&&c.label<S[1]){c.label=S[1],S=O;break}if(S&&c.label<S[2]){c.label=S[2],c.ops.push(O);break}S[2]&&c.ops.pop(),c.trys.pop();continue}O=h.call(I,c)}catch(x){O=[6,x],w=0}finally{D=S=0}if(5&O[0])throw O[1];return{value:O[0]?O[1]:void 0,done:!0}}([O,x])}}};Object.defineProperty(g,"__esModule",{value:!0});var _=d(1288),b=d(2217),m=d(9515),v=function(I){function h(c){var D=I.call(this,c)||this;return D.hostType=b.default.Page,D.protocolAdapter=new m.default("",D.hostType),D}return u(h,I),h.prototype.setup=function(c){return Promise.resolve()},h.prototype.update=function(c){return Promise.resolve()},h.prototype.onRegisterOnNewMessage=function(c){return Promise.resolve()},h.prototype.onRegisterOnThreadUpdate=function(c){return Promise.resolve()},h.prototype.initialize=function(c){return this.protocolAdapter.initialize(c)},h.prototype.dispose=function(){return this.protocolAdapter.dispose()},h.prototype.sendMessage=function(c,D){return this.protocolAdapter.sendMessage(c,D)},h.prototype.sendFileMessage=function(c,D,w){return this.protocolAdapter.sendFileMessage(c,D,w)},h.prototype.getMessages=function(c){return this.protocolAdapter.getMessages(c)},h.prototype.disconnectFromConversation=function(c){return this.protocolAdapter.disconnectFromConversation(c)},h.prototype.onJoinConversation=function(c,D){return this.protocolAdapter.joinConversation(c,D)},h.prototype.sendFileData=function(c,D,w){return this.protocolAdapter.sendFileData(c,D,w)},h.prototype.downloadFileData=function(c,D){return this.protocolAdapter.downloadFileData(c,D)},h.prototype.getFileStatus=function(c,D){return this.protocolAdapter.getFileStatus(c,D)},h.prototype.indicateTypingStatus=function(c,D,w){return this.protocolAdapter.indicateTypingStatus(c,D,w)},h.prototype.sendMessageToBot=function(c,D,w){return this.protocolAdapter.sendMessageToBot(c,D,w)},h.prototype.getMembers=function(c){return this.protocolAdapter.getMembers(c)},h.prototype.registerOnNewMessage=function(c,D){return T(this,void 0,void 0,function(){return y(this,function(w){return this.protocolAdapter.registerOnNewMessage(c,D),[2,Promise.resolve()]})})},h.prototype.registerOnThreadUpdate=function(c,D){return T(this,void 0,void 0,function(){return y(this,function(w){return this.protocolAdapter.registerOnThreadUpdate(c,D),[2,Promise.resolve()]})})},h.prototype.setDebug=function(c){void 0===c&&(c=!1),this.protocolAdapter.setDebug(c)},h}(_.default);g.default=v},1218:(z,g,d)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var u=d(3865),T=d(501),y=d(4694),_=d(6355),b=d(2217),m=d(2915),v=d(5256),I=d(6849),h=d(5874),c=d(3671),D=d(752),w=d(448),S=d(3207),p=d(5655),C=d(6648),k=d(1927),O=d(8636),x=d(909),j=function(){function V(L){this.hostType=b.default.Page,this.protocolType=p.default.IC3V1SDK,this.id=L,this.conversations=[],this.newConversationMessageListeners={},this.threadUpdateListeners={},this.internalConversationsData={},this.liveStateFailureCount=0,this.debug=!1}return V.prototype.startPolling=function(){this.ic3Initializer&&this.ic3Initializer.startPolling()},V.prototype.stopPolling=function(){this.ic3Initializer&&this.ic3Initializer.stopPolling()},V.prototype.setup=function(L){return this.logger=L.logger,m.HttpClient.setLogger(this.logger),Promise.resolve()},V.prototype.initialize=function(L){return this.setupSession(L),Promise.resolve()},V.prototype.update=function(L){return Promise.resolve()},V.prototype.dispose=function(){return this.conversations=[],this.newConversationMessageListeners={},this.threadUpdateListeners={},this.internalConversationsData={},Promise.resolve()},V.prototype.joinConversation=function(L,B){var G;void 0===B&&(B=!0);var Q=x.default.timer(),$={id:L};return-1===this.conversations.findIndex(function(q){return q.id===$.id})&&(this.conversations.push($),this.newConversationMessageListeners[$.id]=this.newConversationMessageListeners[$.id]||[],this.threadUpdateListeners[$.id]=this.threadUpdateListeners[$.id]||[]),null===(G=this.logger)||void 0===G||G.log(D.default.INFO,c.default.JoinConversation,{ElapsedTimeInMilliseconds:Q.milliSecondsElapsed,EndpointUrl:this.EndpointUrl,EndpointId:this.EndpointId}),!x.default.isNullOrUndefined(B)&&!0===B&&this.sendHeartBeat($.id),Promise.resolve($)},V.prototype.sendLiveState=function(L){var B=this;this.debug&&console.debug("IC3Core/sendLiveState");var $=O.default.createBaseMessageData(S.default.LiveState,w.default.Text,"");return this.sendMessageToIC3(L,$).then(function(){return B.liveStateFailureCount=0,Promise.resolve()}).catch(function(ue){var q;B.liveStateFailureCount++,B.liveStateFailureCount>=T.default.liveStateRetryCount&&(null===(q=B.logger)||void 0===q||q.log(D.default.ERROR,c.default.SendLiveStateFailure,{ExceptionDetails:ue,EndpointUrl:B.EndpointUrl,EndpointId:B.EndpointId}),B.stopHeartBeat(),B.liveStateFailureCount=0)})},V.prototype.sendHeartBeat=function(L){this.heartBeatTimer||(this.debug&&console.debug("IC3Core/sendHeartBeat"),this.sendLiveState(L),this.heartBeatTimer=window.setInterval(this.sendLiveState.bind(this,L),T.default.heartBeatDuration))},V.prototype.stopHeartBeat=function(){clearInterval(this.heartBeatTimer)},V.prototype.sendMessage=function(L,B){var G=O.default.createMessageData(B);return this.sendMessageToIC3(L.id,G)},V.prototype.getMessages=function(L){var B=this,G=C.default.getDefaultGetMessagesQueryParameters(),Q=x.default.addQueryParametersToPath(k.default.getMessagesUrl(L.id,this.ic3Info.RegionGtms),G),$=C.default.getDefaultIC3Headers();return $[I.default.RegistrationTokenHeader]=this.ic3Info.RegistrationToken,$[I.default.ContentTypeHeader]=T.default.ContentTypeJson,m.HttpClient.MakeRequest({enableExponentialBackoff:!0,headers:$,redirect404RetryCount:T.default.retryCount,retryCount:T.default.retryCount,shouldRedirectOn404:!1,shouldResetOnFailure:!1,shouldRetryOnFailure:O.default.shouldRetryOnFailure,timeBetweenRetry:T.default.timeBetweenOperationRetry,type:h.default.GET,url:Q}).then(function(q){for(var X=[],oe=0,ce=q.messages;oe<ce.length;oe++){var ie=ce[oe];O.default.isSystemMessage(ie)||X.push(O.default.createIRawMessage(ie,B.ic3Info))}return B.getAllMessagesFromBackwardLinkUrl(q._metadata.backwardLink,G.startTime,X)})},V.prototype.registerOnNewMessage=function(L,B){var G;return this.newConversationMessageListeners[L.id].push(B),null===(G=this.logger)||void 0===G||G.log(D.default.INFO,c.default.RegisterOnNewMessage,{EndpointUrl:this.EndpointUrl,EndpointId:this.EndpointId}),Promise.resolve()},V.prototype.registerOnThreadUpdate=function(L,B){var G;return this.threadUpdateListeners[L.id].push(B),null===(G=this.logger)||void 0===G||G.log(D.default.INFO,c.default.RegisterOnThreadUpdate,{EndpointUrl:this.EndpointUrl,EndpointId:this.EndpointId}),Promise.resolve()},V.prototype.disconnectFromConversation=function(L){return this.conversations.findIndex(function(B){return B.id===L.id}),delete this.internalConversationsData[L.id],this.ic3Info.visitor&&(this.stopHeartBeat(),this.stopPolling()),Promise.resolve()},V.prototype.sendFileData=function(L,B,G){var Q=this;if(x.default.isNullOrUndefined(G)&&(G=y.default.AmsBasedFileSharing),B.size<=0)throw new Error("File size is lesser or equal to zero.");var $={fileSharingProtocolType:G,id:"",name:B.name,size:B.size,type:B.type,url:""};return new Promise(function(ue,q){u.default.createNewDocument(L.id,B,Q.ic3Info).then(function(X){$.id=X.id;var oe=O.default.isDocumentTypeImage(B.type);$.url=k.default.getAmsObjectContentUrl(X.id,Q.ic3Info.RegionGtms,oe),u.default.uploadDocument(X.id,B,Q.ic3Info).then(function(){ue($)}).catch(function(ce){q(ce)})}).catch(function(X){q(X)})})},V.prototype.sendFileMessage=function(L,B,G){return this.sendMessageToIC3(L.id,O.default.createFileMessage(B,this.ic3Info,G))},V.prototype.downloadFileData=function(L,B){var G=this;return this.debug&&console.debug("IC3Core/IC3ClientAdapter/downloadFileData"),new Promise(function(Q,$){var ue=B.fileSharingProtocolType;x.default.isNullOrUndefined(ue)&&(ue=y.default.AmsBasedFileSharing),ue===y.default.AmsBasedFileSharing?u.default.downloadDocument(B,G.ic3Info).then(function(q){Q(q)}).catch(function(q){$(q)}):$("This Protocol is not implemented")})},V.prototype.getFileStatus=function(L,B){var G=this;return new Promise(function(Q,$){var ue=B.fileSharingProtocolType;x.default.isNullOrUndefined(ue)&&(ue=y.default.AmsBasedFileSharing),ue===y.default.AmsBasedFileSharing?u.default.getFileStatus(B,G.ic3Info).then(function(q){Q(q)}).catch(function(q){$(_.default.Error+" e")}):$("This Protocol is not implemented")})},V.prototype.indicateTypingStatus=function(L,B,G){var Q=O.default.createTypingStatusThreadMessageData(B,G);return this.sendMessageToIC3(L.id,Q)},V.prototype.sendMessageToBot=function(L,B,G){var Q=O.default.createBotMessageData(L.id,G),$=k.default.getBotMessagesUrl(B,this.ic3Info.RegionGtms),ue=C.default.getDefaultIC3Headers();return ue[I.default.RegistrationTokenHeader]=this.ic3Info.RegistrationToken,ue[I.default.ContentTypeHeader]=T.default.ContentTypeTextPlain,m.HttpClient.MakeRequest({data:Q,dataType:v.default.TEXT,enableExponentialBackoff:!0,headers:ue,redirect404RetryCount:T.default.retryCount,retryCount:T.default.retryCount,shouldRedirectOn404:!1,shouldResetOnFailure:!1,shouldRetryOnFailure:O.default.shouldRetryOnFailure,timeBetweenRetry:T.default.timeBetweenOperationRetry,type:h.default.POST,url:$})},V.prototype.getMembers=function(L){var B=this.internalConversationsData[L.id].members,G=[];return x.default.isNullOrUndefinedOrEmptyArray(B)||B.forEach(function(Q){var $={displayName:Q.friendlyName,id:Q.id,type:O.default.getPersonType(Q.id)};G.push($)}),Promise.resolve(G)},V.prototype.sendMessageToIC3=function(L,B){var G=k.default.getMessagesUrl(L,this.ic3Info.RegionGtms),Q=C.default.getDefaultIC3Headers();Q[I.default.RegistrationTokenHeader]=this.ic3Info.RegistrationToken,Q[I.default.ContentTypeHeader]=T.default.ContentTypeJson;var $={data:JSON.stringify(B),enableExponentialBackoff:!0,headers:Q,redirect404RetryCount:T.default.retryCount,retryCount:T.default.retryCount,shouldRedirectOn404:!1,shouldResetOnFailure:!1,shouldRetryOnFailure:O.default.shouldRetryOnFailure,timeBetweenRetry:T.default.timeBetweenOperationRetry,type:h.default.POST,url:G};return m.HttpClient.MakeRequest($)},V.prototype.onNewMessage=function(L,B,G){var $,Q=this,ue=x.default.timer();try{L&&(x.default.isNullOrUndefined(this.newConversationMessageListeners[L.id])||O.default.isSystemMessage(B)||this.newConversationMessageListeners[L.id].forEach(function(X){X(O.default.createIRawMessage(B,Q.ic3Info,G))}))}catch(X){return void(null===($=this.logger)||void 0===$||$.log(D.default.ERROR,c.default.OnNewMessageFailure,{ExceptionDetails:X,ElapsedTimeInMilliseconds:ue.milliSecondsElapsed,EndpointUrl:this.EndpointUrl,EndpointId:this.EndpointId}))}},V.prototype.onThreadUpdate=function(L,B){var G,Q=x.default.timer();try{L&&(x.default.isNullOrUndefined(this.threadUpdateListeners[L.id])||this.threadUpdateListeners[L.id].forEach(function(ue){ue(O.default.createIRawThread(B))}))}catch(ue){return void(null===(G=this.logger)||void 0===G||G.log(D.default.ERROR,c.default.OnThreadUpdateFailure,{ExceptionDetails:ue,ElapsedTimeInMilliseconds:Q.milliSecondsElapsed,EndpointUrl:this.EndpointUrl,EndpointId:this.EndpointId}))}},V.prototype.getAllMessagesFromBackwardLinkUrl=function(L,B,G){var Q=this;return x.default.isNullOrEmptyString(L)?Promise.resolve(G):this.getMessagesFromBackwardLinkUrl(L,B).then(function($){for(var ue=0,q=$.messages;ue<q.length;ue++){var X=q[ue];O.default.isSystemMessage(X)||G.push(O.default.createIRawMessage(X,Q.ic3Info))}return Q.getAllMessagesFromBackwardLinkUrl($._metadata.backwardLink,B,G)})},V.prototype.getMessagesFromBackwardLinkUrl=function(L,B){var Q=x.default.addQueryParametersToPath(L,{startTime:B}),$=C.default.getDefaultIC3Headers();return $[I.default.RegistrationTokenHeader]=this.ic3Info.RegistrationToken,$[I.default.ContentTypeHeader]=T.default.ContentTypeJson,m.HttpClient.MakeRequest({enableExponentialBackoff:!0,headers:$,redirect404RetryCount:T.default.retryCount,retryCount:T.default.retryCount,shouldRedirectOn404:!1,shouldResetOnFailure:!1,shouldRetryOnFailure:O.default.shouldRetryOnFailure,timeBetweenRetry:T.default.timeBetweenOperationRetry,type:h.default.GET,url:Q})},V.prototype.setupSession=function(L){this.ic3Info={SkypeToken:L.token,RegionGtms:L.regionGtms,visitor:L.visitor},x.default.isNullOrUndefined(this.ic3Info)||(this.EndpointId=this.ic3Info.endpointId,this.EndpointUrl=this.ic3Info.RegionGtms?this.ic3Info.RegionGtms.chatService:"")},V.prototype.setDebug=function(L){void 0===L&&(L=!1),this.debug=L},V}();g.default=j},9515:function(z,g,d){"use strict";var j,u=this&&this.__extends||(j=function(V,L){return(j=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(B,G){B.__proto__=G}||function(B,G){for(var Q in G)Object.prototype.hasOwnProperty.call(G,Q)&&(B[Q]=G[Q])})(V,L)},function(V,L){if("function"!=typeof L&&null!==L)throw new TypeError("Class extends value "+String(L)+" is not a constructor or null");function B(){this.constructor=V}j(V,L),V.prototype=null===L?Object.create(L):(B.prototype=L.prototype,new B)}),T=this&&this.__awaiter||function(j,V,L,B){return new(L||(L=Promise))(function(Q,$){function ue(oe){try{X(B.next(oe))}catch(ce){$(ce)}}function q(oe){try{X(B.throw(oe))}catch(ce){$(ce)}}function X(oe){oe.done?Q(oe.value):function(Q){return Q instanceof L?Q:new L(function($){$(Q)})}(oe.value).then(ue,q)}X((B=B.apply(j,V||[])).next())})},y=this&&this.__generator||function(j,V){var B,G,Q,$,L={label:0,sent:function(){if(1&Q[0])throw Q[1];return Q[1]},trys:[],ops:[]};return $={next:ue(0),throw:ue(1),return:ue(2)},"function"==typeof Symbol&&($[Symbol.iterator]=function(){return this}),$;function ue(X){return function(oe){return function(X){if(B)throw new TypeError("Generator is already executing.");for(;L;)try{if(B=1,G&&(Q=2&X[0]?G.return:X[0]?G.throw||((Q=G.return)&&Q.call(G),0):G.next)&&!(Q=Q.call(G,X[1])).done)return Q;switch(G=0,Q&&(X=[2&X[0],Q.value]),X[0]){case 0:case 1:Q=X;break;case 4:return L.label++,{value:X[1],done:!1};case 5:L.label++,G=X[1],X=[0];continue;case 7:X=L.ops.pop(),L.trys.pop();continue;default:if(!(Q=(Q=L.trys).length>0&&Q[Q.length-1])&&(6===X[0]||2===X[0])){L=0;continue}if(3===X[0]&&(!Q||X[1]>Q[0]&&X[1]<Q[3])){L.label=X[1];break}if(6===X[0]&&L.label<Q[1]){L.label=Q[1],Q=X;break}if(Q&&L.label<Q[2]){L.label=Q[2],L.ops.push(X);break}Q[2]&&L.ops.pop(),L.trys.pop();continue}X=V.call(j,L)}catch(oe){X=[6,oe],G=0}finally{B=Q=0}if(5&X[0])throw X[1];return{value:X[0]?X[1]:void 0,done:!0}}([X,oe])}}};Object.defineProperty(g,"__esModule",{value:!0});var _=d(501),b=d(6849),m=d(5874),v=d(1218),I=d(7037),h=d(3671),c=d(2915),D=d(752),w=d(5655),S=d(6648),p=d(5785),C=d(1927),k=d(8636),O=d(909),x=function(j){function V(L,B){var G=j.call(this,L)||this;return G.debug&&console.debug("IC3Core/Constructor"),G.protocolType=w.default.IC3V1SDK,G.hostType=B,G.ic3Initializer=new I.default,G}return u(V,j),V.prototype.startPolling=function(){j.prototype.startPolling.call(this)},V.prototype.stopPolling=function(){j.prototype.stopPolling.call(this)},V.prototype.setup=function(L){return j.prototype.setup.call(this,L)},V.prototype.initialize=function(L){var B=this;return j.prototype.initialize.call(this,L).then(function(){var Q;return null===(Q=B.ic3Initializer)||void 0===Q?void 0:Q.setup(B.logger).then(function(){return B.setSkypeTokenCookie()}).then(function(){var $;return null===($=B.ic3Initializer)||void 0===$?void 0:$.setIc3Info(B.ic3Info)}).then(function(){var $;return null===($=B.ic3Initializer)||void 0===$?void 0:$.initializeIC3(B.handlePollData.bind(B))}).then(function($){B.ic3Info=$})})},V.prototype.update=function(L){var B=this;return j.prototype.update.call(this,L).then(function(){return B.updateToken({RegionGtms:L.regionGtms,SkypeToken:L.token,visitor:L.visitor})})},V.prototype.dispose=function(){var L;return T(this,void 0,void 0,function(){return y(this,function(B){return null===(L=this.ic3Initializer)||void 0===L||L.stopPolling(),this.heartBeatTimer&&clearInterval(this.heartBeatTimer),Promise.resolve(),[2]})})},V.prototype.joinConversation=function(L,B){var G=this,Q=O.default.timer();return j.prototype.joinConversation.call(this,L,B).then(function($){return G.getThreadRequest($.id).then(function(ue){return G.internalConversationsData[$.id]={id:L,members:ue.members},$}).catch(function(ue){return G.logger&&G.logger.log(D.default.WARN,h.default.JoinConversationV1GetThreadRequestFailed,{Description:"Unable to retrieve thread: "+ue,ElapsedTimeInMilliseconds:Q.milliSecondsElapsed,EndpointUrl:G.EndpointUrl,EndpointId:G.ic3Info.endpointId}),G.internalConversationsData[$.id]={id:L,members:[]},$})})},V.prototype.sendMessage=function(L,B){return j.prototype.sendMessage.call(this,L,B)},V.prototype.sendFileMessage=function(L,B,G){return j.prototype.sendFileMessage.call(this,L,B,G)},V.prototype.getMessages=function(L){return j.prototype.getMessages.call(this,L)},V.prototype.registerOnNewMessage=function(L,B){return j.prototype.registerOnNewMessage.call(this,L,B)},V.prototype.registerOnThreadUpdate=function(L,B){return j.prototype.registerOnThreadUpdate.call(this,L,B)},V.prototype.disconnectFromConversation=function(L){return j.prototype.disconnectFromConversation.call(this,L)},V.prototype.setSkypeTokenCookie=function(){var L=this.ic3Info.RegionGtms.ams.concat(_.default.skypeTokenAuthURL),B=S.default.getDefaultBaseIC3Headers();return B[b.default.ContentTypeHeader]=_.default.ContentTypeForm,c.HttpClient.MakeRequest({data:_.default.skypeTokenConstantForData+this.ic3Info.SkypeToken,enableExponentialBackoff:!0,useXHRWithCredentials:!0,headers:B,redirect404RetryCount:_.default.retryCount,retryCount:_.default.retryCount,shouldRedirectOn404:!1,shouldResetOnFailure:!1,shouldRetryOnFailure:k.default.shouldRetryOnFailure,timeBetweenRetry:_.default.timeBetweenOperationRetry,type:m.default.POST,url:L})},V.prototype.getThreadRequest=function(L){var B=C.default.getThreadUrl(L,this.ic3Info.RegionGtms),G=S.default.getDefaultBaseIC3Headers();return G[b.default.RegistrationTokenHeader]=this.ic3Info.RegistrationToken,c.HttpClient.MakeRequest({enableExponentialBackoff:!0,headers:G,redirect404RetryCount:_.default.retryCount,retryCount:_.default.retryCount,shouldRedirectOn404:!0,shouldRetryOnFailure:k.default.shouldRetryOnFailure,timeBetweenRetry:_.default.timeBetweenOperationRetry,type:m.default.GET,url:B})},V.prototype.newMessageReceived=function(L,B,G){j.prototype.onNewMessage.call(this,L,B,G)},V.prototype.newThreadUpdate=function(L,B){j.prototype.onThreadUpdate.call(this,L,B)},V.prototype.handleNewMessageEvent=function(L){var B;B=L.resource&&L.resource.conversationid?L.resource.conversationid:k.default.getConversationIdFromUrl(L.resource.conversationLink?L.resource.conversationLink:L.resourceLink);var G=this.conversations.findIndex(function($){return $.id===B});this.newMessageReceived(this.conversations[G],L.resource,L.resourceType)},V.prototype.handleConversationUpdateEvent=function(L){},V.prototype.handleThreadUpdate=function(L){if(L.resourceType===p.default.ThreadUpdate){var B;B=L.resource&&L.resource.id?L.resource.id:k.default.getConversationIdFromUrl(L.resource.messages?L.resource.messages:L.resourceLink);var G=this.conversations.findIndex(function($){return $.id===B});this.newThreadUpdate(this.conversations[G],L.resource)}},V.prototype.handlePollData=function(L){if(L&&L.eventMessages)for(var B=0,G=L.eventMessages;B<G.length;B++)this.handlePollEventMessage(G[B])},V.prototype.handlePollEventMessage=function(L){L.resourceType===p.default.NewMessage||L.resourceType===p.default.MessageUpdate?this.handleNewMessageEvent(L):L.resourceType===p.default.ThreadUpdate?this.handleThreadUpdate(L):L.resourceType===p.default.ConversationUpdate&&this.handleConversationUpdateEvent(L)},V.prototype.updateToken=function(L){return T(this,void 0,void 0,function(){var B,G,Q,$,ue,q,X,oe,ce,ie,F=this;return y(this,function(W){switch(W.label){case 0:return this.logger&&this.logger.log(D.default.INFO,h.default.UpdateToken,{EndpointUrl:this.EndpointUrl,EndpointId:this.ic3Info.endpointId}),B=[],G=function(A){A&&A.eventMessages&&O.default.concatArrays(B,A.eventMessages)},Q=[],$=function(A){A&&A.eventMessages&&O.default.concatArrays(Q,A.eventMessages)},ue=this.ic3Initializer,q=new I.default,X=this.updateTokenClearTimeoutHandle,oe=this.ic3Info,ue.getPoller().onNewData=G,this.logger?[4,q.setup(this.logger)]:[3,2];case 1:W.sent(),W.label=2;case 2:return[2,q.setIc3Info(L).then(function(){return q.initializeIC3($)}).then(function(A){ce=A}).then(function(){return F.getMatchingIC3EventIndex(B,Q)}).then(function(A){ie=A}).then(function(){return ue.reset(!0)}).then(function(){return F.syncPollingData(B,Q,ie)}).then(function(){F.ic3Info=ce,F.ic3Initializer=q,F.ic3Initializer.getPoller().onNewData=F.handlePollData.bind(F)}).catch(function(A){throw F.updateTokenClearTimeoutHandle!==X&&(clearTimeout(F.updateTokenClearTimeoutHandle),F.updateTokenClearTimeoutHandle=X),F.ic3Info=oe,F.ic3Initializer.getPoller().onNewData=F.handlePollData.bind(F),F.ic3Initializer.getPoller().start(),new Error("Update token failed: "+(A&&A.message))})]}})})},V.prototype.getMatchingIC3EventIndex=function(L,B,G){var Q=this;return new Promise(function($,ue){if((G=G||0)===_.default.stabilizePollMaxRetryCount)$({newPollIndex:-1,previousPollIndex:-1});else{for(var q=0,X=0;q<L.length&&X<B.length;){var oe=L[q];if(oe.time===B[X].time)return void $({newPollIndex:X,previousPollIndex:q});new Date(oe.time)<new Date(oe.time)?q++:X++}setTimeout(function(){Q.getMatchingIC3EventIndex(L,B,G+1).then(function(ie){$(ie)}).catch(function(ie){ue(ie)})},_.default.timeBetweenStabilizingPoll)}})},V.prototype.syncPollingData=function(L,B,G){this.logger&&this.logger.log(D.default.INFO,h.default.SyncingPollData,{EndpointUrl:this.EndpointUrl,EndpointId:this.ic3Info.endpointId});var Q=G.previousPollIndex,$=G.newPollIndex+1;-1===G.previousPollIndex&&-1===G.newPollIndex&&(Q=L.length-1,$=0);for(var ue=0;ue<=Q;ue++)this.handlePollEventMessage(L[ue]);for(ue=$;ue<B.length;ue++)this.handlePollEventMessage(B[ue])},V}(v.default);g.default=x},7037:function(z,g,d){"use strict";var u=this&&this.__awaiter||function(x,j,V,L){return new(V||(V=Promise))(function(G,Q){function $(X){try{q(L.next(X))}catch(oe){Q(oe)}}function ue(X){try{q(L.throw(X))}catch(oe){Q(oe)}}function q(X){X.done?G(X.value):function(G){return G instanceof V?G:new V(function(Q){Q(G)})}(X.value).then($,ue)}q((L=L.apply(x,j||[])).next())})},T=this&&this.__generator||function(x,j){var L,B,G,Q,V={label:0,sent:function(){if(1&G[0])throw G[1];return G[1]},trys:[],ops:[]};return Q={next:$(0),throw:$(1),return:$(2)},"function"==typeof Symbol&&(Q[Symbol.iterator]=function(){return this}),Q;function $(q){return function(X){return function(q){if(L)throw new TypeError("Generator is already executing.");for(;V;)try{if(L=1,B&&(G=2&q[0]?B.return:q[0]?B.throw||((G=B.return)&&G.call(B),0):B.next)&&!(G=G.call(B,q[1])).done)return G;switch(B=0,G&&(q=[2&q[0],G.value]),q[0]){case 0:case 1:G=q;break;case 4:return V.label++,{value:q[1],done:!1};case 5:V.label++,B=q[1],q=[0];continue;case 7:q=V.ops.pop(),V.trys.pop();continue;default:if(!(G=(G=V.trys).length>0&&G[G.length-1])&&(6===q[0]||2===q[0])){V=0;continue}if(3===q[0]&&(!G||q[1]>G[0]&&q[1]<G[3])){V.label=q[1];break}if(6===q[0]&&V.label<G[1]){V.label=G[1],G=q;break}if(G&&V.label<G[2]){V.label=G[2],V.ops.push(q);break}G[2]&&V.ops.pop(),V.trys.pop();continue}q=j.call(x,V)}catch(X){q=[6,X],B=0}finally{L=G=0}if(5&q[0])throw q[1];return{value:q[0]?q[1]:void 0,done:!0}}([q,X])}}};Object.defineProperty(g,"__esModule",{value:!0});var y=d(501),_=d(6849),b=d(5850),m=d(8311),v=d(6648),I=d(1927),h=d(909),c=d(3805),D=d(752),w=d(3671),S=d(9306),p=d(8636),C=d(2915),k=d(5874),O=function(){function x(){this.debug=!1,this.current404RetryCount=0,this.currentOtherRetryCount=0,this.skipUnsubscribe=!1,this.telemetryMessage="",this.errorCode="",this.pollDataHandler=function(j){},this.resetRetryCount()}return x.prototype.setup=function(j){return u(this,void 0,void 0,function(){return T(this,function(V){return this.logger=j,[2]})})},x.prototype.getPoller=function(){var j=this.pollDataHandler.bind(this);return this.poller||(this.poller=new c.default(this.ic3Info,j,this.redirectErrorHandler.bind(this),this.onRequestCreationFailure.bind(this))),this.poller},x.prototype.setIc3Info=function(j){return u(this,void 0,void 0,function(){var V;return T(this,function(L){return V={RegionGtms:JSON.parse(JSON.stringify(j.RegionGtms)),SkypeToken:j.SkypeToken,visitor:j.visitor},this.ic3Info=V,[2]})})},x.prototype.initializeIC3=function(j){var L,V=this;return j&&(this.pollDataHandler=j),null===(L=this.logger)||void 0===L||L.log(D.default.INFO,w.default.IC3InitializationBegins,{Description:"Endpoint to poll is "+JSON.stringify(this.ic3Info.RegionGtms.chatService),EndpointUrl:this.ic3Info.RegionGtms.chatService,EndpointId:this.ic3Info.endpointId}),this.createEndpoint().then(function(){return V.createSubscription()}).then(function(){return V.setEndpointProperty()}).then(function(){return V.startPolling(j)}).then(function(){return V.resetRetryCount()}).then(function(){return Promise.resolve(V.ic3Info)}).catch(function(G){return V.redirectErrorHandler(G)})},x.prototype.startPolling=function(j){var V,L=!j&&this.pollDataHandler?this.pollDataHandler.bind(this):this.pollDataHandler;this.poller||(this.poller=new c.default(this.ic3Info,L,this.redirectErrorHandler.bind(this),this.onRequestCreationFailure.bind(this))),this.poller.ic3Info=this.ic3Info,null===(V=this.logger)||void 0===V||V.log(D.default.INFO,w.default.IC3StartedPolling,{EndpointUrl:this.ic3Info.RegionGtms.chatService,EndpointId:this.ic3Info.endpointId}),this.poller.start()},x.prototype.stopPolling=function(j){var V;null===(V=this.logger)||void 0===V||V.log(D.default.INFO,w.default.IC3StoppedPolling,{Description:(j?y.default.oldInitializer:y.default.newInitializer)+" stopped polling.",EndpointUrl:this.ic3Info.RegionGtms.chatService,EndpointId:this.ic3Info.endpointId}),this.poller&&this.poller.stop()},x.prototype.reset=function(j){return this.stopPolling(j),this.unsubscribeFromEndpoint()},x.prototype.resetRetryCount=function(){this.current404RetryCount=0,this.currentOtherRetryCount=0},x.prototype.onEndpointCreationFailure=function(j){this.onRequestCreationFailure(j,y.default.endpointRequestLog)},x.prototype.onEndpointCreationSuccess=function(j){var V,L,B=h.default.getResponseHeader(j,_.default.SetRegistrationTokenHeader);h.default.isNullOrUndefined(B)||(this.ic3Info.RegistrationToken=h.default.getRegistrationTokenValue(B));var G=h.default.getResponseHeader(j,_.default.LocationHeader);if(!h.default.isNullOrUndefined(G)){var Q=G.match(/endpoints\/(%7B[\da-z\-]+%7D)/);this.ic3Info.endpointId=Q&&Q[1],null===(V=this.logger)||void 0===V||V.log(D.default.INFO,w.default.IC3EndpointCreationSuccess,{Description:"IC3 endpoint Id is "+this.ic3Info.endpointId,EndpointUrl:this.ic3Info.RegionGtms.chatService,EndpointId:this.ic3Info.endpointId}),j.status===S.default.Created&&p.default.parseChatServiceHostUrl(G)!==this.ic3Info.RegionGtms.chatService&&(this.ic3Info.RegionGtms.chatService=p.default.parseChatServiceHostUrl(G),null===(L=this.logger)||void 0===L||L.log(D.default.WARN,w.default.OnRequestCreationSuccessRedirect,{Description:"Endpoint changed",EndpointUrl:this.ic3Info.RegionGtms.chatService,EndpointId:this.ic3Info.endpointId}))}},x.prototype.createEndpointRequest=function(){var j=I.default.getV1EndpointUrl(this.ic3Info.RegionGtms),V=v.default.getDefaultIC3Headers();V[_.default.AuthenticationHeader]=_.default.SkypeTokenHeaderValue+this.ic3Info.SkypeToken,V[_.default.ContentTypeHeader]=y.default.ContentTypeJson;var B={endpointFeatures:[m.default.Agent,m.default.InviteFree,m.default.MessageProperties].join(",")},G={callbackOnFailure:this.onEndpointCreationFailure.bind(this),callbackOnSuccess:this.onEndpointCreationSuccess.bind(this),data:JSON.stringify(B),enableExponentialBackoff:!0,headers:V,redirect404RetryCount:y.default.retryCount,retryCount:y.default.retryCount,shouldRedirectOn404:!0,shouldResetOnFailure:!0,shouldRetryOnFailure:p.default.shouldRetryOnFailure,timeBetweenRetry:y.default.timeBetweenOperationRetry,type:k.default.POST,url:j};return C.HttpClient.MakeRequest(G)},x.prototype.createEndpoint=function(){var j=this;return this.createEndpointRequest().then(function(V){return V.subscriptions&&V.subscriptions.length>0&&(j.ic3Info.subscriptionId=V.subscriptions[0].id),V})},x.prototype.onSubscriptionCreationFailure=function(j){this.onRequestCreationFailure(j,y.default.subscriptionRequestLog)},x.prototype.onSubscriptionCreationSuccess=function(j){var V,L=h.default.getResponseHeader(j,_.default.LocationHeader)||"";j.status===S.default.Created&&!h.default.isNullOrUndefined(L)&&p.default.parseChatServiceHostUrl(L)!==this.ic3Info.RegionGtms.chatService&&(this.ic3Info.RegionGtms.chatService=p.default.parseChatServiceHostUrl(L),null===(V=this.logger)||void 0===V||V.log(D.default.WARN,w.default.OnRequestCreationSuccessRedirect,{Description:"Endpoint changed",EndpointUrl:this.ic3Info.RegionGtms.chatService,EndpointId:this.ic3Info.endpointId}));var B=L.match(/\/(\d+)$/);B&&(this.ic3Info.subscriptionId=B[1])},x.prototype.createSubscriptionRequest=function(){var j=I.default.getV1SubscriptionUrl(this.ic3Info.RegionGtms),V=v.default.getDefaultIC3Headers();V[_.default.RegistrationTokenHeader]=this.ic3Info.RegistrationToken,V[_.default.ContentTypeHeader]=y.default.ContentTypeJson;var L={channelType:y.default.HttpLongPoll,interestedResources:[b.default.ConversationMessages,b.default.ConversationProperties,b.default.Threads,b.default.Contacts]},B={callbackOnFailure:this.onSubscriptionCreationFailure.bind(this),callbackOnSuccess:this.onSubscriptionCreationSuccess.bind(this),data:JSON.stringify(L),enableExponentialBackoff:!0,headers:V,redirect404RetryCount:y.default.retryCount,retryCount:y.default.retryCount,shouldRedirectOn404:!0,shouldResetOnFailure:!0,shouldRetryOnFailure:p.default.shouldRetryOnFailure,timeBetweenRetry:y.default.timeBetweenOperationRetry,type:k.default.POST,url:j};return C.HttpClient.MakeRequest(B)},x.prototype.createSubscription=function(){return this.createSubscriptionRequest()},x.prototype.onSetEndpointPropertyCreationFailure=function(j){this.onRequestCreationFailure(j,y.default.setPropertiesRequestLog)},x.prototype.setEndpointProperty=function(){if(this.ic3Info.visitor)return Promise.resolve();var j=I.default.getV1SetPropertiesUrl(this.ic3Info.RegionGtms),V={};V[_.default.SetEndpointProperty]=!0;var B=v.default.getDefaultIC3Headers();B[_.default.AuthenticationHeader]=_.default.SkypeTokenHeaderValue+this.ic3Info.SkypeToken,B[_.default.RegistrationTokenHeader]=this.ic3Info.RegistrationToken,B[_.default.ContentTypeHeader]=y.default.ContentTypeJson;var G={callbackOnFailure:this.onSetEndpointPropertyCreationFailure.bind(this),data:JSON.stringify(V),enableExponentialBackoff:!0,headers:B,redirect404RetryCount:y.default.retryCount,retryCount:y.default.retryCount,shouldRedirectOn404:!0,shouldResetOnFailure:!0,shouldRetryOnFailure:p.default.shouldRetryOnFailure,timeBetweenRetry:y.default.timeBetweenOperationRetry,type:k.default.PUT,url:j};return C.HttpClient.MakeRequest(G)},x.prototype.onUnsubscribeCreationFailure=function(j){this.onRequestCreationFailure(j,y.default.unsubscribeRequestLog)},x.prototype.unsubscribeFromEndpoint=function(){if(this.ic3Info.visitor||h.default.isNullOrUndefined(this.ic3Info.endpointId)||this.skipUnsubscribe)return this.skipUnsubscribe=!0,Promise.resolve();var j=I.default.getV1DeleteEndpointUrl(this.ic3Info.RegionGtms,this.ic3Info.endpointId),V=v.default.getDefaultIC3Headers();V[_.default.AuthenticationHeader]=_.default.SkypeTokenHeaderValue+this.ic3Info.SkypeToken,V[_.default.RegistrationTokenHeader]=this.ic3Info.RegistrationToken,V[_.default.ContentTypeHeader]=y.default.ContentTypeJson;var L={callbackOnFailure:this.onUnsubscribeCreationFailure.bind(this),enableExponentialBackoff:!0,headers:V,redirect404RetryCount:y.default.retryCount,retryCount:y.default.retryCount,shouldRedirectOn404:!0,shouldResetOnFailure:!0,shouldRetryOnFailure:p.default.shouldRetryOnFailure,timeBetweenRetry:y.default.timeBetweenOperationRetry,type:k.default.DELETE,url:j};return C.HttpClient.MakeRequest(L)},x.prototype.onRequestCreationFailure=function(j,V){var L,B,G=h.default.getResponseHeader(j,_.default.LocationHeader);this.telemetryMessage=V+" failed. Error Code: "+j.status+".",this.errorCode=j.status.toString(),this.skipUnsubscribe=!0,j.status!==S.default.Redirect||h.default.isNullOrEmptyString(G)?(null===(B=this.logger)||void 0===B||B.log(D.default.WARN,w.default.ResetOnRequestCreationFailure,{Description:this.telemetryMessage+" Trying to reset.",ErrorCode:j.status.toString(),EndpointUrl:this.ic3Info.RegionGtms.chatService,EndpointId:this.ic3Info.endpointId}),this.current404RetryCount=0,this.currentOtherRetryCount++):(null===(L=this.logger)||void 0===L||L.log(D.default.WARN,w.default.RedirectOnRequestCreationFailure,{Description:this.telemetryMessage+" Trying to redirect.",ErrorCode:j.status.toString(),EndpointUrl:this.ic3Info.RegionGtms.chatService,EndpointId:this.ic3Info.endpointId}),this.onRequestCreationFailureRedirect(j))},x.prototype.redirectErrorHandler=function(j){var L,V=this;return j.message===y.default.Reset_Flag&&this.current404RetryCount<=y.default.retry404Count&&this.currentOtherRetryCount<=y.default.retryCount?this.reset().then(function(){return V.initializeIC3()}):(null===(L=this.logger)||void 0===L||L.log(D.default.ERROR,w.default.MaxRetryCountReachedForRedirect,{Description:"Fatal Error. Initialization failed. Maximum retry count reached. Exiting. "+this.telemetryMessage,ErrorCode:this.errorCode,ExceptionDetails:j,EndpointUrl:this.ic3Info.RegionGtms.chatService,EndpointId:this.ic3Info.endpointId}),this.reset().then(function(){return Promise.reject(j.message)}))},x.prototype.onRequestCreationFailureRedirect=function(j){var V;this.current404RetryCount++,this.currentOtherRetryCount=0,this.ic3Info.RegionGtms.chatService=p.default.parseChatServiceHostUrl(h.default.getResponseHeader(j,_.default.LocationHeader)),null===(V=this.logger)||void 0===V||V.log(D.default.WARN,w.default.OnRequestCreationFailureRedirect,{Description:"Endpoint changed.",EndpointUrl:this.ic3Info.RegionGtms.chatService,EndpointId:this.ic3Info.endpointId})},x}();g.default=O},9202:(z,g,d)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var u=d(2518),T=d(1356),y=function(){function _(){}return _.getSDK=function(b){return new Promise(function(m){var I=u.default.getClientBridge({hostType:b.hostType,protocolType:b.protocolType}),h={logger:new T.default(I,b.logger)};return I.setup(h).then(function(){var c={dispose:I.dispose.bind(I),id:I.id,initialize:I.initialize.bind(I),joinConversation:I.joinConversation.bind(I),update:I.update.bind(I),setDebug:I.setDebug.bind(I)};return m(c)})})},_}();g.default=y},2915:(z,g,d)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.HttpClient=void 0;var u=d(909),T=d(501),y=d(3671),_=d(752),b=d(6849),m=d(9306),v=d(8686),I=function(){function h(){}return h.MakeRequest=function(c){return new Promise(function(w,S){var k=0,O=c.retryCount||1,x={url:c.url,method:c.type,data:c.data,timeout:c.timeout,headers:c.headers,withCredentials:c.useXHRWithCredentials||!1},j=function(){v.default.request(x).then(function(V){!function(V,L){if(L.status>=400){var B={ResponseText:L.statusText,Status:status};h.logWarning("Requesting "+c.url,L.status,B)}c.callbackOnSuccess&&c.callbackOnSuccess(L),w(V)}(V.data,V)}).catch(function(V){!function(V){var L,B,G,Q,$,ue,q,X,oe,ce,ie={ErrorThrown:V.message,ResponseText:null===(L=V.response)||void 0===L?void 0:L.statusText,Status:null===(B=V.response)||void 0===B?void 0:B.status},P=function(){var U,J;h.logError("Request to "+c.url+" failed.",(null===(U=V.response)||void 0===U?void 0:U.status)||0,ie),S(new Error((null===(J=V.response)||void 0===J?void 0:J.statusText)||""))},F=function(){var U;h.logError("Request to "+c.url+" failed. Resetting endpoint.",(null===(U=V.response)||void 0===U?void 0:U.status)||0,ie),c.callbackOnFailure&&c.callbackOnFailure(V),S(new Error(T.default.Reset_Flag))},W=function(){var U;k++;var J=c.timeBetweenRetry||0;(c.enableExponentialBackoff||(null===(U=V.response)||void 0===U?void 0:U.status)===m.default.TooManyRequests)&&(J*=Math.exp(k)),setTimeout(function(){j()},J)},A=null===(G=V.response)||void 0===G?void 0:G.headers[b.default.LocationHeader],R=null===(Q=V.response)||void 0===Q?void 0:Q.headers[b.default.SetRegistrationTokenHeader];(null===($=V.response)||void 0===$?void 0:$.status)!==m.default.Redirect||u.default.isNullOrEmptyString(A)?(null===(ue=V.response)||void 0===ue?void 0:ue.status)!==m.default.Unauthorized&&(null===(q=V.response)||void 0===q?void 0:q.status)!==m.default.Forbidden||u.default.isNullOrEmptyString(R)?k<=O&&c.shouldRetryOnFailure&&c.shouldRetryOnFailure((null===(oe=V.response)||void 0===oe?void 0:oe.status)||0)||(null===(ce=V.response)||void 0===ce?void 0:ce.status)===m.default.TooManyRequests?W():c.shouldResetOnFailure?F():P():k<=O&&c.shouldRetryOnFailure&&c.shouldRetryOnFailure((null===(X=V.response)||void 0===X?void 0:X.status)||0)?(c.headers&&(c.headers[b.default.RegistrationTokenHeader]=u.default.getRegistrationTokenValue(R)),W()):c.shouldResetOnFailure?F():P():c.shouldRedirectOn404?F():k<=O?(c.url=A,W()):P()}(V)})};j()})},h.isClientError=function(c){if(!c)return!1;var D=c.message,w=!1;return u.default.isNullOrEmptyString(D)||(w=D.search(/Status- 40\d/)>=-1),w},h.setLogger=function(c){h.logger=c},h.logError=function(c,D,w){h.logger&&h.logger.log(_.default.ERROR,y.default.HTTPRequestFailed,{Description:c,ErrorCode:D.toString(),ExceptionDetails:w})},h.logWarning=function(c,D,w){h.logger&&h.logger.log(_.default.INFO,y.default.HTTPRequestUnusualResponse,{Description:c,ErrorCode:D.toString(),ExceptionDetails:w})},h}();g.HttpClient=I},9306:(z,g)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var d=function(){function u(){}return u.OK=200,u.Created=201,u.Accepted=202,u.NoContent=204,u.Unauthorized=401,u.Forbidden=403,u.Redirect=404,u.TooManyRequests=429,u.InternalServerError=500,u.ServiceUnavailable=503,u.NotFound=729,u}();g.default=d},5256:(z,g)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var d=function(){function u(){}return u.TEXT="text",u}();g.default=d},6849:(z,g)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var d=function(){function u(){}return u.LocationHeader="location",u.SetRegistrationTokenHeader="set-registrationtoken",u.RegistrationTokenHeader="RegistrationToken",u.RegistrationTokenHeaderValue="registrationToken=",u.ContentTypeHeader="content-type",u.AuthenticationHeader="authentication",u.BehaviorOverrideHeader="behavioroverride",u.SkypeTokenHeaderValue="skypetoken=",u.SetEndpointProperty="supportsMessageProperties",u}();g.default=d},5874:(z,g)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var d=(()=>{return(u=d||(d={})).GET="get",u.POST="post",u.PUT="put",u.DELETE="delete",d;var u})();g.default=d},6648:(z,g,d)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var u=d(501),T=d(737),y=function(){function _(){}return _.getDefaultIC3Headers=function(){return{Accept:u.default.ContentTypeJson,BehaviorOverride:u.default.RedirectAs404,ClientInfo:u.default.ClientInfoValue,ContextId:"tcid="+(0,T.uuidv4)(),Expires:0,Pragma:u.default.NoCache,"x-ms-client-type":u.default.Web,"x-ms-user-type":u.default.User}},_.getDefaultBaseIC3Headers=function(){return{Accept:u.default.ContentTypeJson,BehaviorOverride:u.default.RedirectAs404,"content-type":u.default.ContentTypeJson}},_.getDefaultGetMessagesQueryParameters=function(){return{pageSize:20,startTime:0,view:"msnp24Equivalent|supportsMessageProperties"}},_.getDefaultAMSHeaders=function(b){return{Authorization:u.default.AMSAuthorizationSkypeTokenValue+b,"X-MS-Client-Version":u.default.ClientInfoValue}},_.getDefaultAMSViewHeaders=function(b){return{Accept:u.default.AMSAcceptHeaderValue,"Accept-Encoding":u.default.AMSAcceptEncodingHeaderValue,Authorization:u.default.AMSAuthorizationSkypeTokenValue+b,"X-MS-Client-Version":u.default.ClientInfoValue}},_}();g.default=y},6194:(z,g,d)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.SDKProvider=void 0;var u=d(9202);g.SDKProvider=u.default},2217:(z,g)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var d=function(){function u(){}return u.IFrame=0,u.Page=1,u}();g.default=d},5655:(z,g)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var d=function(){function u(){}return u.IC3V1SDK=0,u.IC3V2SDK=1,u.MockIC3SDK=2,u}();g.default=d},3671:(z,g)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var d=(()=>{return(u=d||(d={})).JoinConversation="JoinConversation",u.RegisterOnNewMessage="RegisterOnNewMessage",u.RegisterOnThreadUpdate="RegisterOnThreadUpdate",u.OnNewMessageFailure="OnNewMessageFailure",u.OnThreadUpdateFailure="OnThreadUpdateFailure",u.SendLiveStateFailure="SendLiveStateFailure",u.JoinConversationV1GetThreadRequestFailed="JoinConversationV1GetThreadRequestFailed",u.UpdateToken="UpdateToken",u.SyncingPollData="SyncingPollData",u.IC3InitializationBegins="IC3InitializationBegins",u.IC3StartedPolling="IC3StartedPolling",u.IC3StoppedPolling="IC3StoppedPolling",u.IC3EndpointCreationSuccess="IC3EndpointCreationSuccess",u.RedirectOnRequestCreationFailure="RedirectOnRequestCreationFailure",u.ResetOnRequestCreationFailure="ResetOnRequestCreationFailure",u.MaxRetryCountReachedForRedirect="MaxRetryCountReachedForRedirect",u.OnRequestCreationFailureRedirect="OnRequestCreationFailureRedirect",u.OnRequestCreationSuccessRedirect="OnRequestCreationSuccessRedirect",u.ErrorDuringPolling="ErrorDuringPolling",u.HTTPRequestFailed="HTTPRequestFailed",u.HTTPRequestUnusualResponse="HTTPRequestUnusualResponse",d;var u})();g.default=d},752:(z,g)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var d=(()=>{return(u=d||(d={})).INFO="INFO",u.DEBUG="DEBUG",u.WARN="WARN",u.ERROR="ERROR",d;var u})();g.default=d},1356:(z,g,d)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var u=d(909),T=d(8261),y=function(){function _(b,m){this.sdk=b,this.logger=m}return _.prototype.log=function(b,m,v){if(this.isLoggingEnabled()){var I=T.default.getTelemetryEventData(this.sdk,m,v);this.logEvent(b,I)}},_.prototype.logEvent=function(b,m){this.isLoggingEnabled()&&setTimeout(this.logger.logClientSdkTelemetryEvent.bind(this.logger),0,b,m)},_.prototype.isLoggingEnabled=function(){return!u.default.isNullOrUndefined(this.logger)},_}();g.default=y},8261:(z,g)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var d=function(){function u(){}return u.getTelemetryEventData=function(T,y,_){return{Description:_.Description,ElapsedTimeInMilliseconds:_.ElapsedTimeInMilliseconds,EndpointUrl:_.EndpointUrl,EndpointId:_.EndpointId,ErrorCode:_.ErrorCode,Event:y,ExceptionDetails:_.ExceptionDetails,ShouldBubbleToHost:_.ShouldBubbleToHost,SubscriptionId:T.id}},u}();g.default=d},2900:(z,g)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var d=function(){function u(){}return u.Bridged="bridged",u.Unbridged="unbridged",u}();g.default=d},4694:(z,g)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var d=(()=>{return(u=d||(d={}))[u.AmsBasedFileSharing=0]="AmsBasedFileSharing",d;var u})();g.default=d},6355:(z,g)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var d=(()=>{return(u=d||(d={}))[u.Unknown=0]="Unknown",u[u.InProgress=1]="InProgress",u[u.Success=2]="Success",u[u.Error=3]="Error",d;var u})();g.default=d},5850:(z,g)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var d=function(){function u(){}return u.ConversationProperties="/v1/users/ME/conversations/ALL/properties",u.ConversationMessages="/v1/users/ME/conversations/ALL/messages",u.Threads="/v1/threads/ALL",u.Contacts="/v1/users/ME/contacts/ALL",u}();g.default=d},8311:(z,g)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var d=function(){function u(){}return u.Agent="Agent",u.MessageProperties="MessageProperties",u.InviteFree="InviteFree",u}();g.default=d},448:(z,g)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var d=function(){function u(){}return u.RichText="RichText",u.Text="Text",u}();g.default=d},3207:(z,g)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var d=function(){function u(){}return u.Text="Text",u.RichText="RichText",u.RichTextHtml="RichText/Html",u.ControlTyping="Control/Typing",u.ControlClearTyping="Control/ClearTyping",u.LiveState="Control/LiveState",u}();g.default=d},3372:(z,g)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var d=function(){function u(){}return u.UserMessage="UserMessage",u.SwiftCard="SwiftCard",u.Typing="Control/Typing",u.ClearTyping="Control/ClearTyping",u.LiveState="Control/LiveState",u}();g.default=d},4352:(z,g)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var d=(()=>{return(u=d||(d={}))[u.Unknown=0]="Unknown",u[u.User=1]="User",u[u.Bot=2]="Bot",d;var u})();g.default=d},5785:(z,g)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var d=function(){function u(){}return u.NewMessage="NewMessage",u.MessageUpdate="MessageUpdate",u.UserPresence="UserPresence",u.ConversationUpdate="ConversationUpdate",u.ThreadUpdate="ThreadUpdate",u}();g.default=d},7708:(z,g)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var d=(()=>{return(u=d||(d={}))[u.Typing=0]="Typing",u[u.ClearTyping=1]="ClearTyping",d;var u})();g.default=d},3805:(z,g,d)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var u=d(1927),T=d(2553),y=d(501),_=function(){function b(m,v,I,h){this.isPolling=!1,this._ic3Info=m,this._onNewData=v,this._onError=I,this.callbackOnFailure=h}return b.prototype.start=function(){return this.isPolling||(this.isPolling=!0,this.startPolling()),Promise.resolve()},b.prototype.stop=function(){return this.isPolling=!1,Promise.resolve()},Object.defineProperty(b.prototype,"onNewData",{get:function(){return this._onNewData},set:function(m){this._onNewData=m},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"onError",{get:function(){return this._onError},set:function(m){this._onError=m},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"setCallbackOnFailure",{set:function(m){this.setCallbackOnFailure=m},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"ic3Info",{get:function(){return this._ic3Info},set:function(m){this._ic3Info=m},enumerable:!1,configurable:!0}),b.prototype.startPolling=function(){var m=this;this.isPolling&&this.poll().then(function(v){m.isPolling&&m._onNewData&&m._onNewData(v)}).catch(function(v){m._onError&&m._onError(v)}).then(function(){m.startPolling()})},b.prototype.poll=function(){var m=u.default.getV1PollUrl(this._ic3Info.RegionGtms,this._ic3Info.subscriptionId);return T.default.poll(m,this._ic3Info.RegistrationToken,this.callbackOnEachRequestCompleted.bind(this))},b.prototype.callbackOnEachRequestCompleted=function(m){this.callbackOnFailure(m,y.default.pollRequestLog)},b}();g.default=_},2553:(z,g,d)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var u=d(501),T=d(2915),y=d(6849),_=d(5874),b=d(6648),m=d(8636),v=function(){function I(){}return I.poll=function(h,c,D){var w=b.default.getDefaultIC3Headers();w[y.default.RegistrationTokenHeader]=c,w[y.default.ContentTypeHeader]=u.default.ContentTypeJson;var S=JSON.stringify({});return T.HttpClient.MakeRequest({callbackOnFailure:D,data:S,enableExponentialBackoff:!0,headers:w,redirect404RetryCount:u.default.retryCount,retryCount:u.default.retryCount,shouldRedirectOn404:!0,shouldResetOnFailure:!0,shouldRetryOnFailure:m.default.shouldRetryOnFailure,timeBetweenRetry:u.default.timeBetweenOperationRetry,type:_.default.POST,url:h})},I}();g.default=v},737:(z,g)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.uuidv4=void 0,g.uuidv4=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(u){var T=16*Math.random()|0;return("x"===u?T:3&T|8).toString(16)})}},8686:(z,g,d)=>{z.exports=d(5454)},4054:(z,g,d)=>{"use strict";var u=d(9471),T=d(5650),y=d(300),_=d(7790),b=d(4634),m=d(1929),v=d(2984),I=d(5886);z.exports=function(c){return new Promise(function(w,S){var p=c.data,C=c.headers,k=c.responseType;u.isFormData(p)&&delete C["Content-Type"];var O=new XMLHttpRequest;if(c.auth){var x=c.auth.username||"",j=c.auth.password?unescape(encodeURIComponent(c.auth.password)):"";C.Authorization="Basic "+btoa(x+":"+j)}var V=b(c.baseURL,c.url);function L(){if(O){var G="getAllResponseHeaders"in O?m(O.getAllResponseHeaders()):null;T(w,S,{data:k&&"text"!==k&&"json"!==k?O.response:O.responseText,status:O.status,statusText:O.statusText,headers:G,config:c,request:O}),O=null}}if(O.open(c.method.toUpperCase(),_(V,c.params,c.paramsSerializer),!0),O.timeout=c.timeout,"onloadend"in O?O.onloadend=L:O.onreadystatechange=function(){!O||4!==O.readyState||0===O.status&&(!O.responseURL||0!==O.responseURL.indexOf("file:"))||setTimeout(L)},O.onabort=function(){!O||(S(I("Request aborted",c,"ECONNABORTED",O)),O=null)},O.onerror=function(){S(I("Network Error",c,null,O)),O=null},O.ontimeout=function(){var Q="timeout of "+c.timeout+"ms exceeded";c.timeoutErrorMessage&&(Q=c.timeoutErrorMessage),S(I(Q,c,c.transitional&&c.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",O)),O=null},u.isStandardBrowserEnv()){var B=(c.withCredentials||v(V))&&c.xsrfCookieName?y.read(c.xsrfCookieName):void 0;B&&(C[c.xsrfHeaderName]=B)}"setRequestHeader"in O&&u.forEach(C,function(Q,$){void 0===p&&"content-type"===$.toLowerCase()?delete C[$]:O.setRequestHeader($,Q)}),u.isUndefined(c.withCredentials)||(O.withCredentials=!!c.withCredentials),k&&"json"!==k&&(O.responseType=c.responseType),"function"==typeof c.onDownloadProgress&&O.addEventListener("progress",c.onDownloadProgress),"function"==typeof c.onUploadProgress&&O.upload&&O.upload.addEventListener("progress",c.onUploadProgress),c.cancelToken&&c.cancelToken.promise.then(function(Q){!O||(O.abort(),S(Q),O=null)}),p||(p=null),O.send(p)})}},5454:(z,g,d)=>{"use strict";var u=d(9471),T=d(1533),y=d(3227),_=d(4018);function m(I){var h=new y(I),c=T(y.prototype.request,h);return u.extend(c,y.prototype,h),u.extend(c,h),c}var v=m(d(2567));v.Axios=y,v.create=function(h){return m(_(v.defaults,h))},v.Cancel=d(8728),v.CancelToken=d(701),v.isCancel=d(2130),v.all=function(h){return Promise.all(h)},v.spread=d(8908),v.isAxiosError=d(9541),z.exports=v,z.exports.default=v},8728:z=>{"use strict";function g(d){this.message=d}g.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},g.prototype.__CANCEL__=!0,z.exports=g},701:(z,g,d)=>{"use strict";var u=d(8728);function T(y){if("function"!=typeof y)throw new TypeError("executor must be a function.");var _;this.promise=new Promise(function(v){_=v});var b=this;y(function(v){b.reason||(b.reason=new u(v),_(b.reason))})}T.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},T.source=function(){var _;return{token:new T(function(v){_=v}),cancel:_}},z.exports=T},2130:z=>{"use strict";z.exports=function(d){return!(!d||!d.__CANCEL__)}},3227:(z,g,d)=>{"use strict";var u=d(9471),T=d(7790),y=d(3976),_=d(6764),b=d(4018),m=d(3558),v=m.validators;function I(h){this.defaults=h,this.interceptors={request:new y,response:new y}}I.prototype.request=function(c){"string"==typeof c?(c=arguments[1]||{}).url=arguments[0]:c=c||{},(c=b(this.defaults,c)).method=c.method?c.method.toLowerCase():this.defaults.method?this.defaults.method.toLowerCase():"get";var D=c.transitional;void 0!==D&&m.assertOptions(D,{silentJSONParsing:v.transitional(v.boolean,"1.0.0"),forcedJSONParsing:v.transitional(v.boolean,"1.0.0"),clarifyTimeoutError:v.transitional(v.boolean,"1.0.0")},!1);var w=[],S=!0;this.interceptors.request.forEach(function(L){"function"==typeof L.runWhen&&!1===L.runWhen(c)||(S=S&&L.synchronous,w.unshift(L.fulfilled,L.rejected))});var C,p=[];if(this.interceptors.response.forEach(function(L){p.push(L.fulfilled,L.rejected)}),!S){var k=[_,void 0];for(Array.prototype.unshift.apply(k,w),k=k.concat(p),C=Promise.resolve(c);k.length;)C=C.then(k.shift(),k.shift());return C}for(var O=c;w.length;){var x=w.shift(),j=w.shift();try{O=x(O)}catch(V){j(V);break}}try{C=_(O)}catch(V){return Promise.reject(V)}for(;p.length;)C=C.then(p.shift(),p.shift());return C},I.prototype.getUri=function(c){return c=b(this.defaults,c),T(c.url,c.params,c.paramsSerializer).replace(/^\?/,"")},u.forEach(["delete","get","head","options"],function(c){I.prototype[c]=function(D,w){return this.request(b(w||{},{method:c,url:D,data:(w||{}).data}))}}),u.forEach(["post","put","patch"],function(c){I.prototype[c]=function(D,w,S){return this.request(b(S||{},{method:c,url:D,data:w}))}}),z.exports=I},3976:(z,g,d)=>{"use strict";var u=d(9471);function T(){this.handlers=[]}T.prototype.use=function(_,b,m){return this.handlers.push({fulfilled:_,rejected:b,synchronous:!!m&&m.synchronous,runWhen:m?m.runWhen:null}),this.handlers.length-1},T.prototype.eject=function(_){this.handlers[_]&&(this.handlers[_]=null)},T.prototype.forEach=function(_){u.forEach(this.handlers,function(m){null!==m&&_(m)})},z.exports=T},4634:(z,g,d)=>{"use strict";var u=d(5164),T=d(1540);z.exports=function(_,b){return _&&!u(b)?T(_,b):b}},5886:(z,g,d)=>{"use strict";var u=d(9570);z.exports=function(y,_,b,m,v){var I=new Error(y);return u(I,_,b,m,v)}},6764:(z,g,d)=>{"use strict";var u=d(9471),T=d(4284),y=d(2130),_=d(2567);function b(m){m.cancelToken&&m.cancelToken.throwIfRequested()}z.exports=function(v){return b(v),v.headers=v.headers||{},v.data=T.call(v,v.data,v.headers,v.transformRequest),v.headers=u.merge(v.headers.common||{},v.headers[v.method]||{},v.headers),u.forEach(["delete","get","head","post","put","patch","common"],function(c){delete v.headers[c]}),(v.adapter||_.adapter)(v).then(function(c){return b(v),c.data=T.call(v,c.data,c.headers,v.transformResponse),c},function(c){return y(c)||(b(v),c&&c.response&&(c.response.data=T.call(v,c.response.data,c.response.headers,v.transformResponse))),Promise.reject(c)})}},9570:z=>{"use strict";z.exports=function(d,u,T,y,_){return d.config=u,T&&(d.code=T),d.request=y,d.response=_,d.isAxiosError=!0,d.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},d}},4018:(z,g,d)=>{"use strict";var u=d(9471);z.exports=function(y,_){_=_||{};var b={},m=["url","method","data"],v=["headers","auth","proxy","params"],I=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],h=["validateStatus"];function c(p,C){return u.isPlainObject(p)&&u.isPlainObject(C)?u.merge(p,C):u.isPlainObject(C)?u.merge({},C):u.isArray(C)?C.slice():C}function D(p){u.isUndefined(_[p])?u.isUndefined(y[p])||(b[p]=c(void 0,y[p])):b[p]=c(y[p],_[p])}u.forEach(m,function(C){u.isUndefined(_[C])||(b[C]=c(void 0,_[C]))}),u.forEach(v,D),u.forEach(I,function(C){u.isUndefined(_[C])?u.isUndefined(y[C])||(b[C]=c(void 0,y[C])):b[C]=c(void 0,_[C])}),u.forEach(h,function(C){C in _?b[C]=c(y[C],_[C]):C in y&&(b[C]=c(void 0,y[C]))});var w=m.concat(v).concat(I).concat(h),S=Object.keys(y).concat(Object.keys(_)).filter(function(C){return-1===w.indexOf(C)});return u.forEach(S,D),b}},5650:(z,g,d)=>{"use strict";var u=d(5886);z.exports=function(y,_,b){var m=b.config.validateStatus;b.status&&m&&!m(b.status)?_(u("Request failed with status code "+b.status,b.config,null,b.request,b)):y(b)}},4284:(z,g,d)=>{"use strict";var u=d(9471),T=d(2567);z.exports=function(_,b,m){var v=this||T;return u.forEach(m,function(h){_=h.call(v,_,b)}),_}},2567:(z,g,d)=>{"use strict";var u=d(9471),T=d(2196),y=d(9570),_={"Content-Type":"application/x-www-form-urlencoded"};function b(h,c){!u.isUndefined(h)&&u.isUndefined(h["Content-Type"])&&(h["Content-Type"]=c)}var h,I={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(h=d(4054)),h),transformRequest:[function(c,D){return T(D,"Accept"),T(D,"Content-Type"),u.isFormData(c)||u.isArrayBuffer(c)||u.isBuffer(c)||u.isStream(c)||u.isFile(c)||u.isBlob(c)?c:u.isArrayBufferView(c)?c.buffer:u.isURLSearchParams(c)?(b(D,"application/x-www-form-urlencoded;charset=utf-8"),c.toString()):u.isObject(c)||D&&"application/json"===D["Content-Type"]?(b(D,"application/json"),function(h,c,D){if(u.isString(h))try{return(0,JSON.parse)(h),u.trim(h)}catch(w){if("SyntaxError"!==w.name)throw w}return(0,JSON.stringify)(h)}(c)):c}],transformResponse:[function(c){var D=this.transitional,p=!(D&&D.silentJSONParsing)&&"json"===this.responseType;if(p||D&&D.forcedJSONParsing&&u.isString(c)&&c.length)try{return JSON.parse(c)}catch(C){if(p)throw"SyntaxError"===C.name?y(C,this,"E_JSON_PARSE"):C}return c}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(c){return c>=200&&c<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};u.forEach(["delete","get","head"],function(c){I.headers[c]={}}),u.forEach(["post","put","patch"],function(c){I.headers[c]=u.merge(_)}),z.exports=I},1533:z=>{"use strict";z.exports=function(d,u){return function(){for(var y=new Array(arguments.length),_=0;_<y.length;_++)y[_]=arguments[_];return d.apply(u,y)}}},7790:(z,g,d)=>{"use strict";var u=d(9471);function T(y){return encodeURIComponent(y).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}z.exports=function(_,b,m){if(!b)return _;var v;if(m)v=m(b);else if(u.isURLSearchParams(b))v=b.toString();else{var I=[];u.forEach(b,function(D,w){null==D||(u.isArray(D)?w+="[]":D=[D],u.forEach(D,function(p){u.isDate(p)?p=p.toISOString():u.isObject(p)&&(p=JSON.stringify(p)),I.push(T(w)+"="+T(p))}))}),v=I.join("&")}if(v){var h=_.indexOf("#");-1!==h&&(_=_.slice(0,h)),_+=(-1===_.indexOf("?")?"?":"&")+v}return _}},1540:z=>{"use strict";z.exports=function(d,u){return u?d.replace(/\/+$/,"")+"/"+u.replace(/^\/+/,""):d}},300:(z,g,d)=>{"use strict";var u=d(9471);z.exports=u.isStandardBrowserEnv()?{write:function(_,b,m,v,I,h){var c=[];c.push(_+"="+encodeURIComponent(b)),u.isNumber(m)&&c.push("expires="+new Date(m).toGMTString()),u.isString(v)&&c.push("path="+v),u.isString(I)&&c.push("domain="+I),!0===h&&c.push("secure"),document.cookie=c.join("; ")},read:function(_){var b=document.cookie.match(new RegExp("(^|;\\s*)("+_+")=([^;]*)"));return b?decodeURIComponent(b[3]):null},remove:function(_){this.write(_,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},5164:z=>{"use strict";z.exports=function(d){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(d)}},9541:z=>{"use strict";z.exports=function(d){return"object"==typeof d&&!0===d.isAxiosError}},2984:(z,g,d)=>{"use strict";var u=d(9471);z.exports=u.isStandardBrowserEnv()?function(){var b,y=/(msie|trident)/i.test(navigator.userAgent),_=document.createElement("a");function m(v){var I=v;return y&&(_.setAttribute("href",I),I=_.href),_.setAttribute("href",I),{href:_.href,protocol:_.protocol?_.protocol.replace(/:$/,""):"",host:_.host,search:_.search?_.search.replace(/^\?/,""):"",hash:_.hash?_.hash.replace(/^#/,""):"",hostname:_.hostname,port:_.port,pathname:"/"===_.pathname.charAt(0)?_.pathname:"/"+_.pathname}}return b=m(window.location.href),function(I){var h=u.isString(I)?m(I):I;return h.protocol===b.protocol&&h.host===b.host}}():function(){return!0}},2196:(z,g,d)=>{"use strict";var u=d(9471);z.exports=function(y,_){u.forEach(y,function(m,v){v!==_&&v.toUpperCase()===_.toUpperCase()&&(y[_]=m,delete y[v])})}},1929:(z,g,d)=>{"use strict";var u=d(9471),T=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];z.exports=function(_){var m,v,I,b={};return _&&u.forEach(_.split("\n"),function(c){if(I=c.indexOf(":"),m=u.trim(c.substr(0,I)).toLowerCase(),v=u.trim(c.substr(I+1)),m){if(b[m]&&T.indexOf(m)>=0)return;b[m]="set-cookie"===m?(b[m]?b[m]:[]).concat([v]):b[m]?b[m]+", "+v:v}}),b}},8908:z=>{"use strict";z.exports=function(d){return function(T){return d.apply(null,T)}}},3558:(z,g,d)=>{"use strict";var u=d(8593),T={};["object","boolean","number","function","string","symbol"].forEach(function(v,I){T[v]=function(c){return typeof c===v||"a"+(I<1?"n ":" ")+v}});var y={},_=u.version.split(".");function b(v,I){for(var h=I?I.split("."):_,c=v.split("."),D=0;D<3;D++){if(h[D]>c[D])return!0;if(h[D]<c[D])return!1}return!1}T.transitional=function(I,h,c){var D=h&&b(h);function w(S,p){return"[Axios v"+u.version+"] Transitional option '"+S+"'"+p+(c?". "+c:"")}return function(S,p,C){if(!1===I)throw new Error(w(p," has been removed in "+h));return D&&!y[p]&&(y[p]=!0,console.warn(w(p," has been deprecated since v"+h+" and will be removed in the near future"))),!I||I(S,p,C)}},z.exports={isOlderVersion:b,assertOptions:function(v,I,h){if("object"!=typeof v)throw new TypeError("options must be an object");for(var c=Object.keys(v),D=c.length;D-- >0;){var w=c[D],S=I[w];if(S){var p=v[w],C=void 0===p||S(p,w,v);if(!0!==C)throw new TypeError("option "+w+" must be "+C)}else if(!0!==h)throw Error("Unknown option "+w)}},validators:T}},9471:(z,g,d)=>{"use strict";var u=d(1533),T=Object.prototype.toString;function y($){return"[object Array]"===T.call($)}function _($){return void 0===$}function D($){return null!==$&&"object"==typeof $}function w($){if("[object Object]"!==T.call($))return!1;var ue=Object.getPrototypeOf($);return null===ue||ue===Object.prototype}function k($){return"[object Function]"===T.call($)}function L($,ue){if(null!=$)if("object"!=typeof $&&($=[$]),y($))for(var q=0,X=$.length;q<X;q++)ue.call(null,$[q],q,$);else for(var oe in $)Object.prototype.hasOwnProperty.call($,oe)&&ue.call(null,$[oe],oe,$)}z.exports={isArray:y,isArrayBuffer:function($){return"[object ArrayBuffer]"===T.call($)},isBuffer:function($){return null!==$&&!_($)&&null!==$.constructor&&!_($.constructor)&&"function"==typeof $.constructor.isBuffer&&$.constructor.isBuffer($)},isFormData:function($){return"undefined"!=typeof FormData&&$ instanceof FormData},isArrayBufferView:function($){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView($):$&&$.buffer&&$.buffer instanceof ArrayBuffer},isString:function($){return"string"==typeof $},isNumber:function($){return"number"==typeof $},isObject:D,isPlainObject:w,isUndefined:_,isDate:function($){return"[object Date]"===T.call($)},isFile:function($){return"[object File]"===T.call($)},isBlob:function($){return"[object Blob]"===T.call($)},isFunction:k,isStream:function($){return D($)&&k($.pipe)},isURLSearchParams:function($){return"undefined"!=typeof URLSearchParams&&$ instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:L,merge:function B(){var $={};function ue(oe,ce){$[ce]=w($[ce])&&w(oe)?B($[ce],oe):w(oe)?B({},oe):y(oe)?oe.slice():oe}for(var q=0,X=arguments.length;q<X;q++)L(arguments[q],ue);return $},extend:function($,ue,q){return L(ue,function(oe,ce){$[ce]=q&&"function"==typeof oe?u(oe,q):oe}),$},trim:function($){return $.trim?$.trim():$.replace(/^\s+|\s+$/g,"")},stripBOM:function($){return 65279===$.charCodeAt(0)&&($=$.slice(1)),$}}},8228:z=>{"use strict";var g=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable;function T(_){if(null==_)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(_)}z.exports=function(){try{if(!Object.assign)return!1;var _=new String("abc");if(_[5]="de","5"===Object.getOwnPropertyNames(_)[0])return!1;for(var b={},m=0;m<10;m++)b["_"+String.fromCharCode(m)]=m;if("0123456789"!==Object.getOwnPropertyNames(b).map(function(h){return b[h]}).join(""))return!1;var I={};return"abcdefghijklmnopqrst".split("").forEach(function(h){I[h]=h}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},I)).join("")}catch(h){return!1}}()?Object.assign:function(_,b){for(var m,I,v=T(_),h=1;h<arguments.length;h++){for(var c in m=Object(arguments[h]))d.call(m,c)&&(v[c]=m[c]);if(g){I=g(m);for(var D=0;D<I.length;D++)u.call(m,I[D])&&(v[I[D]]=m[I[D]])}}return v}},5429:(z,g,d)=>{"use strict";var T=d(8228),y=60103;if("function"==typeof Symbol&&Symbol.for){var c=Symbol.for;y=c("react.element"),c("react.portal"),c("react.fragment"),c("react.strict_mode"),c("react.profiler"),c("react.provider"),c("react.context"),c("react.forward_ref"),c("react.suspense"),c("react.memo"),c("react.lazy")}"function"==typeof Symbol&&Symbol;function S(A){for(var R="https://reactjs.org/docs/error-decoder.html?invariant="+A,U=1;U<arguments.length;U++)R+="&args[]="+encodeURIComponent(arguments[U]);return"Minified React error #"+A+"; visit "+R+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C={};function k(A,R,U){this.props=A,this.context=R,this.refs=C,this.updater=U||p}function O(){}function x(A,R,U){this.props=A,this.context=R,this.refs=C,this.updater=U||p}k.prototype.isReactComponent={},k.prototype.setState=function(A,R){if("object"!=typeof A&&"function"!=typeof A&&null!=A)throw Error(S(85));this.updater.enqueueSetState(this,A,R,"setState")},k.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")},O.prototype=k.prototype;var j=x.prototype=new O;j.constructor=x,T(j,k.prototype),j.isPureReactComponent=!0;var V_current=null,L=Object.prototype.hasOwnProperty,B={key:!0,ref:!0,__self:!0,__source:!0};g.createElement=function(A,R,U){var J,ne={},Y=null,te=null;if(null!=R)for(J in void 0!==R.ref&&(te=R.ref),void 0!==R.key&&(Y=""+R.key),R)L.call(R,J)&&!B.hasOwnProperty(J)&&(ne[J]=R[J]);var re=arguments.length-2;if(1===re)ne.children=U;else if(1<re){for(var le=Array(re),ae=0;ae<re;ae++)le[ae]=arguments[ae+2];ne.children=le}if(A&&A.defaultProps)for(J in re=A.defaultProps)void 0===ne[J]&&(ne[J]=re[J]);return{$$typeof:y,type:A,key:Y,ref:te,props:ne,_owner:V_current}}},8139:(z,g,d)=>{"use strict";z.exports=d(5429)},7941:z=>{var g=function(d){"use strict";var y,u=Object.prototype,T=u.hasOwnProperty,_="function"==typeof Symbol?Symbol:{},b=_.iterator||"@@iterator",m=_.asyncIterator||"@@asyncIterator",v=_.toStringTag||"@@toStringTag";function I(P,F,W){return Object.defineProperty(P,F,{value:W,enumerable:!0,configurable:!0,writable:!0}),P[F]}try{I({},"")}catch(P){I=function(F,W,A){return F[W]=A}}function h(P,F,W,A){var U=Object.create((F&&F.prototype instanceof k?F:k).prototype),J=new oe(A||[]);return U._invoke=function(P,F,W){var A=D;return function(U,J){if(A===S)throw new Error("Generator is already running");if(A===p){if("throw"===U)throw J;return ie()}for(W.method=U,W.arg=J;;){var ne=W.delegate;if(ne){var Y=ue(ne,W);if(Y){if(Y===C)continue;return Y}}if("next"===W.method)W.sent=W._sent=W.arg;else if("throw"===W.method){if(A===D)throw A=p,W.arg;W.dispatchException(W.arg)}else"return"===W.method&&W.abrupt("return",W.arg);A=S;var te=c(P,F,W);if("normal"===te.type){if(A=W.done?p:w,te.arg===C)continue;return{value:te.arg,done:W.done}}"throw"===te.type&&(A=p,W.method="throw",W.arg=te.arg)}}}(P,W,J),U}function c(P,F,W){try{return{type:"normal",arg:P.call(F,W)}}catch(A){return{type:"throw",arg:A}}}d.wrap=h;var D="suspendedStart",w="suspendedYield",S="executing",p="completed",C={};function k(){}function O(){}function x(){}var j={};I(j,b,function(){return this});var V=Object.getPrototypeOf,L=V&&V(V(ce([])));L&&L!==u&&T.call(L,b)&&(j=L);var B=x.prototype=k.prototype=Object.create(j);function G(P){["next","throw","return"].forEach(function(F){I(P,F,function(W){return this._invoke(F,W)})})}function Q(P,F){function W(U,J,ne,Y){var te=c(P[U],P,J);if("throw"!==te.type){var re=te.arg,le=re.value;return le&&"object"==typeof le&&T.call(le,"__await")?F.resolve(le.__await).then(function(ae){W("next",ae,ne,Y)},function(ae){W("throw",ae,ne,Y)}):F.resolve(le).then(function(ae){re.value=ae,ne(re)},function(ae){return W("throw",ae,ne,Y)})}Y(te.arg)}var A;this._invoke=function(U,J){function ne(){return new F(function(Y,te){W(U,J,Y,te)})}return A=A?A.then(ne,ne):ne()}}function ue(P,F){var W=P.iterator[F.method];if(W===y){if(F.delegate=null,"throw"===F.method){if(P.iterator.return&&(F.method="return",F.arg=y,ue(P,F),"throw"===F.method))return C;F.method="throw",F.arg=new TypeError("The iterator does not provide a 'throw' method")}return C}var A=c(W,P.iterator,F.arg);if("throw"===A.type)return F.method="throw",F.arg=A.arg,F.delegate=null,C;var R=A.arg;return R?R.done?(F[P.resultName]=R.value,F.next=P.nextLoc,"return"!==F.method&&(F.method="next",F.arg=y),F.delegate=null,C):R:(F.method="throw",F.arg=new TypeError("iterator result is not an object"),F.delegate=null,C)}function q(P){var F={tryLoc:P[0]};1 in P&&(F.catchLoc=P[1]),2 in P&&(F.finallyLoc=P[2],F.afterLoc=P[3]),this.tryEntries.push(F)}function X(P){var F=P.completion||{};F.type="normal",delete F.arg,P.completion=F}function oe(P){this.tryEntries=[{tryLoc:"root"}],P.forEach(q,this),this.reset(!0)}function ce(P){if(P){var F=P[b];if(F)return F.call(P);if("function"==typeof P.next)return P;if(!isNaN(P.length)){var W=-1,A=function R(){for(;++W<P.length;)if(T.call(P,W))return R.value=P[W],R.done=!1,R;return R.value=y,R.done=!0,R};return A.next=A}}return{next:ie}}function ie(){return{value:y,done:!0}}return O.prototype=x,I(B,"constructor",x),I(x,"constructor",O),O.displayName=I(x,v,"GeneratorFunction"),d.isGeneratorFunction=function(P){var F="function"==typeof P&&P.constructor;return!!F&&(F===O||"GeneratorFunction"===(F.displayName||F.name))},d.mark=function(P){return Object.setPrototypeOf?Object.setPrototypeOf(P,x):(P.__proto__=x,I(P,v,"GeneratorFunction")),P.prototype=Object.create(B),P},d.awrap=function(P){return{__await:P}},G(Q.prototype),I(Q.prototype,m,function(){return this}),d.AsyncIterator=Q,d.async=function(P,F,W,A,R){void 0===R&&(R=Promise);var U=new Q(h(P,F,W,A),R);return d.isGeneratorFunction(F)?U:U.next().then(function(J){return J.done?J.value:U.next()})},G(B),I(B,v,"Generator"),I(B,b,function(){return this}),I(B,"toString",function(){return"[object Generator]"}),d.keys=function(P){var F=[];for(var W in P)F.push(W);return F.reverse(),function A(){for(;F.length;){var R=F.pop();if(R in P)return A.value=R,A.done=!1,A}return A.done=!0,A}},d.values=ce,oe.prototype={constructor:oe,reset:function(P){if(this.prev=0,this.next=0,this.sent=this._sent=y,this.done=!1,this.delegate=null,this.method="next",this.arg=y,this.tryEntries.forEach(X),!P)for(var F in this)"t"===F.charAt(0)&&T.call(this,F)&&!isNaN(+F.slice(1))&&(this[F]=y)},stop:function(){this.done=!0;var F=this.tryEntries[0].completion;if("throw"===F.type)throw F.arg;return this.rval},dispatchException:function(P){if(this.done)throw P;var F=this;function W(Y,te){return U.type="throw",U.arg=P,F.next=Y,te&&(F.method="next",F.arg=y),!!te}for(var A=this.tryEntries.length-1;A>=0;--A){var R=this.tryEntries[A],U=R.completion;if("root"===R.tryLoc)return W("end");if(R.tryLoc<=this.prev){var J=T.call(R,"catchLoc"),ne=T.call(R,"finallyLoc");if(J&&ne){if(this.prev<R.catchLoc)return W(R.catchLoc,!0);if(this.prev<R.finallyLoc)return W(R.finallyLoc)}else if(J){if(this.prev<R.catchLoc)return W(R.catchLoc,!0)}else{if(!ne)throw new Error("try statement without catch or finally");if(this.prev<R.finallyLoc)return W(R.finallyLoc)}}}},abrupt:function(P,F){for(var W=this.tryEntries.length-1;W>=0;--W){var A=this.tryEntries[W];if(A.tryLoc<=this.prev&&T.call(A,"finallyLoc")&&this.prev<A.finallyLoc){var R=A;break}}R&&("break"===P||"continue"===P)&&R.tryLoc<=F&&F<=R.finallyLoc&&(R=null);var U=R?R.completion:{};return U.type=P,U.arg=F,R?(this.method="next",this.next=R.finallyLoc,C):this.complete(U)},complete:function(P,F){if("throw"===P.type)throw P.arg;return"break"===P.type||"continue"===P.type?this.next=P.arg:"return"===P.type?(this.rval=this.arg=P.arg,this.method="return",this.next="end"):"normal"===P.type&&F&&(this.next=F),C},finish:function(P){for(var F=this.tryEntries.length-1;F>=0;--F){var W=this.tryEntries[F];if(W.finallyLoc===P)return this.complete(W.completion,W.afterLoc),X(W),C}},catch:function(P){for(var F=this.tryEntries.length-1;F>=0;--F){var W=this.tryEntries[F];if(W.tryLoc===P){var A=W.completion;if("throw"===A.type){var R=A.arg;X(W)}return R}}throw new Error("illegal catch attempt")},delegateYield:function(P,F,W){return this.delegate={iterator:ce(P),resultName:F,nextLoc:W},"next"===this.method&&(this.arg=y),C}},d}(z.exports);try{regeneratorRuntime=g}catch(d){"object"==typeof globalThis?globalThis.regeneratorRuntime=g:Function("r","regeneratorRuntime = r")(g)}},3738:(z,g,d)=>{"use strict";function u(t){return"function"==typeof t}let T=!1;const y={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else T&&console.log("RxJS: Back to a better error behavior. Thank you. <3");T=t},get useDeprecatedSynchronousErrorHandling(){return T}};function _(t){setTimeout(()=>{throw t},0)}const b={closed:!0,next(t){},error(t){if(y.useDeprecatedSynchronousErrorHandling)throw t;_(t)},complete(){}},m=Array.isArray||(t=>t&&"number"==typeof t.length);function v(t){return null!==t&&"object"==typeof t}const h=(()=>{function t(e){return Error.call(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((n,r)=>`${r+1}) ${n.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e,this}return t.prototype=Object.create(Error.prototype),t})();class c{constructor(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:r,_unsubscribe:i,_subscriptions:o}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof c)n.remove(this);else if(null!==n)for(let s=0;s<n.length;++s)n[s].remove(this);if(u(i)){r&&(this._unsubscribe=void 0);try{i.call(this)}catch(s){e=s instanceof h?D(s.errors):[s]}}if(m(o)){let s=-1,a=o.length;for(;++s<a;){const l=o[s];if(v(l))try{l.unsubscribe()}catch(f){e=e||[],f instanceof h?e=e.concat(D(f.errors)):e.push(f)}}}if(e)throw new h(e)}add(e){let n=e;if(!e)return c.EMPTY;switch(typeof e){case"function":n=new c(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof c)){const o=n;n=new c,n._subscriptions=[o]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof c){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(e){const n=this._subscriptions;if(n){const r=n.indexOf(e);-1!==r&&n.splice(r,1)}}}var t;function D(t){return t.reduce((e,n)=>e.concat(n instanceof h?n.errors:n),[])}c.EMPTY=((t=new c).closed=!0,t);const w="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class p extends c{constructor(e,n,r){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=b;break;case 1:if(!e){this.destination=b;break}if("object"==typeof e){e instanceof p?(this.syncErrorThrowable=e.syncErrorThrowable,this.destination=e,e.add(this)):(this.syncErrorThrowable=!0,this.destination=new C(this,e));break}default:this.syncErrorThrowable=!0,this.destination=new C(this,e,n,r)}}[w](){return this}static create(e,n,r){const i=new p(e,n,r);return i.syncErrorThrowable=!1,i}next(e){this.isStopped||this._next(e)}error(e){this.isStopped||(this.isStopped=!0,this._error(e))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(e){this.destination.next(e)}_error(e){this.destination.error(e),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:e}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}class C extends p{constructor(e,n,r,i){super(),this._parentSubscriber=e;let o,s=this;u(n)?o=n:n&&(o=n.next,r=n.error,i=n.complete,n!==b&&(s=Object.create(n),u(s.unsubscribe)&&this.add(s.unsubscribe.bind(s)),s.unsubscribe=this.unsubscribe.bind(this))),this._context=s,this._next=o,this._error=r,this._complete=i}next(e){if(!this.isStopped&&this._next){const{_parentSubscriber:n}=this;y.useDeprecatedSynchronousErrorHandling&&n.syncErrorThrowable?this.__tryOrSetError(n,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}error(e){if(!this.isStopped){const{_parentSubscriber:n}=this,{useDeprecatedSynchronousErrorHandling:r}=y;if(this._error)r&&n.syncErrorThrowable?(this.__tryOrSetError(n,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(n.syncErrorThrowable)r?(n.syncErrorValue=e,n.syncErrorThrown=!0):_(e),this.unsubscribe();else{if(this.unsubscribe(),r)throw e;_(e)}}}complete(){if(!this.isStopped){const{_parentSubscriber:e}=this;if(this._complete){const n=()=>this._complete.call(this._context);y.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(e,n){try{e.call(this._context,n)}catch(r){if(this.unsubscribe(),y.useDeprecatedSynchronousErrorHandling)throw r;_(r)}}__tryOrSetError(e,n,r){if(!y.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{n.call(this._context,r)}catch(i){return y.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=i,e.syncErrorThrown=!0,!0):(_(i),!0)}return!1}_unsubscribe(){const{_parentSubscriber:e}=this;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}const x="function"==typeof Symbol&&Symbol.observable||"@@observable";function j(t){return t}let B=(()=>{class t{constructor(n){this._isScalar=!1,n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const{operator:o}=this,s=function(t,e,n){if(t){if(t instanceof p)return t;if(t[w])return t[w]()}return t||e||n?new p(t,e,n):new p(b)}(n,r,i);if(s.add(o?o.call(s,this.source):this.source||y.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),y.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){y.useDeprecatedSynchronousErrorHandling&&(n.syncErrorThrown=!0,n.syncErrorValue=r),function(t){for(;t;){const{closed:e,destination:n,isStopped:r}=t;if(e||r)return!1;t=n&&n instanceof p?n:null}return!0}(n)?n.error(r):console.warn(r)}}forEach(n,r){return new(r=G(r))((i,o)=>{let s;s=this.subscribe(a=>{try{n(a)}catch(l){o(l),s&&s.unsubscribe()}},o,i)})}_subscribe(n){const{source:r}=this;return r&&r.subscribe(n)}[x](){return this}pipe(...n){return 0===n.length?this:function(t){return 0===t.length?j:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}(n)(this)}toPromise(n){return new(n=G(n))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function G(t){if(t||(t=y.Promise||Promise),!t)throw new Error("no Promise impl found");return t}const $=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})();class ue extends c{constructor(e,n){super(),this.subject=e,this.subscriber=n,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const e=this.subject,n=e.observers;if(this.subject=null,!n||0===n.length||e.isStopped||e.closed)return;const r=n.indexOf(this.subscriber);-1!==r&&n.splice(r,1)}}class q extends p{constructor(e){super(e),this.destination=e}}let X=(()=>{class t extends B{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[w](){return new q(this)}lift(n){const r=new oe(this,this);return r.operator=n,r}next(n){if(this.closed)throw new $;if(!this.isStopped){const{observers:r}=this,i=r.length,o=r.slice();for(let s=0;s<i;s++)o[s].next(n)}}error(n){if(this.closed)throw new $;this.hasError=!0,this.thrownError=n,this.isStopped=!0;const{observers:r}=this,i=r.length,o=r.slice();for(let s=0;s<i;s++)o[s].error(n);this.observers.length=0}complete(){if(this.closed)throw new $;this.isStopped=!0;const{observers:n}=this,r=n.length,i=n.slice();for(let o=0;o<r;o++)i[o].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(n){if(this.closed)throw new $;return super._trySubscribe(n)}_subscribe(n){if(this.closed)throw new $;return this.hasError?(n.error(this.thrownError),c.EMPTY):this.isStopped?(n.complete(),c.EMPTY):(this.observers.push(n),new ue(this,n))}asObservable(){const n=new B;return n.source=this,n}}return t.create=(e,n)=>new oe(e,n),t})();class oe extends X{constructor(e,n){super(),this.destination=e,this.source=n}next(e){const{destination:n}=this;n&&n.next&&n.next(e)}error(e){const{destination:n}=this;n&&n.error&&this.destination.error(e)}complete(){const{destination:e}=this;e&&e.complete&&this.destination.complete()}_subscribe(e){const{source:n}=this;return n?this.source.subscribe(e):c.EMPTY}}function ce(t){return t&&"function"==typeof t.schedule}function ie(t,e){return function(r){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return r.lift(new P(t,e))}}class P{constructor(e,n){this.project=e,this.thisArg=n}call(e,n){return n.subscribe(new F(e,this.project,this.thisArg))}}class F extends p{constructor(e,n,r){super(e),this.project=n,this.count=0,this.thisArg=r||this}_next(e){let n;try{n=this.project.call(this.thisArg,e,this.count++)}catch(r){return void this.destination.error(r)}this.destination.next(n)}}const W=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()},U="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",te=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function re(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}const le=t=>{if(t&&"function"==typeof t[x])return(t=>e=>{const n=t[x]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(e)})(t);if(te(t))return W(t);if(re(t))return(t=>e=>(t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,_),e))(t);if(t&&"function"==typeof t[U])return(t=>e=>{const n=t[U]();for(;;){let r;try{r=n.next()}catch(i){return e.error(i),e}if(r.done){e.complete();break}if(e.next(r.value),e.closed)break}return"function"==typeof n.return&&e.add(()=>{n.return&&n.return()}),e})(t);{const n=`You provided ${v(t)?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(n)}};function pe(t,e){return new B(n=>{const r=new c;let i=0;return r.add(e.schedule(function(){i!==t.length?(n.next(t[i++]),n.closed||r.add(this.schedule())):n.complete()})),r})}function Te(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[x]}(t))return function(t,e){return new B(n=>{const r=new c;return r.add(e.schedule(()=>{const i=t[x]();r.add(i.subscribe({next(o){r.add(e.schedule(()=>n.next(o)))},error(o){r.add(e.schedule(()=>n.error(o)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(re(t))return function(t,e){return new B(n=>{const r=new c;return r.add(e.schedule(()=>t.then(i=>{r.add(e.schedule(()=>{n.next(i),r.add(e.schedule(()=>n.complete()))}))},i=>{r.add(e.schedule(()=>n.error(i)))}))),r})}(t,e);if(te(t))return pe(t,e);if(function(t){return t&&"function"==typeof t[U]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new B(n=>{const r=new c;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[U](),r.add(e.schedule(function(){if(n.closed)return;let o,s;try{const a=i.next();o=a.value,s=a.done}catch(a){return void n.error(a)}s?n.complete():(n.next(o),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof B?t:new B(le(t))}class we extends p{constructor(e){super(),this.parent=e}_next(e){this.parent.notifyNext(e)}_error(e){this.parent.notifyError(e),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class Ee extends p{notifyNext(e){this.destination.next(e)}notifyError(e){this.destination.error(e)}notifyComplete(){this.destination.complete()}}function Vr(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?r=>r.pipe(Vr((i,o)=>Te(t(i,o)).pipe(ie((s,a)=>e(i,s,o,a))),n)):("number"==typeof e&&(n=e),r=>r.lift(new Hv(t,n)))}class Hv{constructor(e,n=Number.POSITIVE_INFINITY){this.project=e,this.concurrent=n}call(e,n){return n.subscribe(new jv(e,this.project,this.concurrent))}}class jv extends Ee{constructor(e,n,r=Number.POSITIVE_INFINITY){super(e),this.project=n,this.concurrent=r,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}_tryNext(e){let n;const r=this.index++;try{n=this.project(e,r)}catch(i){return void this.destination.error(i)}this.active++,this._innerSub(n)}_innerSub(e){const n=new we(this),r=this.destination;r.add(n);const i=function(t,e){if(e.closed)return;if(t instanceof B)return t.subscribe(e);let n;try{n=le(t)(e)}catch(r){e.error(r)}return n}(e,n);i!==n&&r.add(i)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(e){this.destination.next(e)}notifyComplete(){const e=this.buffer;this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function Wv(t=Number.POSITIVE_INFINITY){return Vr(j,t)}function gd(t,e){return e?pe(t,e):new B(W(t))}function md(){return function(e){return e.lift(new $v(e))}}class $v{constructor(e){this.connectable=e}call(e,n){const{connectable:r}=this;r._refCount++;const i=new zv(e,r),o=n.subscribe(i);return i.closed||(i.connection=r.connect()),o}}class zv extends p{constructor(e,n){super(e),this.connectable=n}_unsubscribe(){const{connectable:e}=this;if(!e)return void(this.connection=null);this.connectable=null;const n=e._refCount;if(n<=0)return void(this.connection=null);if(e._refCount=n-1,n>1)return void(this.connection=null);const{connection:r}=this,i=e._connection;this.connection=null,i&&(!r||i===r)&&i.unsubscribe()}}class Kv extends B{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._refCount=0,this._isComplete=!1}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let e=this._connection;return e||(this._isComplete=!1,e=this._connection=new c,e.add(this.source.subscribe(new qv(this.getSubject(),this))),e.closed&&(this._connection=null,e=c.EMPTY)),e}refCount(){return md()(this)}}const Qv=(()=>{const t=Kv.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class qv extends q{constructor(e,n){super(e),this.connectable=n}_error(e){this._unsubscribe(),super._error(e)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const e=this.connectable;if(e){this.connectable=null;const n=e._connection;e._refCount=0,e._subject=null,e._connection=null,n&&n.unsubscribe()}}}function Xv(){return new X}function ze(t){for(let e in t)if(t[e]===ze)return e;throw Error("Could not find renamed property on target object.")}function Be(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Be).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function ja(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const tC=ze({__forward_ref__:ze});function Wa(t){return t.__forward_ref__=Wa,t.toString=function(){return Be(this())},t}function De(t){return function(t){return"function"==typeof t&&t.hasOwnProperty(tC)&&t.__forward_ref__===Wa}(t)?t():t}class mr extends Error{constructor(e,n){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(e,n)),this.code=e}}function Ot(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():function(t){return"string"==typeof t?t:null==t?"":String(t)}(t)}function Zo(t,e){const n=e?` in ${e}`:"";throw new mr("201",`No provider for ${Ot(t)} found${n}`)}function Wt(t,e){null==t&&function(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function qe(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function yr(t){return{providers:t.providers||[],imports:t.imports||[]}}function $n(t){return vd(t,Xo)||vd(t,_d)}function vd(t,e){return t.hasOwnProperty(e)?t[e]:null}function Cd(t){return t&&(t.hasOwnProperty($a)||t.hasOwnProperty(uC))?t[$a]:null}const Xo=ze({\u0275prov:ze}),$a=ze({\u0275inj:ze}),_d=ze({ngInjectableDef:ze}),uC=ze({ngInjectorDef:ze});var Me=(()=>((Me=Me||{})[Me.Default=0]="Default",Me[Me.Host=1]="Host",Me[Me.Self=2]="Self",Me[Me.SkipSelf=4]="SkipSelf",Me[Me.Optional=8]="Optional",Me))();let za;function nr(t){const e=za;return za=t,e}function Ed(t,e,n){const r=$n(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&Me.Optional?null:void 0!==e?e:void Zo(Be(t),"Injector")}function rr(t){return{toString:t}.toString()}var Jt=(()=>((Jt=Jt||{})[Jt.OnPush=0]="OnPush",Jt[Jt.Default=1]="Default",Jt))(),gt=(()=>((gt=gt||{})[gt.Emulated=0]="Emulated",gt[gt.None=2]="None",gt[gt.ShadowDom=3]="ShadowDom",gt))();const cC="undefined"!=typeof globalThis&&globalThis,dC="undefined"!=typeof window&&window,fC="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,hC="undefined"!=typeof global&&global,Ke=cC||hC||dC||fC,Br={},Ye=[],es=ze({\u0275cmp:ze}),Ka=ze({\u0275dir:ze}),Qa=ze({\u0275pipe:ze}),Id=ze({\u0275mod:ze}),pC=ze({\u0275loc:ze}),zn=ze({\u0275fac:ze}),Hi=ze({__NG_ELEMENT_ID__:ze});let gC=0;function qa(t){return rr(()=>{const n={},r={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===Jt.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||Ye,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||gt.Emulated,id:"c",styles:t.styles||Ye,_:null,setInput:null,schemas:t.schemas||null,tView:null},i=t.directives,o=t.features,s=t.pipes;return r.id+=gC++,r.inputs=Sd(t.inputs,n),r.outputs=Sd(t.outputs),o&&o.forEach(a=>a(r)),r.directiveDefs=i?()=>("function"==typeof i?i():i).map(Td):null,r.pipeDefs=s?()=>("function"==typeof s?s():s).map(Dd):null,r})}function Td(t){return Pt(t)||function(t){return t[Ka]||null}(t)}function Dd(t){return function(t){return t[Qa]||null}(t)}const bd={};function ji(t){return rr(()=>{const e={type:t.type,bootstrap:t.bootstrap||Ye,declarations:t.declarations||Ye,imports:t.imports||Ye,exports:t.exports||Ye,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(bd[t.id]=t.type),e})}function Sd(t,e){if(null==t)return Br;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}const Yt=qa;function Pt(t){return t[es]||null}function Zt(t,e){const n=t[Id]||null;if(!n&&!0===e)throw new Error(`Type ${Be(t)} does not have '\u0275mod' property.`);return n}function Mn(t){return Array.isArray(t)&&"object"==typeof t[1]}function hn(t){return Array.isArray(t)&&!0===t[1]}function Za(t){return 0!=(8&t.flags)}function is(t){return 2==(2&t.flags)}function os(t){return 1==(1&t.flags)}function pn(t){return null!==t.template}function IC(t){return 0!=(512&t[2])}function Ir(t,e){return t.hasOwnProperty(zn)?t[zn]:null}class Rd{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function Md(t){return t.type.prototype.ngOnChanges&&(t.setInput=SC),bC}function bC(){const t=Od(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===Br)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function SC(t,e,n,r){const i=Od(t)||function(t,e){return t[Ad]=e}(t,{previous:Br,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[n],l=s[a];o[a]=new Rd(l&&l.currentValue,e,s===Br),t[r]=e}const Ad="__ngSimpleChanges__";function Od(t){return t[Ad]||null}let tu;function st(t){return!!t.listen}const kd={createRenderer:(t,e)=>void 0!==tu?tu:"undefined"!=typeof document?document:void 0};function ft(t){for(;Array.isArray(t);)t=t[0];return t}function tn(t,e){return ft(e[t.index])}function ru(t,e){return t.data[e]}function $t(t,e){const n=e[t];return Mn(n)?n:n[0]}function iu(t){return 128==(128&t[2])}function or(t,e){return null==e?null:t[e]}function Fd(t){t[18]=0}function ou(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const Oe={lFrame:Gd(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Ld(){return Oe.bindingsEnabled}function de(){return Oe.lFrame.lView}function $e(){return Oe.lFrame.tView}function su(t){return Oe.lFrame.contextLView=t,t[8]}function mt(){let t=Vd();for(;null!==t&&64===t.type;)t=t.parent;return t}function Vd(){return Oe.lFrame.currentTNode}function An(t,e){const n=Oe.lFrame;n.currentTNode=t,n.isParent=e}function au(){return Oe.lFrame.isParent}function us(){return Oe.isInCheckNoChangesMode}function ls(t){Oe.isInCheckNoChangesMode=t}function HC(t,e){const n=Oe.lFrame;n.bindingIndex=n.bindingRootIndex=t,lu(e)}function lu(t){Oe.lFrame.currentDirectiveIndex=t}function du(t){Oe.lFrame.currentQueryIndex=t}function WC(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function jd(t,e,n){if(n&Me.SkipSelf){let i=e,o=t;for(;!(i=i.parent,null!==i||n&Me.Host||(i=WC(o),null===i||(o=o[15],10&i.type))););if(null===i)return!1;e=i,t=o}const r=Oe.lFrame=Wd();return r.currentTNode=e,r.lView=t,!0}function cs(t){const e=Wd(),n=t[1];Oe.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function Wd(){const t=Oe.lFrame,e=null===t?null:t.child;return null===e?Gd(t):e}function Gd(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function $d(){const t=Oe.lFrame;return Oe.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const zd=$d;function ds(){const t=$d();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function kt(){return Oe.lFrame.selectedIndex}function sr(t){Oe.lFrame.selectedIndex=t}function fs(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:f,ngOnDestroy:E}=o;s&&(t.contentHooks||(t.contentHooks=[])).push(-n,s),a&&((t.contentHooks||(t.contentHooks=[])).push(n,a),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,a)),l&&(t.viewHooks||(t.viewHooks=[])).push(-n,l),f&&((t.viewHooks||(t.viewHooks=[])).push(n,f),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,f)),null!=E&&(t.destroyHooks||(t.destroyHooks=[])).push(n,E)}}function hs(t,e,n){Kd(t,e,3,n)}function ps(t,e,n,r){(3&t[2])===n&&Kd(t,e,n,r)}function fu(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Kd(t,e,n,r){const o=null!=r?r:-1,s=e.length-1;let a=0;for(let l=void 0!==r?65535&t[18]:0;l<s;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=r&&a>=r)break}else e[l]<0&&(t[18]+=65536),(a<o||-1==o)&&(ZC(t,n,e,l),t[18]=(4294901760&t[18])+l+2),l++}function ZC(t,e,n,r){const i=n[r]<0,o=n[r+1],a=t[i?-n[r]:n[r]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{o.call(a)}finally{}}}else try{o.call(a)}finally{}}class Ki{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function gs(t,e,n){const r=st(t);let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const s=n[i++],a=n[i++],l=n[i++];r?t.setAttribute(e,a,l,s):e.setAttributeNS(s,a,l)}else{const s=o,a=n[++i];pu(s)?r&&t.setProperty(e,s,a):r?t.setAttribute(e,s,a):e.setAttribute(s,a),i++}}return i}function Qd(t){return 3===t||4===t||6===t}function pu(t){return 64===t.charCodeAt(0)}function ms(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||qd(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function qd(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const a=t[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<t.length;){const a=t[o];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function Jd(t){return-1!==t}function zr(t){return 32767&t}function Kr(t,e){let n=function(t){return t>>16}(t),r=e;for(;n>0;)r=r[15],n--;return r}let gu=!0;function ys(t){const e=gu;return gu=t,e}let i0=0;function qi(t,e){const n=yu(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,mu(r.data,t),mu(e,null),mu(r.blueprint,null));const i=vs(t,e),o=t.injectorIndex;if(Jd(i)){const s=zr(i),a=Kr(i,e),l=a[1].data;for(let f=0;f<8;f++)e[o+f]=a[s+f]|l[s+f]}return e[o+8]=i,o}function mu(t,e){t.push(0,0,0,0,0,0,0,0,e)}function yu(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function vs(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const o=i[1],s=o.type;if(r=2===s?o.declTNode:1===s?i[6]:null,null===r)return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function Cs(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Hi)&&(r=n[Hi]),null==r&&(r=n[Hi]=i0++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function Xd(t,e,n){if(n&Me.Optional)return t;Zo(e,"NodeInjector")}function ef(t,e,n,r){if(n&Me.Optional&&void 0===r&&(r=null),0==(n&(Me.Self|Me.Host))){const i=t[9],o=nr(void 0);try{return i?i.get(e,r,n&Me.Optional):Ed(e,r,n&Me.Optional)}finally{nr(o)}}return Xd(r,e,n)}function tf(t,e,n,r=Me.Default,i){if(null!==t){const o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Hi)?t[Hi]:void 0;return"number"==typeof e?e>=0?255&e:a0:e}(n);if("function"==typeof o){if(!jd(e,t,r))return r&Me.Host?Xd(i,n,r):ef(e,n,r,i);try{const s=o(r);if(null!=s||r&Me.Optional)return s;Zo(n)}finally{zd()}}else if("number"==typeof o){let s=null,a=yu(t,e),l=-1,f=r&Me.Host?e[16][6]:null;for((-1===a||r&Me.SkipSelf)&&(l=-1===a?vs(t,e):e[a+8],-1!==l&&of(r,!1)?(s=e[1],a=zr(l),e=Kr(l,e)):a=-1);-1!==a;){const E=e[1];if(rf(o,a,E.data)){const M=u0(a,e,n,s,r,f);if(M!==nf)return M}l=e[a+8],-1!==l&&of(r,e[1].data[a+8]===f)&&rf(o,a,e)?(s=E,a=zr(l),e=Kr(l,e)):a=-1}}}return ef(e,n,r,i)}const nf={};function a0(){return new Qr(mt(),de())}function u0(t,e,n,r,i,o){const s=e[1],a=s.data[t+8],E=function(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,l=t.directiveStart,E=o>>20,N=i?a+E:t.directiveEnd;for(let H=r?a:a+E;H<N;H++){const K=s[H];if(H<l&&n===K||H>=l&&K.type===n)return H}if(i){const H=s[l];if(H&&pn(H)&&H.type===n)return l}return null}(a,s,n,null==r?is(a)&&gu:r!=s&&0!=(3&a.type),i&Me.Host&&o===a);return null!==E?Ji(e,s,E,a):nf}function Ji(t,e,n,r){let i=t[n];const o=e.data;if(function(t){return t instanceof Ki}(i)){const s=i;s.resolving&&function(t,e){throw new mr("200",`Circular dependency in DI detected for ${t}`)}(Ot(o[n]));const a=ys(s.canSeeViewProviders);s.resolving=!0;const l=s.injectImpl?nr(s.injectImpl):null;jd(t,r,Me.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const s=Md(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{null!==l&&nr(l),ys(a),s.resolving=!1,zd()}}return i}function rf(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function of(t,e){return!(t&Me.Self||t&Me.Host&&e)}class Qr{constructor(e,n){this._tNode=e,this._lView=n}get(e,n){return tf(this._tNode,this._lView,e,void 0,n)}}const Jr="__parameters__";function Tr(t,e,n){return rr(()=>{const r=function(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(l,f,E){const M=l.hasOwnProperty(Jr)?l[Jr]:Object.defineProperty(l,Jr,{value:[]})[Jr];for(;M.length<=E;)M.push(null);return(M[E]=M[E]||[]).push(s),l}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class Ze{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=qe({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}toString(){return`InjectionToken ${this._desc}`}}function Pn(t,e){t.forEach(n=>Array.isArray(n)?Pn(n,e):e(n))}function Is(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Dr(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}const eo={},Du="__NG_DI_FLAG__",Xr="ngTempTokenPath",I0=/\n/gm,bu="__source",Su=ze({provide:String,useValue:ze});let to;function ei(t){const e=to;return to=t,e}function D0(t,e=Me.Default){if(void 0===to)throw new Error("inject() must be called from an injection context");return null===to?Ed(t,void 0,e):to.get(t,e&Me.Optional?null:void 0,e)}function We(t,e=Me.Default){return(za||D0)(De(t),e)}function br(t){const e=[];for(let n=0;n<t.length;n++){const r=De(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let i,o=Me.Default;for(let s=0;s<r.length;s++){const a=r[s],l=b0(a);"number"==typeof l?-1===l?i=a.token:o|=l:i=a}e.push(We(i,o))}else e.push(We(r))}return e}function no(t,e){return t[Du]=e,t.prototype[Du]=e,t}function b0(t){return t[Du]}function df(t,e,n,r){const i=t[Xr];throw e[bu]&&i.unshift(e[bu]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=Be(e);if(Array.isArray(e))i=e.map(Be).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):Be(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(I0,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[Xr]=null,t}const ro=no(Tr("Inject",t=>({token:t})),-1),Nn=no(Tr("Optional"),8),Sr=no(Tr("SkipSelf"),4),Of="__ngContext__";function wt(t,e){t[Of]=e}function xu(t){const e=function(t){return t[Of]||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Ms(t){return t.ngOriginalError}function v_(t,...e){t.error(...e)}class Rr{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e),r=this._findContext(e),i=function(t){return t&&t.ngErrorLogger||v_}(e);i(this._console,"ERROR",e),n&&i(this._console,"ORIGINAL ERROR",n),r&&i(this._console,"ERROR CONTEXT",r)}_findContext(e){return e?function(t){return t.ngDebugContext}(e)||this._findContext(Ms(e)):null}_findOriginalError(e){let n=e&&Ms(e);for(;n&&Ms(n);)n=Ms(n);return n||null}}const Uf=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Ke))();function Fn(t){return t instanceof Function?t():t}var Qt=(()=>((Qt=Qt||{})[Qt.Important=1]="Important",Qt[Qt.DashCase=2]="DashCase",Qt))();function Vu(t,e){return undefined(t,e)}function lo(t){const e=t[3];return hn(e)?e[3]:e}function Bu(t){return $f(t[13])}function Uu(t){return $f(t[4])}function $f(t){for(;null!==t&&!hn(t);)t=t[4];return t}function ii(t,e,n,r,i){if(null!=r){let o,s=!1;hn(r)?o=r:Mn(r)&&(s=!0,r=r[0]);const a=ft(r);0===t&&null!==n?null==i?Yf(e,n,a):Mr(e,n,a,i||null,!0):1===t&&null!==n?Mr(e,n,a,i||null,!0):2===t?function(t,e,n){const r=Os(t,e);r&&function(t,e,n,r){st(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function(t,e,n,r,i){const o=n[7];o!==ft(n)&&ii(e,t,r,o,i);for(let a=10;a<n.length;a++){const l=n[a];co(l[1],l,t,e,r,o)}}(e,t,o,n,i)}}function ju(t,e,n){return st(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Kf(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,ou(i,-1)),n.splice(r,1)}function Wu(t,e){if(t.length<=10)return;const n=10+e,r=t[n];if(r){const i=r[17];null!==i&&i!==t&&Kf(i,r),e>0&&(t[n-1][4]=r[4]);const o=Dr(t,10+e);!function(t,e){co(t,e,e[11],2,null,null),e[0]=null,e[6]=null}(r[1],r);const s=o[19];null!==s&&s.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function Qf(t,e){if(!(256&e[2])){const n=e[11];st(n)&&n.destroyNode&&co(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Gu(t[1],t);for(;e;){let n=null;if(Mn(e))n=e[13];else{const r=e[10];r&&(n=r)}if(!n){for(;e&&!e[4]&&e!==t;)Mn(e)&&Gu(e[1],e),e=e[3];null===e&&(e=t),Mn(e)&&Gu(e[1],e),n=e&&e[4]}e=n}}(e)}}function Gu(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof Ki)){const o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],l=o[s+1];try{l.call(a)}finally{}}else try{o.call(i)}finally{}}}}(t,e),function(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const s=n[o+1],a="function"==typeof s?s(e):ft(e[s]),l=r[i=n[o+2]],f=n[o+3];"boolean"==typeof f?a.removeEventListener(n[o],l,f):f>=0?r[i=f]():r[i=-f].unsubscribe(),o+=2}else{const s=r[i=n[o+1]];n[o].call(s)}if(null!==r){for(let o=i+1;o<r.length;o++)r[o]();e[7]=null}}(t,e),1===e[1].type&&st(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&hn(e[3])){n!==e[3]&&Kf(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function qf(t,e,n){return function(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const i=t.data[r.directiveStart].encapsulation;if(i===gt.None||i===gt.Emulated)return null}return tn(r,n)}(t,e.parent,n)}function Mr(t,e,n,r,i){st(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function Yf(t,e,n){st(t)?t.appendChild(e,n):e.appendChild(n)}function Zf(t,e,n,r,i){null!==r?Mr(t,e,n,r,i):Yf(t,e,n)}function Os(t,e){return st(t)?t.parentNode(e):e.parentNode}let th=function(t,e,n){return 40&t.type?tn(t,n):null};function Ps(t,e,n,r){const i=qf(t,r,e),o=e[11],a=function(t,e,n){return th(t,e,n)}(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let l=0;l<n.length;l++)Zf(o,i,n[l],a,!1);else Zf(o,i,n,a,!1)}function Ns(t,e){if(null!==e){const n=e.type;if(3&n)return tn(e,t);if(4&n)return zu(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return Ns(t,r);{const i=t[e.index];return hn(i)?zu(-1,i):ft(i)}}if(32&n)return Vu(e,t)()||ft(t[e.index]);{const r=rh(t,e);return null!==r?Array.isArray(r)?r[0]:Ns(lo(t[16]),r):Ns(t,e.next)}}return null}function rh(t,e){return null!==e?t[16][6].projection[e.projection]:null}function zu(t,e){const n=10+t+1;if(n<e.length){const r=e[n],i=r[1].firstChild;if(null!==i)return Ns(r,i)}return e[7]}function Ku(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],l=n.type;if(s&&0===e&&(a&&wt(ft(a),r),n.flags|=4),64!=(64&n.flags))if(8&l)Ku(t,e,n.child,r,i,o,!1),ii(e,t,i,a,o);else if(32&l){const f=Vu(n,r);let E;for(;E=f();)ii(e,t,i,E,o);ii(e,t,i,a,o)}else 16&l?oh(t,e,r,n,i,o):ii(e,t,i,a,o);n=s?n.projectionNext:n.next}}function co(t,e,n,r,i,o){Ku(n,r,t.firstChild,e,i,o,!1)}function oh(t,e,n,r,i,o){const s=n[16],l=s[6].projection[r.projection];if(Array.isArray(l))for(let f=0;f<l.length;f++)ii(e,t,i,l[f],o);else Ku(t,e,l,s[3],i,o,!0)}function sh(t,e,n){st(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Qu(t,e,n){st(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function ah(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}const uh="ng-template";function G_(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==ah(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function lh(t){return 4===t.type&&t.value!==uh}function $_(t,e,n){return e===(4!==t.type||n?t.value:uh)}function z_(t,e,n){let r=4;const i=t.attrs||[],o=function(t){for(let e=0;e<t.length;e++)if(Qd(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!s)if(4&r){if(r=2|1&r,""!==l&&!$_(t,l,n)||""===l&&1===e.length){if(gn(r))return!1;s=!0}}else{const f=8&r?l:e[++a];if(8&r&&null!==t.attrs){if(!G_(t.attrs,f,n)){if(gn(r))return!1;s=!0}continue}const M=K_(8&r?"class":l,i,lh(t),n);if(-1===M){if(gn(r))return!1;s=!0;continue}if(""!==f){let N;N=M>o?"":i[M+1].toLowerCase();const H=8&r?N:null;if(H&&-1!==ah(H,f,0)||2&r&&f!==N){if(gn(r))return!1;s=!0}}}}else{if(!s&&!gn(r)&&!gn(l))return!1;if(s&&gn(l))continue;s=!1,r=l|1&r}}return gn(r)||s}function gn(t){return 0==(1&t)}function K_(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){const s=e[i];if(s===t)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function ch(t,e,n=!1){for(let r=0;r<e.length;r++)if(z_(t,e[r],n))return!0;return!1}function dh(t,e){return t?":not("+e.trim()+")":e}function Z_(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!gn(s)&&(e+=dh(o,i),i=""),r=s,o=o||!gn(r);n++}return""!==i&&(e+=dh(o,i)),e}const Ne={};function ks(t){fh($e(),de(),kt()+t,us())}function fh(t,e,n,r){if(!r)if(3==(3&e[2])){const o=t.preOrderCheckHooks;null!==o&&hs(e,o,n)}else{const o=t.preOrderHooks;null!==o&&ps(e,o,0,n)}sr(n)}function Ih(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const s=t.data[o];du(i),s.contentQueries(2,e[o],o)}}}function fo(t,e,n,r,i,o,s,a,l,f){const E=e.blueprint.slice();return E[0]=i,E[2]=140|r,Fd(E),E[3]=E[15]=t,E[8]=n,E[10]=s||t&&t[10],E[11]=a||t&&t[11],E[12]=l||t&&t[12]||null,E[9]=f||t&&t[9]||null,E[6]=o,E[16]=2==e.type?t[16]:E,E}function oi(t,e,n,r,i){let o=t.data[e];if(null===o)o=function(t,e,n,r,i){const o=Vd(),s=au(),l=t.data[e]=function(t,e,n,r,i,o){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=l),null!==o&&(s?null==o.child&&null!==l.parent&&(o.child=l):null===o.next&&(o.next=l)),l}(t,e,n,r,i),Oe.lFrame.inI18n&&(o.flags|=64);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const s=function(){const t=Oe.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return An(o,!0),o}function si(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function ho(t,e,n){cs(e);try{const r=t.viewQuery;null!==r&&hl(1,r,n);const i=t.template;null!==i&&Th(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Ih(t,e),t.staticViewQueries&&hl(2,t.viewQuery,n);const o=t.components;null!==o&&function(t,e){for(let n=0;n<e.length;n++)OE(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[2]&=-5,ds()}}function ai(t,e,n,r){const i=e[2];if(256==(256&i))return;cs(e);const o=us();try{Fd(e),function(t){Oe.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&Th(t,e,n,2,r);const s=3==(3&i);if(!o)if(s){const f=t.preOrderCheckHooks;null!==f&&hs(e,f,null)}else{const f=t.preOrderHooks;null!==f&&ps(e,f,0,null),fu(e,0)}if(function(t){for(let e=Bu(t);null!==e;e=Uu(e)){if(!e[2])continue;const n=e[9];for(let r=0;r<n.length;r++){const i=n[r],o=i[3];0==(1024&i[2])&&ou(o,1),i[2]|=1024}}}(e),function(t){for(let e=Bu(t);null!==e;e=Uu(e))for(let n=10;n<e.length;n++){const r=e[n],i=r[1];iu(r)&&ai(i,r,i.template,r[8])}}(e),null!==t.contentQueries&&Ih(t,e),!o)if(s){const f=t.contentCheckHooks;null!==f&&hs(e,f)}else{const f=t.contentHooks;null!==f&&ps(e,f,1),fu(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)sr(~i);else{const o=i,s=n[++r],a=n[++r];HC(s,o),a(2,e[o])}}}finally{sr(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)AE(t,e[n])}(e,a);const l=t.viewQuery;if(null!==l&&hl(2,l,r),!o)if(s){const f=t.viewCheckHooks;null!==f&&hs(e,f)}else{const f=t.viewHooks;null!==f&&ps(e,f,2),fu(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,ou(e[3],-1))}finally{ds()}}function dE(t,e,n,r){const i=e[10],o=!us(),s=function(t){return 4==(4&t[2])}(e);try{o&&!s&&i.begin&&i.begin(),s&&ho(t,e,r),ai(t,e,n,r)}finally{o&&!s&&i.end&&i.end()}}function Th(t,e,n,r,i){const o=kt(),s=2&r;try{sr(-1),s&&e.length>20&&fh(t,e,20,us()),n(r,i)}finally{sr(o)}}function ol(t,e,n){!Ld()||(function(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||qi(n,e),wt(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const l=t.data[a],f=pn(l);f&&bE(e,n,l);const E=Ji(e,t,a,n);wt(E,e),null!==s&&SE(0,a-i,E,l,0,s),f&&($t(n.index,e)[8]=E)}}(t,e,n,tn(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,a=Oe.lFrame.currentDirectiveIndex;try{sr(s);for(let l=r;l<i;l++){const f=t.data[l],E=e[l];lu(l),(null!==f.hostBindings||0!==f.hostVars||null!==f.hostAttrs)&&Ph(f,E)}}finally{sr(-1),lu(a)}}(t,e,n))}function sl(t,e,n=tn){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function bh(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Vs(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Vs(t,e,n,r,i,o,s,a,l,f){const E=20+r,M=E+i,N=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:Ne);return n}(E,M),H="function"==typeof f?f():f;return N[1]={type:t,blueprint:N,template:n,queries:null,viewQuery:a,declTNode:e,data:N.slice().fill(null,E),bindingStartIndex:E,expandoStartIndex:M,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:H,incompleteFirstPass:!1}}function Mh(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function al(t,e,n,r){let i=!1;if(Ld()){const o=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];ch(n,s.selectors,!1)&&(i||(i=[]),Cs(qi(n,e),t,s.type),pn(s)?(Nh(t,n),i.unshift(s)):i.push(s))}return i}(t,e,n),s=null===r?null:{"":-1};if(null!==o){i=!0,kh(n,t.data.length,o.length);for(let E=0;E<o.length;E++){const M=o[E];M.providersResolver&&M.providersResolver(M)}let a=!1,l=!1,f=si(t,e,o.length,null);for(let E=0;E<o.length;E++){const M=o[E];n.mergedAttrs=ms(n.mergedAttrs,M.hostAttrs),xh(t,n,e,f,M),DE(f,M,s),null!==M.contentQueries&&(n.flags|=8),(null!==M.hostBindings||null!==M.hostAttrs||0!==M.hostVars)&&(n.flags|=128);const N=M.type.prototype;!a&&(N.ngOnChanges||N.ngOnInit||N.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),a=!0),!l&&(N.ngOnChanges||N.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),l=!0),f++}!function(t,e){const r=e.directiveEnd,i=t.data,o=e.attrs,s=[];let a=null,l=null;for(let f=e.directiveStart;f<r;f++){const E=i[f],M=E.inputs,N=null===o||lh(e)?null:wE(M,o);s.push(N),a=Mh(M,f,a),l=Mh(E.outputs,f,l)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=s,e.inputs=a,e.outputs=l}(t,n)}s&&function(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const o=n[e[i+1]];if(null==o)throw new mr("301",`Export of name '${e[i+1]}' not found!`);r.push(e[i],o)}}}(n,r,s)}return n.mergedAttrs=ms(n.mergedAttrs,n.attrs),i}function Oh(t,e,n,r,i,o){const s=o.hostBindings;if(s){let a=t.hostBindingOpCodes;null===a&&(a=t.hostBindingOpCodes=[]);const l=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(a)!=l&&a.push(l),a.push(r,i,s)}}function Ph(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Nh(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function DE(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;pn(e)&&(n[""]=t)}}function kh(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function xh(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=Ir(i.type)),s=new Ki(o,pn(i),null);t.blueprint[r]=s,n[r]=s,Oh(t,e,0,r,si(t,n,i.hostVars,Ne),i)}function bE(t,e,n){const r=tn(e,t),i=bh(n),o=t[10],s=Bs(t,fo(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n),null,null));t[e.index]=s}function SE(t,e,n,r,i,o){const s=o[e];if(null!==s){const a=r.setInput;for(let l=0;l<s.length;){const f=s[l++],E=s[l++],M=s[l++];null!==a?r.setInput(n,M,f,E):n[E]=M}}}function wE(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function Fh(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function AE(t,e){const n=$t(e,t);if(iu(n)){const r=n[1];80&n[2]?ai(r,n,r.template,n[8]):n[5]>0&&ll(n)}}function ll(t){for(let r=Bu(t);null!==r;r=Uu(r))for(let i=10;i<r.length;i++){const o=r[i];if(1024&o[2]){const s=o[1];ai(s,o,s.template,o[8])}else o[5]>0&&ll(o)}const n=t[1].components;if(null!==n)for(let r=0;r<n.length;r++){const i=$t(n[r],t);iu(i)&&i[5]>0&&ll(i)}}function OE(t,e){const n=$t(e,t),r=n[1];(function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])})(r,n),ho(r,n,n[8])}function Bs(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function cl(t){for(;t;){t[2]|=64;const e=lo(t);if(IC(t)&&!e)return t;t=e}return null}function fl(t,e,n){const r=e[10];r.begin&&r.begin();try{ai(t,e,t.template,n)}catch(i){throw Hh(e,i),i}finally{r.end&&r.end()}}function Lh(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=xu(n),i=r[1];dE(i,r,i.template,n)}}(t[8])}function hl(t,e,n){du(0),e(t,n)}const FE=(()=>Promise.resolve(null))();function Vh(t){return t[7]||(t[7]=[])}function Bh(t){return t.cleanup||(t.cleanup=[])}function Hh(t,e){const n=t[9],r=n?n.get(Rr,null):null;r&&r.handleError(e)}function jh(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],l=e[s],f=t.data[s];null!==f.setInput?f.setInput(l,i,r,a):l[a]=i}}function Us(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?i=ja(i,a):2==o&&(r=ja(r,a+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const ui=new Ze("INJECTOR",-1);class Wh{get(e,n=eo){if(n===eo){const r=new Error(`NullInjectorError: No provider for ${Be(e)}!`);throw r.name="NullInjectorError",r}return n}}const po=new Ze("Set Injector scope."),go={},BE={};let pl;function Gh(){return void 0===pl&&(pl=new Wh),pl}function $h(t,e=null,n=null,r){return new HE(t,n,e||Gh(),r)}class HE{constructor(e,n,r,i=null){this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const o=[];n&&Pn(n,a=>this.processProvider(a,e,n)),Pn([e],a=>this.processInjectorType(a,[],o)),this.records.set(ui,li(void 0,this));const s=this.records.get(po);this.scope=null!=s?s.value:null,this.source=i||("object"==typeof e?null:Be(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,n=eo,r=Me.Default){this.assertNotDestroyed();const i=ei(this),o=nr(void 0);try{if(!(r&Me.SkipSelf)){let a=this.records.get(e);if(void 0===a){const l=function(t){return"function"==typeof t||"object"==typeof t&&t instanceof Ze}(e)&&$n(e);a=l&&this.injectableDefInScope(l)?li(gl(e),go):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&Me.Self?Gh():this.parent).get(e,n=r&Me.Optional&&n===eo?null:n)}catch(s){if("NullInjectorError"===s.name){if((s[Xr]=s[Xr]||[]).unshift(Be(e)),i)throw s;return df(s,e,"R3InjectorError",this.source)}throw s}finally{nr(o),ei(i)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((r,i)=>e.push(Be(i))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(e,n,r){if(!(e=De(e)))return!1;let i=Cd(e);const o=null==i&&e.ngModule||void 0,s=void 0===o?e:o,a=-1!==r.indexOf(s);if(void 0!==o&&(i=Cd(o)),null==i)return!1;if(null!=i.imports&&!a){let E;r.push(s);try{Pn(i.imports,M=>{this.processInjectorType(M,n,r)&&(void 0===E&&(E=[]),E.push(M))})}finally{}if(void 0!==E)for(let M=0;M<E.length;M++){const{ngModule:N,providers:H}=E[M];Pn(H,K=>this.processProvider(K,N,H||Ye))}}this.injectorDefTypes.add(s);const l=Ir(s)||(()=>new s);this.records.set(s,li(l,go));const f=i.providers;if(null!=f&&!a){const E=e;Pn(f,M=>this.processProvider(M,E,f))}return void 0!==o&&void 0!==e.providers}processProvider(e,n,r){let i=ci(e=De(e))?e:De(e&&e.provide);const o=function(t,e,n){return Kh(t)?li(void 0,t.useValue):li(function(t,e,n){let r;if(ci(t)){const i=De(t);return Ir(i)||gl(i)}if(Kh(t))r=()=>De(t.useValue);else if(function(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...br(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>We(De(t.useExisting));else{const i=De(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return Ir(i)||gl(i);r=()=>new i(...br(t.deps))}return r}(t),go)}(e);if(ci(e)||!0!==e.multi)this.records.get(i);else{let s=this.records.get(i);s||(s=li(void 0,go,!0),s.factory=()=>br(s.multi),this.records.set(i,s)),i=e,s.multi.push(e)}this.records.set(i,o)}hydrate(e,n){return n.value===go&&(n.value=BE,n.value=n.factory()),"object"==typeof n.value&&n.value&&function(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this.onDestroy.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=De(e.providedIn);return"string"==typeof n?"any"===n||n===this.scope:this.injectorDefTypes.has(n)}}function gl(t){const e=$n(t),n=null!==e?e.factory:Ir(t);if(null!==n)return n;if(t instanceof Ze)throw new Error(`Token ${Be(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const r=function(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?");throw new Error(`Can't resolve all parameters for ${Be(t)}: (${r.join(", ")}).`)}const n=function(t){const e=t&&(t[Xo]||t[_d]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function li(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Kh(t){return null!==t&&"object"==typeof t&&Su in t}function ci(t){return"function"==typeof t}const Qh=function(t,e,n){return function(t,e=null,n=null,r){const i=$h(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};class Je{static create(e,n){return Array.isArray(e)?Qh(e,n,""):Qh(e.providers,e.parent,e.name||"")}}function uI(t,e){fs(xu(t)[1],mt())}Je.THROW_IF_NOT_FOUND=eo,Je.NULL=new Wh,Je.\u0275prov=qe({token:Je,providedIn:"any",factory:()=>We(ui)}),Je.__NG_ELEMENT_ID__=-1;let Hs=null;function di(){if(!Hs){const t=Ke.Symbol;if(t&&t.iterator)Hs=t.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let n=0;n<e.length;++n){const r=e[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Hs=r)}}}return Hs}function yo(t){return!!Il(t)&&(Array.isArray(t)||!(t instanceof Map)&&di()in t)}function Il(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Ws(t,e,n,r,i,o,s,a){const l=de(),f=$e(),E=t+20,M=f.firstCreatePass?function(t,e,n,r,i,o,s,a,l){const f=e.consts,E=oi(e,t,4,s||null,or(f,a));al(e,n,E,or(f,l)),fs(e,E);const M=E.tViews=Vs(2,E,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,f);return null!==e.queries&&(e.queries.template(e,E),M.queries=e.queries.embeddedTView(E)),E}(E,f,l,e,n,r,i,o,s):f.data[E];An(M,!1);const N=l[11].createComment("");Ps(f,l,N,M),wt(N,l),Bs(l,l[E]=Fh(N,l,N,M)),os(M)&&ol(f,l,M),null!=s&&sl(l,M,a)}function je(t,e=Me.Default){const n=de();return null===n?We(t,e):tf(mt(),n,De(t),e)}function Co(t,e,n){const r=de();return function(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}(r,Oe.lFrame.bindingIndex++,e)&&function(t,e,n,r,i,o,s,a){const l=tn(e,n);let E,f=e.inputs;!a&&null!=f&&(E=f[r])?(jh(t,n,E,r,i),is(e)&&function(t,e){const n=$t(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=s?s(i,e.value||"",r):i,st(o)?o.setProperty(l,r,i):pu(r)||(l.setProperty?l.setProperty(r,i):l[r]=i))}($e(),function(){const t=Oe.lFrame;return ru(t.tView,t.selectedIndex)}(),r,t,e,r[11],n,!1),Co}function wl(t,e,n,r,i){const s=i?"class":"style";jh(t,n,e.inputs[s],s,r)}function Bn(t,e,n,r){const i=de(),o=$e(),s=20+t,a=i[11],l=i[s]=ju(a,e,Oe.lFrame.currentNamespace),f=o.firstCreatePass?function(t,e,n,r,i,o,s){const a=e.consts,f=oi(e,t,2,i,or(a,o));return al(e,n,f,or(a,s)),null!==f.attrs&&Us(f,f.attrs,!1),null!==f.mergedAttrs&&Us(f,f.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,f),f}(s,o,i,0,e,n,r):o.data[s];An(f,!0);const E=f.mergedAttrs;null!==E&&gs(a,l,E);const M=f.classes;null!==M&&Qu(a,l,M);const N=f.styles;null!==N&&sh(a,l,N),64!=(64&f.flags)&&Ps(o,i,l,f),0===Oe.lFrame.elementDepthCount&&wt(l,i),Oe.lFrame.elementDepthCount++,os(f)&&(ol(o,i,f),function(t,e,n){if(Za(e)){const i=e.directiveEnd;for(let o=e.directiveStart;o<i;o++){const s=t.data[o];s.contentQueries&&s.contentQueries(1,n[o],o)}}}(o,f,i)),null!==r&&sl(i,f)}function Un(){let t=mt();au()?Oe.lFrame.isParent=!1:(t=t.parent,An(t,!1));const e=t;Oe.lFrame.elementDepthCount--;const n=$e();n.firstCreatePass&&(fs(n,t),Za(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&wl(n,e,de(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&wl(n,e,de(),e.stylesWithoutHost,!1)}function Rl(){return de()}function Ml(t){return!!t&&"function"==typeof t.then}const Vp=function(t){return!!t&&"function"==typeof t.subscribe};function $s(t,e,n,r){const i=de(),o=$e(),s=mt();return function(t,e,n,r,i,o,s,a){const l=os(r),E=t.firstCreatePass&&Bh(t),M=e[8],N=Vh(e);let H=!0;if(3&r.type||a){const Z=tn(r,e),fe=a?a(Z):Z,se=N.length,Ie=a?be=>a(ft(be[r.index])):r.index;if(st(n)){let be=null;if(!a&&l&&(be=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===n&&i[o+1]===r){const a=e[7],l=i[o+2];return a.length>l?a[l]:null}"string"==typeof s&&(o+=2)}return null}(t,e,i,r.index)),null!==be)(be.__ngLastListenerFn__||be).__ngNextListenerFn__=o,be.__ngLastListenerFn__=o,H=!1;else{o=Al(r,e,M,o,!1);const Ue=n.listen(fe,i,o);N.push(o,Ue),E&&E.push(i,Ie,se,se+1)}}else o=Al(r,e,M,o,!0),fe.addEventListener(i,o,s),N.push(o),E&&E.push(i,Ie,se,s)}else o=Al(r,e,M,o,!1);const K=r.outputs;let ee;if(H&&null!==K&&(ee=K[i])){const Z=ee.length;if(Z)for(let fe=0;fe<Z;fe+=2){const _t=e[ee[fe]][ee[fe+1]].subscribe(o),dn=N.length;N.push(o,_t),E&&E.push(i,r.index,dn,-(dn+1))}}}(o,i,i[11],s,t,e,!!n,r),$s}function Hp(t,e,n,r){try{return!1!==n(r)}catch(i){return Hh(t,i),!1}}function Al(t,e,n,r,i){return function o(s){if(s===Function)return r;const a=2&t.flags?$t(t.index,e):e;0==(32&e[2])&&cl(a);let l=Hp(e,0,r,s),f=o.__ngNextListenerFn__;for(;f;)l=Hp(e,0,f,s)&&l,f=f.__ngNextListenerFn__;return i&&!1===l&&(s.preventDefault(),s.returnValue=!1),l}}function zs(t=1){return function(t){return(Oe.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Oe.lFrame.contextLView))[8]}(t)}function Eo(t,e=""){const n=de(),r=$e(),i=t+20,o=r.firstCreatePass?oi(r,i,1,e,null):r.data[i],s=n[i]=function(t,e){return st(t)?t.createText(e):t.createTextNode(e)}(n[11],e);Ps(r,n,s,o),An(o,!1)}const Or=void 0;var kT=["en",[["a","p"],["AM","PM"],Or],[["AM","PM"],Or,Or],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Or,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Or,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Or,"{1} 'at' {0}",Or],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){const e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let Ti={};function Ng(t){return t in Ti||(Ti[t]=Ke.ng&&Ke.ng.common&&Ke.ng.common.locales&&Ke.ng.common.locales[t]),Ti[t]}var Ce=(()=>((Ce=Ce||{})[Ce.LocaleId=0]="LocaleId",Ce[Ce.DayPeriodsFormat=1]="DayPeriodsFormat",Ce[Ce.DayPeriodsStandalone=2]="DayPeriodsStandalone",Ce[Ce.DaysFormat=3]="DaysFormat",Ce[Ce.DaysStandalone=4]="DaysStandalone",Ce[Ce.MonthsFormat=5]="MonthsFormat",Ce[Ce.MonthsStandalone=6]="MonthsStandalone",Ce[Ce.Eras=7]="Eras",Ce[Ce.FirstDayOfWeek=8]="FirstDayOfWeek",Ce[Ce.WeekendRange=9]="WeekendRange",Ce[Ce.DateFormat=10]="DateFormat",Ce[Ce.TimeFormat=11]="TimeFormat",Ce[Ce.DateTimeFormat=12]="DateTimeFormat",Ce[Ce.NumberSymbols=13]="NumberSymbols",Ce[Ce.NumberFormats=14]="NumberFormats",Ce[Ce.CurrencyCode=15]="CurrencyCode",Ce[Ce.CurrencySymbol=16]="CurrencySymbol",Ce[Ce.CurrencyName=17]="CurrencyName",Ce[Ce.Currencies=18]="Currencies",Ce[Ce.Directionality=19]="Directionality",Ce[Ce.PluralCase=20]="PluralCase",Ce[Ce.ExtraData=21]="ExtraData",Ce))();const Qs="en-US";let kg=Qs;function kl(t){Wt(t,"Expected localeId to be defined"),"string"==typeof t&&(kg=t.toLowerCase().replace(/_/g,"-"))}class om{}const am="ngComponent";class xD{resolveComponentFactory(e){throw function(t){const e=Error(`No component factory found for ${Be(t)}. Did you add it to @NgModule.entryComponents?`);return e[am]=t,e}(e)}}class Pr{}function Xs(...t){}function bi(t,e){return new En(tn(t,e))}Pr.NULL=new xD;const VD=function(){return bi(mt(),de())};let En=(()=>{class t{constructor(n){this.nativeElement=n}}return t.__NG_ELEMENT_ID__=VD,t})();class ea{}let jl=(()=>{class t{}return t.\u0275prov=qe({token:t,providedIn:"root",factory:()=>null}),t})();class Wl{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const cm=new Wl("12.2.2");class dm{constructor(){}supports(e){return yo(e)}create(e){return new GD(e)}}const WD=(t,e)=>e;class GD{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||WD}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){const s=!r||n&&n.currentIndex<hm(r,i,o)?n:r,a=hm(s,i,o),l=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,null==s.previousIndex)i++;else{o||(o=[]);const f=a-i,E=l-i;if(f!=E){for(let N=0;N<f;N++){const H=N<o.length?o[N]:o[N]=0,K=H+N;E<=K&&K<f&&(o[N]=H+1)}o[s.previousIndex]=E-f}}a!==l&&e(s,a,l)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!yo(e))throw new Error(`Error trying to diff '${Be(e)}'. Only arrays and iterables are allowed`);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,o,s,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)):(n=this._mismatch(n,o,s,a),r=!0),n=n._next}else i=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[di()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{s=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,s,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new $D(n,r),o,i),e}_verifyReinsertion(e,n,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,o=e._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new fm),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new fm),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class $D{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class zD{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class fm{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new zD,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function hm(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class pm{constructor(){}supports(e){return e instanceof Map||Il(e)}create(){return new KD}}class KD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let n;for(n=this._mapHead;null!==n;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}diff(e){if(e){if(!(e instanceof Map||Il(e)))throw new Error(`Error trying to diff '${Be(e)}'. Only maps and objects are allowed`)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const o=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,o)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){const r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,n);const o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}const r=new QD(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}}class QD{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function gm(){return new So([new dm])}let So=(()=>{class t{constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||gm()),deps:[[t,new Sr,new Nn]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new Error(`Cannot find a differ supporting object '${n}' of type '${function(t){return t.name||typeof t}(n)}'`)}}return t.\u0275prov=qe({token:t,providedIn:"root",factory:gm}),t})();function mm(){return new Si([new pm])}let Si=(()=>{class t{constructor(n){this.factories=n}static create(n,r){if(r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||mm()),deps:[[t,new Sr,new Nn]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(r)return r;throw new Error(`Cannot find a differ supporting object '${n}'`)}}return t.\u0275prov=qe({token:t,providedIn:"root",factory:mm}),t})();function ta(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];if(null!==o&&r.push(ft(o)),hn(o))for(let a=10;a<o.length;a++){const l=o[a],f=l[1].firstChild;null!==f&&ta(l[1],l,f,r)}const s=n.type;if(8&s)ta(t,e,n.child,r);else if(32&s){const a=Vu(n,e);let l;for(;l=a();)r.push(l)}else if(16&s){const a=rh(e,n);if(Array.isArray(a))r.push(...a);else{const l=lo(e[16]);ta(l[1],l,a,r,!0)}}n=i?n.projectionNext:n.next}return r}class wo{constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,n=e[1];return ta(n,e,n.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(hn(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(Wu(e,r),Dr(n,r))}this._attachedToViewContainer=!1}Qf(this._lView[1],this._lView)}onDestroy(e){!function(t,e,n,r){const i=Vh(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&Bh(t).push(r,i.length-1))}(this._lView[1],this._lView,null,e)}markForCheck(){cl(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){fl(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){ls(!0);try{fl(t,e,n)}finally{ls(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function(t,e){co(t,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}}class JD extends wo{constructor(e){super(e),this._view=e}detectChanges(){Lh(this._view)}checkNoChanges(){!function(t){ls(!0);try{Lh(t)}finally{ls(!1)}}(this._view)}get context(){return null}}const nb=[new pm],ib=new So([new dm]),ob=new Si(nb),ab=function(){return function(t,e){return 4&t.type?new lb(e,t,bi(t,e)):null}(mt(),de())};let Zn=(()=>{class t{}return t.__NG_ELEMENT_ID__=ab,t})();const ub=Zn,lb=class extends ub{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}createEmbeddedView(e){const n=this._declarationTContainer.tViews,r=fo(this._declarationLView,n,e,16,null,n.declTNode,null,null,null,null);r[17]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[19];return null!==o&&(r[19]=o.createEmbeddedView(n)),ho(n,r,e),new wo(r)}};class Nr{}const hb=function(){return function(t,e){let n;const r=e[t.index];if(hn(r))n=r;else{let i;if(8&t.type)i=ft(r);else{const o=e[11];i=o.createComment("");const s=tn(t,e);Mr(o,Os(o,s),i,function(t,e){return st(t)?t.nextSibling(e):e.nextSibling}(o,s),!1)}e[t.index]=n=Fh(r,e,i,t),Bs(e,n)}return new ym(n,t,e)}(mt(),de())};let Wn=(()=>{class t{}return t.__NG_ELEMENT_ID__=hb,t})();const gb=Wn,ym=class extends gb{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return bi(this._hostTNode,this._hostLView)}get injector(){return new Qr(this._hostTNode,this._hostLView)}get parentInjector(){const e=vs(this._hostTNode,this._hostLView);if(Jd(e)){const n=Kr(e,this._hostLView),r=zr(e);return new Qr(n[1].data[r+8],n)}return new Qr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=vm(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,n,r){const i=e.createEmbeddedView(n||{});return this.insert(i,r),i}createComponent(e,n,r,i,o){const s=r||this.parentInjector;if(!o&&null==e.ngModule&&s){const l=s.get(Nr,null);l&&(o=l)}const a=e.create(s,i,void 0,o);return this.insert(a.hostView,n),a}insert(e,n){const r=e._lView,i=r[1];if(function(t){return hn(t[3])}(r)){const E=this.indexOf(e);if(-1!==E)this.detach(E);else{const M=r[3],N=new ym(M,M[6],M[3]);N.detach(N.indexOf(e))}}const o=this._adjustIndex(n),s=this._lContainer;!function(t,e,n,r){const i=10+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-10?(e[4]=n[i],Is(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[17];null!==s&&n!==s&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(i,r,s,o);const a=zu(o,s),l=r[11],f=Os(l,s[7]);return null!==f&&function(t,e,n,r,i,o){r[0]=i,r[6]=e,co(t,r,n,1,i,o)}(i,s[6],l,r,f,a),e.attachToViewContainerRef(),Is(Gl(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=vm(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=Wu(this._lContainer,n);r&&(Dr(Gl(this._lContainer),n),Qf(r[1],r))}detach(e){const n=this._adjustIndex(e,-1),r=Wu(this._lContainer,n);return r&&null!=Dr(Gl(this._lContainer),n)?new wo(r):null}_adjustIndex(e,n=0){return null==e?this.length+n:e}};function vm(t){return t[8]}function Gl(t){return t[8]||(t[8]=[])}const Ai={};class Bm extends Pr{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=Pt(e);return new Hm(n,this.ngModule)}}function Um(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const dS=new Ze("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Uf});class Hm extends om{constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function(t){return t.map(Z_).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}get inputs(){return Um(this.componentDef.inputs)}get outputs(){return Um(this.componentDef.outputs)}create(e,n,r,i){const o=(i=i||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const o=t.get(n,Ai,i);return o!==Ai||r===Ai?o:e.get(n,r,i)}}}(e,i.injector):e,s=o.get(ea,kd),a=o.get(jl,null),l=s.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",E=r?function(t,e,n){if(st(t))return t.selectRootElement(e,n===gt.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(l,r,this.componentDef.encapsulation):ju(s.createRenderer(null,this.componentDef),f,function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(f)),M=this.componentDef.onPush?576:528,N=function(t,e){return{components:[],scheduler:t||Uf,clean:FE,playerHandler:e||null,flags:0}}(),H=Vs(0,null,null,1,0,null,null,null,null,null),K=fo(null,H,N,M,null,null,s,l,a,o);let ee,Z;cs(K);try{const fe=function(t,e,n,r,i,o){const s=n[1];n[20]=t;const l=oi(s,20,2,"#host",null),f=l.mergedAttrs=e.hostAttrs;null!==f&&(Us(l,f,!0),null!==t&&(gs(i,t,f),null!==l.classes&&Qu(i,t,l.classes),null!==l.styles&&sh(i,t,l.styles)));const E=r.createRenderer(t,e),M=fo(n,bh(e),null,e.onPush?64:16,n[20],l,r,E,o||null,null);return s.firstCreatePass&&(Cs(qi(l,n),s,e.type),Nh(s,l),kh(l,n.length,1)),Bs(n,M),n[20]=M}(E,this.componentDef,K,s,l);if(E)if(r)gs(l,E,["ng-version",cm.full]);else{const{attrs:se,classes:Ie}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!gn(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);se&&gs(l,E,se),Ie&&Ie.length>0&&Qu(l,E,Ie.join(" "))}if(Z=ru(H,20),void 0!==n){const se=Z.projection=[];for(let Ie=0;Ie<this.ngContentSelectors.length;Ie++){const be=n[Ie];se.push(null!=be?Array.from(be):null)}}ee=function(t,e,n,r,i){const o=n[1],s=function(t,e,n){const r=mt();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),xh(t,r,e,si(t,e,1,null),n));const i=Ji(e,t,r.directiveStart,r);wt(i,e);const o=tn(r,e);return o&&wt(o,e),i}(o,n,e);if(r.components.push(s),t[8]=s,i&&i.forEach(l=>l(s,e)),e.contentQueries){const l=mt();e.contentQueries(1,s,l.directiveStart)}const a=mt();return!o.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(sr(a.index),Oh(n[1],a,0,a.directiveStart,a.directiveEnd,e),Ph(e,s)),s}(fe,this.componentDef,K,N,[uI]),ho(H,K,null)}finally{ds()}return new pS(this.componentType,ee,bi(Z,K),K,Z)}}class pS extends class{}{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.instance=n,this.hostView=this.changeDetectorRef=new JD(i),this.componentType=e}get injector(){return new Qr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}const Oi=new Map;class yS extends Nr{constructor(e,n){super(),this._parent=n,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Bm(this);const r=Zt(e),i=function(t){return t[pC]||null}(e);i&&kl(i),this._bootstrapComponents=Fn(r.bootstrap),this._r3Injector=$h(e,n,[{provide:Nr,useValue:this},{provide:Pr,useValue:this.componentFactoryResolver}],Be(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,n=Je.THROW_IF_NOT_FOUND,r=Me.Default){return e===Je||e===Nr||e===ui?this:this._r3Injector.get(e,n,r)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class rc extends class{}{constructor(e){super(),this.moduleType=e,null!==Zt(e)&&function(t){const e=new Set;!function n(r){const i=Zt(r,!0),o=i.id;null!==o&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${Be(e)} vs ${Be(e.name)}`)}(o,Oi.get(o),r),Oi.set(o,r));const s=Fn(i.imports);for(const a of s)e.has(a)||(e.add(a),n(a))}(t)}(e)}create(e){return new yS(this.moduleType,e)}}function ic(t){return e=>{setTimeout(t,void 0,e)}}const Xn=class extends X{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){var i,o,s;let a=e,l=n||(()=>null),f=r;if(e&&"object"==typeof e){const M=e;a=null===(i=M.next)||void 0===i?void 0:i.bind(M),l=null===(o=M.error)||void 0===o?void 0:o.bind(M),f=null===(s=M.complete)||void 0===s?void 0:s.bind(M)}this.__isAsync&&(l=ic(l),a&&(a=ic(a)),f&&(f=ic(f)));const E=super.subscribe({next:a,error:l,complete:f});return e instanceof c&&e.add(E),E}};Symbol;const ca=new Ze("Application Initializer");let Ni=(()=>{class t{constructor(n){this.appInits=n,this.resolve=Xs,this.reject=Xs,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const n=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const o=this.appInits[i]();if(Ml(o))n.push(o);else if(Vp(o)){const s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});n.push(s)}}Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}}return t.\u0275fac=function(n){return new(n||t)(We(ca,8))},t.\u0275prov=qe({token:t,factory:t.\u0275fac}),t})();const Bo=new Ze("AppId"),Iw={provide:Bo,useFactory:function(){return`${gc()}${gc()}${gc()}`},deps:[]};function gc(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const yy=new Ze("Platform Initializer"),mc=new Ze("Platform ID"),Tw=new Ze("appBootstrapListener");let yc=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=qe({token:t,factory:t.\u0275fac}),t})();const fr=new Ze("LocaleId"),vy=new Ze("DefaultCurrencyCode");class bw{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}const vc=function(t){return new rc(t)},Sw=vc,ww=function(t){return Promise.resolve(vc(t))},Cy=function(t){const e=vc(t),r=Fn(Zt(t).declarations).reduce((i,o)=>{const s=Pt(o);return s&&i.push(new Hm(s)),i},[]);return new bw(e,r)},Rw=Cy,Mw=function(t){return Promise.resolve(Cy(t))};let fa=(()=>{class t{constructor(){this.compileModuleSync=Sw,this.compileModuleAsync=ww,this.compileModuleAndAllComponentsSync=Rw,this.compileModuleAndAllComponentsAsync=Mw}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=qe({token:t,factory:t.\u0275fac}),t})();const Pw=(()=>Promise.resolve(0))();function Cc(t){"undefined"==typeof Zone?Pw.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Dt{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Xn(!1),this.onMicrotaskEmpty=new Xn(!1),this.onStable=new Xn(!1),this.onError=new Xn(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function(){let t=Ke.requestAnimationFrame,e=Ke.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=()=>{!function(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Ke,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Ec(t),t.isCheckStableRunning=!0,_c(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Ec(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{try{return _y(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&e(),Ey(t)}},onInvoke:(n,r,i,o,s,a,l)=>{try{return _y(t),n.invoke(i,o,s,a,l)}finally{t.shouldCoalesceRunChangeDetection&&e(),Ey(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&("microTask"==o.change?(t._hasPendingMicrotasks=o.microTask,Ec(t),_c(t)):"macroTask"==o.change&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Dt.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Dt.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,kw,Xs,Xs);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const kw={};function _c(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Ec(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function _y(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Ey(t){t._nesting--,_c(t)}class Lw{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Xn,this.onMicrotaskEmpty=new Xn,this.onStable=new Xn,this.onError=new Xn}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}let Ic=(()=>{class t{constructor(n){this._ngZone=n,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Dt.assertNotInAngularZone(),Cc(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Cc(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:o,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(n,r,i){return[]}}return t.\u0275fac=function(n){return new(n||t)(We(Dt))},t.\u0275prov=qe({token:t,factory:t.\u0275fac}),t})(),Iy=(()=>{class t{constructor(){this._applications=new Map,Tc.addToWindow(this)}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return Tc.findTestabilityInTree(this,n,r)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=qe({token:t,factory:t.\u0275fac}),t})();class Vw{addToWindow(e){}findTestabilityInTree(e,n,r){return null}}let Tc=new Vw,Ty=!0,Dy=!1;let Dn;const Sy=new Ze("AllowMultipleToken");function wy(t,e,n=[]){const r=`Platform: ${e}`,i=new Ze(r);return(o=[])=>{let s=Ry();if(!s||s.injector.get(Sy,!1))if(t)t(n.concat(o).concat({provide:i,useValue:!0}));else{const a=n.concat(o).concat({provide:i,useValue:!0},{provide:po,useValue:"platform"});!function(t){if(Dn&&!Dn.destroyed&&!Dn.injector.get(Sy,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Dn=t.get(My);const e=t.get(yy,null);e&&e.forEach(n=>n())}(Je.create({providers:a,name:r}))}return function(t){const e=Ry();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function Ry(){return Dn&&!Dn.destroyed?Dn:null}let My=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const a=function(t,e){let n;return n="noop"===t?new Lw:("zone.js"===t?void 0:t)||new Dt({enableLongStackTrace:(Dy=!0,Ty),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(r?r.ngZone:void 0,{ngZoneEventCoalescing:r&&r.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:r&&r.ngZoneRunCoalescing||!1}),l=[{provide:Dt,useValue:a}];return a.run(()=>{const f=Je.create({providers:l,parent:this.injector,name:n.moduleType.name}),E=n.create(f),M=E.injector.get(Rr,null);if(!M)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return a.runOutsideAngular(()=>{const N=a.onError.subscribe({next:H=>{M.handleError(H)}});E.onDestroy(()=>{Dc(this._modules,E),N.unsubscribe()})}),function(t,e,n){try{const r=n();return Ml(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(M,a,()=>{const N=E.injector.get(Ni);return N.runInitializers(),N.donePromise.then(()=>(kl(E.injector.get(fr,Qs)||Qs),this._moduleDoBootstrap(E),E))})})}bootstrapModule(n,r=[]){const i=Ay({},r);return function(t,e,n){const r=new rc(n);return Promise.resolve(r)}(0,0,n).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(n){const r=n.injector.get(Uo);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new Error(`The module ${Be(n.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(n=>n.destroy()),this._destroyListeners.forEach(n=>n()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(n){return new(n||t)(We(Je))},t.\u0275prov=qe({token:t,factory:t.\u0275fac}),t})();function Ay(t,e){return Array.isArray(e)?e.reduce(Ay,t):Object.assign(Object.assign({},t),e)}let Uo=(()=>{class t{constructor(n,r,i,o,s){this._zone=n,this._injector=r,this._exceptionHandler=i,this._componentFactoryResolver=o,this._initStatus=s,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const a=new B(f=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{f.next(this._stable),f.complete()})}),l=new B(f=>{let E;this._zone.runOutsideAngular(()=>{E=this._zone.onStable.subscribe(()=>{Dt.assertNotInAngularZone(),Cc(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,f.next(!0))})})});const M=this._zone.onUnstable.subscribe(()=>{Dt.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{f.next(!1)}))});return()=>{E.unsubscribe(),M.unsubscribe()}});this.isStable=function(...t){let e=Number.POSITIVE_INFINITY,n=null,r=t[t.length-1];return ce(r)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof r&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof B?t[0]:Wv(e)(gd(t,n))}(a,l.pipe(t=>md()(function(t,e){return function(r){let i;i="function"==typeof t?t:function(){return t};const o=Object.create(r,Qv);return o.source=r,o.subjectFactory=i,o}}(Xv)(t))))}bootstrap(n,r){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let i;i=n instanceof om?n:this._componentFactoryResolver.resolveComponentFactory(n),this.componentTypes.push(i.componentType);const o=function(t){return t.isBoundToModule}(i)?void 0:this._injector.get(Nr),a=i.create(Je.NULL,[],r||i.selector,o),l=a.location.nativeElement,f=a.injector.get(Ic,null),E=f&&a.injector.get(Iy);return f&&E&&E.registerApplication(l,f),a.onDestroy(()=>{this.detachView(a.hostView),Dc(this.components,a),E&&E.unregisterApplication(l)}),this._loadComponent(a),a}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;Dc(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(Tw,[]).concat(this._bootstrapListeners).forEach(i=>i(n))}ngOnDestroy(){this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(n){return new(n||t)(We(Dt),We(Je),We(Rr),We(Pr),We(Ni))},t.\u0275prov=qe({token:t,factory:t.\u0275fac}),t})();function Dc(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const dR=wy(null,"core",[{provide:mc,useValue:"unknown"},{provide:My,deps:[Je]},{provide:Iy,deps:[]},{provide:yc,deps:[]}]),mR=[{provide:Uo,useClass:Uo,deps:[Dt,Je,Rr,Pr,Ni]},{provide:dS,deps:[Dt],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(n){e.push(n)}}},{provide:Ni,useClass:Ni,deps:[[new Nn,ca]]},{provide:fa,useClass:fa,deps:[]},Iw,{provide:So,useFactory:function(){return ib},deps:[]},{provide:Si,useFactory:function(){return ob},deps:[]},{provide:fr,useFactory:function(t){return kl(t=t||"undefined"!=typeof $localize&&$localize.locale||Qs),t},deps:[[new ro(fr),new Nn,new Sr]]},{provide:vy,useValue:"USD"}];let vR=(()=>{class t{constructor(n){}}return t.\u0275fac=function(n){return new(n||t)(We(Uo))},t.\u0275mod=ji({type:t}),t.\u0275inj=yr({providers:mR}),t})(),Ia=null;function $o(){return Ia}const bt=new Ze("DocumentToken");var ht=(()=>((ht=ht||{})[ht.Zero=0]="Zero",ht[ht.One=1]="One",ht[ht.Two=2]="Two",ht[ht.Few=3]="Few",ht[ht.Many=4]="Many",ht[ht.Other=5]="Other",ht))();const SM=function(t){return function(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=Ng(e);if(n)return n;const r=e.split("-")[0];if(n=Ng(r),n)return n;if("en"===r)return kT;throw new Error(`Missing locale data for the locale "${t}".`)}(t)[Ce.PluralCase]};class Pa{}let t1=(()=>{class t extends Pa{constructor(n){super(),this.locale=n}getPluralCategory(n,r){switch(SM(r||this.locale)(n)){case ht.Zero:return"zero";case ht.One:return"one";case ht.Two:return"two";case ht.Few:return"few";case ht.Many:return"many";default:return"other"}}}return t.\u0275fac=function(n){return new(n||t)(We(fr))},t.\u0275prov=qe({token:t,factory:t.\u0275fac}),t})(),gv=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new u1,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){mv("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){mv("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(je(Wn),je(Zn))},t.\u0275dir=Yt({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class u1{constructor(){this.$implicit=null,this.ngIf=null}}function mv(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Be(e)}'.`)}let k1=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=ji({type:t}),t.\u0275inj=yr({providers:[{provide:Pa,useClass:t1}]}),t})();class Yc extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function(t){Ia||(Ia=t)}(new Yc)}onAndCancel(e,n,r){return e.addEventListener(n,r,!1),()=>{e.removeEventListener(n,r,!1)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=(Qo=Qo||document.querySelector("base"),Qo?Qo.getAttribute("href"):null);return null==n?null:function(t){Na=Na||document.createElement("a"),Na.setAttribute("href",t);const e=Na.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){Qo=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,o]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}(document.cookie,e)}}let Na,Qo=null;const Ev=new Ze("TRANSITION_ID"),G1=[{provide:ca,useFactory:function(t,e,n){return()=>{n.get(Ni).donePromise.then(()=>{const r=$o(),i=e.querySelectorAll(`style[ng-transition="${t}"]`);for(let o=0;o<i.length;o++)r.remove(i[o])})}},deps:[Ev,bt,Je],multi:!0}];class Zc{static init(){!function(t){Tc=t}(new Zc)}addToWindow(e){Ke.getAngularTestability=(r,i=!0)=>{const o=e.findTestabilityInTree(r,i);if(null==o)throw new Error("Could not find testability for element.");return o},Ke.getAllAngularTestabilities=()=>e.getAllTestabilities(),Ke.getAllAngularRootElements=()=>e.getAllRootElements(),Ke.frameworkStabilizers||(Ke.frameworkStabilizers=[]),Ke.frameworkStabilizers.push(r=>{const i=Ke.getAllAngularTestabilities();let o=i.length,s=!1;const a=function(l){s=s||l,o--,0==o&&r(s)};i.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(e,n,r){if(null==n)return null;const i=e.getTestability(n);return null!=i?i:r?$o().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null}}let $1=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=qe({token:t,factory:t.\u0275fac}),t})();const qo=new Ze("EventManagerPlugins");let xa=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>i.manager=this),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}addGlobalEventListener(n,r,i){return this._findPluginFor(r).addGlobalEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){const r=this._eventNameToPlugin.get(n);if(r)return r;const i=this._plugins;for(let o=0;o<i.length;o++){const s=i[o];if(s.supports(n))return this._eventNameToPlugin.set(n,s),s}throw new Error(`No event manager plugin found for event ${n}`)}}return t.\u0275fac=function(n){return new(n||t)(We(qo),We(Dt))},t.\u0275prov=qe({token:t,factory:t.\u0275fac}),t})();class Xc{constructor(e){this._doc=e}addGlobalEventListener(e,n,r){const i=$o().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${n}`);return this.addEventListener(i,n,r)}}let Tv=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(n){const r=new Set;n.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(n){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=qe({token:t,factory:t.\u0275fac}),t})(),Jo=(()=>{class t extends Tv{constructor(n){super(),this._doc=n,this._hostNodes=new Map,this._hostNodes.set(n.head,[])}_addStylesToHost(n,r,i){n.forEach(o=>{const s=this._doc.createElement("style");s.textContent=o,i.push(r.appendChild(s))})}addHost(n){const r=[];this._addStylesToHost(this._stylesSet,n,r),this._hostNodes.set(n,r)}removeHost(n){const r=this._hostNodes.get(n);r&&r.forEach(Dv),this._hostNodes.delete(n)}onStylesAdded(n){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(n,i,r)})}ngOnDestroy(){this._hostNodes.forEach(n=>n.forEach(Dv))}}return t.\u0275fac=function(n){return new(n||t)(We(bt))},t.\u0275prov=qe({token:t,factory:t.\u0275fac}),t})();function Dv(t){$o().remove(t)}const ed={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},td=/%COMP%/g;function Fa(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Fa(t,i,n):(i=i.replace(td,t),n.push(i))}return n}function wv(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let nd=(()=>{class t{constructor(n,r,i){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new rd(n)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;switch(r.encapsulation){case gt.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new sA(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(n),i}case 1:case gt.ShadowDom:return new aA(this.eventManager,this.sharedStylesHost,n,r);default:if(!this.rendererByCompId.has(r.id)){const i=Fa(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(n){return new(n||t)(We(xa),We(Jo),We(Bo))},t.\u0275prov=qe({token:t,factory:t.\u0275fac}),t})();class rd{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,n){return n?document.createElementNS(ed[n]||n,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,n){e.appendChild(n)}insertBefore(e,n,r){e&&e.insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const o=ed[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=ed[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Qt.DashCase|Qt.Important)?e.style.setProperty(n,r,i&Qt.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Qt.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,n,wv(r)):this.eventManager.addEventListener(e,n,wv(r))}}class sA extends rd{constructor(e,n,r,i){super(e),this.component=r;const o=Fa(i+"-"+r.id,r.styles,[]);n.addStyles(o),this.contentAttr=function(t){return"_ngcontent-%COMP%".replace(td,t)}(i+"-"+r.id),this.hostAttr=function(t){return"_nghost-%COMP%".replace(td,t)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}class aA extends rd{constructor(e,n,r,i){super(e),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=Fa(i.id,i.styles,[]);for(let s=0;s<o.length;s++){const a=document.createElement("style");a.textContent=o[s],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let uA=(()=>{class t extends Xc{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}}return t.\u0275fac=function(n){return new(n||t)(We(bt))},t.\u0275prov=qe({token:t,factory:t.\u0275fac}),t})();const Av=["alt","control","meta","shift"],gA={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ov={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},mA={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let yA=(()=>{class t extends Xc{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const o=t.parseEventName(r),s=t.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>$o().onAndCancel(n,o.domEventName,s))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=t._normalizeKey(r.pop());let s="";if(Av.forEach(l=>{const f=r.indexOf(l);f>-1&&(r.splice(f,1),s+=l+".")}),s+=o,0!=r.length||0===o.length)return null;const a={};return a.domEventName=i,a.fullKey=s,a}static getEventFullKey(n){let r="",i=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&Ov.hasOwnProperty(e)&&(e=Ov[e]))}return gA[e]||e}(n);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Av.forEach(o=>{o!=i&&mA[o](n)&&(r+=o+".")}),r+=i,r}static eventCallback(n,r,i){return o=>{t.getEventFullKey(o)===n&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){switch(n){case"esc":return"escape";default:return n}}}return t.\u0275fac=function(n){return new(n||t)(We(bt))},t.\u0275prov=qe({token:t,factory:t.\u0275fac}),t})();const bA=wy(dR,"browser",[{provide:mc,useValue:"browser"},{provide:yy,useValue:function(){Yc.makeCurrent(),Zc.init()},multi:!0},{provide:bt,useFactory:function(){return function(t){tu=t}(document),document},deps:[]}]),SA=[[],{provide:po,useValue:"root"},{provide:Rr,useFactory:function(){return new Rr},deps:[]},{provide:qo,useClass:uA,multi:!0,deps:[bt,Dt,mc]},{provide:qo,useClass:yA,multi:!0,deps:[bt]},[],{provide:nd,useClass:nd,deps:[xa,Jo,Bo]},{provide:ea,useExisting:nd},{provide:Tv,useExisting:Jo},{provide:Jo,useClass:Jo,deps:[bt]},{provide:Ic,useClass:Ic,deps:[Dt]},{provide:xa,useClass:xa,deps:[qo,Dt]},{provide:class{},useClass:$1,deps:[]},[]];let wA=(()=>{class t{constructor(n){if(n)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(n){return{ngModule:t,providers:[{provide:Bo,useValue:n.appId},{provide:Ev,useExisting:Bo},G1]}}}return t.\u0275fac=function(n){return new(n||t)(We(t,12))},t.\u0275mod=ji({type:t}),t.\u0275inj=yr({providers:SA,imports:[k1,vR]}),t})();function Nv(t,e,n,r,i,o,s){try{var a=t[o](s),l=a.value}catch(f){return void n(f)}a.done?e(l):Promise.resolve(l).then(r,i)}function La(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function s(l){Nv(o,r,i,s,a,"next",l)}function a(l){Nv(o,r,i,s,a,"throw",l)}s(void 0)})}}"undefined"!=typeof window&&window;var xA=d(5436);class ud{constructor(){this.middlewares={}}static getInstance(){return this._instance||(this._instance=new ud),this._instance}subscribe(e,n){this.middlewares[e]=n}create(){return console.log("[CustomStore][create]"),window.WebChat.createStore({},({dispatch:n})=>r=>i=>{let o=i;if(i&&i.payload)for(const s of Object.keys(this.middlewares)){const a=this.middlewares[s];if(a.applicable(o)){const l=a.apply(o);l.dispatchAction&&n(l.dispatchAction),l.nextAction&&(o=l.nextAction)}}return r(o)})}}var Fi=d(8139);const kv=t=>{if(t){const e=t.split(/\s/).reduce((n,r)=>n+r.slice(0,1),"");return e.length>1?e.substring(0,2).toUpperCase():t.substring(0,2).toUpperCase()}return""};var Li=(()=>(function(t){t.Sending="sending",t.SendFailed="send failed",t.Sent="sent"}(Li||(Li={})),Li))();class WA{constructor(e){this.dataMaskingRules=e,console.log("[DataMaskingRules]"),console.log(this.dataMaskingRules)}applicable(e){const{text:n}=e.payload;return!!(Object.keys(this.dataMaskingRules).length>0&&n&&"WEB_CHAT/SEND_MESSAGE"===e.type)}apply(e){return{dispatchAction:null,nextAction:this.applyDataMasking(e)}}applyDataMasking(e){let{text:r}=e.payload;if(Object.keys(this.dataMaskingRules).length>0)for(const i of Object.values(this.dataMaskingRules)){const o=new RegExp(i,"g");let s;for(;s=o.exec(r);){const a=s[0].replace(/./g,"#");r=r.replace(s[0],a)}}return e.payload.text=r,e}}const Va_omnichannelConfig_orgId="d367c413-e0b9-408b-ae1c-382499b369ae",Va_omnichannelConfig_orgUrl="https://omnichannel-crm.omnichannelengagementhub.com",Va_omnichannelConfig_widgetId="3a352b95-5d67-4e47-af28-eca029b03928";let ld=(()=>{class t{}return t.canUploadAttachment=!1,t})();function Ba(t,e){return new B(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let o=0,s=0;for(let a=0;a<r;a++){const l=Te(t[a]);let f=!1;n.add(l.subscribe({next:E=>{f||(f=!0,s++),i[a]=E},error:E=>n.error(E),complete:()=>{o++,(o===r||!f)&&(s===r&&n.next(e?e.reduce((E,M,N)=>(E[M]=i[N],E),{}):i),n.complete())}}))}})}class JA extends c{constructor(e,n){super()}schedule(e,n=0){return this}}class YA extends JA{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){if(this.closed)return this;this.state=e;const r=this.id,i=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(i,r,n)),this.pending=!0,this.delay=n,this.id=this.id||this.requestAsyncId(i,this.id,n),this}requestAsyncId(e,n,r=0){return setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!==r&&this.delay===r&&!1===this.pending)return n;clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(o){r=!0,i=!!o&&o||new Error(o)}if(r)return this.unsubscribe(),i}_unsubscribe(){const e=this.id,n=this.scheduler,r=n.actions,i=r.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&r.splice(i,1),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null}}let xv=(()=>{class t{constructor(n,r=t.now){this.SchedulerAction=n,this.now=r}schedule(n,r=0,i){return new this.SchedulerAction(this,n).schedule(i,r)}}return t.now=()=>Date.now(),t})();class gr extends xv{constructor(e,n=xv.now){super(e,()=>gr.delegate&&gr.delegate!==this?gr.delegate.now():n()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(e,n=0,r){return gr.delegate&&gr.delegate!==this?gr.delegate.schedule(e,n,r):super.schedule(e,n,r)}flush(e){const{actions:n}=this;if(this.active)return void n.push(e);let r;this.active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this.active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const eO=new class extends gr{}(class extends YA{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!==r&&r>0||null===r&&this.delay>0?super.requestAsyncId(e,n,r):e.flush(this)}}),tO=new B(t=>t.complete());class cn{constructor(e,n,r){this.kind=e,this.value=n,this.error=r,this.hasValue="N"===e}observe(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}}do(e,n,r){switch(this.kind){case"N":return e&&e(this.value);case"E":return n&&n(this.error);case"C":return r&&r()}}accept(e,n,r){return e&&"function"==typeof e.next?this.observe(e):this.do(e,n,r)}toObservable(){switch(this.kind){case"N":return function(...t){let e=t[t.length-1];return ce(e)?(t.pop(),pe(t,e)):gd(t)}(this.value);case"E":return function(t,e){return new B(n=>n.error(t))}(this.error);case"C":return function(t){return t?function(t){return new B(e=>t.schedule(()=>e.complete()))}(t):tO}()}throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new cn("N",e):cn.undefinedValueNotification}static createError(e){return new cn("E",void 0,e)}static createComplete(){return cn.completeNotification}}cn.completeNotification=new cn("C"),cn.undefinedValueNotification=new cn("N",void 0);class Ua extends p{constructor(e,n,r=0){super(e),this.scheduler=n,this.delay=r}static dispatch(e){const{notification:n,destination:r}=e;n.observe(r),this.unsubscribe()}scheduleMessage(e){this.destination.add(this.scheduler.schedule(Ua.dispatch,this.delay,new uO(e,this.destination)))}_next(e){this.scheduleMessage(cn.createNext(e))}_error(e){this.scheduleMessage(cn.createError(e)),this.unsubscribe()}_complete(){this.scheduleMessage(cn.createComplete()),this.unsubscribe()}}class uO{constructor(e,n){this.notification=e,this.destination=n}}class Fv extends X{constructor(e=Number.POSITIVE_INFINITY,n=Number.POSITIVE_INFINITY,r){super(),this.scheduler=r,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=e<1?1:e,this._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(e){if(!this.isStopped){const n=this._events;n.push(e),n.length>this._bufferSize&&n.shift()}super.next(e)}nextTimeWindow(e){this.isStopped||(this._events.push(new lO(this._getNow(),e)),this._trimBufferThenGetEvents()),super.next(e)}_subscribe(e){const n=this._infiniteTimeWindow,r=n?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,o=r.length;let s;if(this.closed)throw new $;if(this.isStopped||this.hasError?s=c.EMPTY:(this.observers.push(e),s=new ue(this,e)),i&&e.add(e=new Ua(e,i)),n)for(let a=0;a<o&&!e.closed;a++)e.next(r[a]);else for(let a=0;a<o&&!e.closed;a++)e.next(r[a].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),s}_getNow(){return(this.scheduler||eO).now()}_trimBufferThenGetEvents(){const e=this._getNow(),n=this._bufferSize,r=this._windowTime,i=this._events,o=i.length;let s=0;for(;s<o&&!(e-i[s].time<r);)s++;return o>n&&(s=Math.max(s,o-n)),s>0&&i.splice(0,s),i}}class lO{constructor(e,n){this.time=e,this.value=n}}let cO=(()=>{class t{constructor(n){this.document=n,this._loadedLibraries={}}lazyLoad(){return function(...t){if(1===t.length){const e=t[0];if(m(e))return Ba(e,null);if(v(e)&&Object.getPrototypeOf(e)===Object.prototype){const n=Object.keys(e);return Ba(n.map(r=>e[r]),n)}}if("function"==typeof t[t.length-1]){const e=t.pop();return Ba(t=1===t.length&&m(t[0])?t[0]:t,null).pipe(ie(n=>e(...n)))}return Ba(t,null)}([this.loadScript("https://cdn.botframework.com/botframework-webchat/4.9.2/webchat.js")])}loadScript(n){if(this._loadedLibraries[n])return this._loadedLibraries[n].asObservable();this._loadedLibraries[n]=new Fv;const r=this.document.createElement("script");return r.type="text/javascript",r.async=!0,r.src=n,r.onload=()=>{this._loadedLibraries[n].next(),this._loadedLibraries[n].complete()},this.document.body.appendChild(r),this._loadedLibraries[n].asObservable()}loadStyle(n){if(this._loadedLibraries[n])return this._loadedLibraries[n].asObservable();this._loadedLibraries[n]=new Fv;const r=this.document.createElement("link");return r.type="text/css",r.href=n,r.rel="stylesheet",r.onload=()=>{this._loadedLibraries[n].next(),this._loadedLibraries[n].complete()},document.getElementsByTagName("head")[0].appendChild(r),this._loadedLibraries[n].asObservable()}}return t.\u0275fac=function(n){return new(n||t)(We(bt))},t.\u0275prov=qe({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function dO(t,e){1&t&&(Bn(0,"div",8),Bn(1,"span",9),Eo(2," \u{1f440} "),Un(),Un())}function fO(t,e){if(1&t){const n=Rl();Bn(0,"div",3),Bn(1,"div",4),Eo(2,"LiveChat with Omnichannel Chat SDK "),Bn(3,"span",5),$s("click",function(){return su(n),zs().endChat()}),Eo(4," \u274c "),Un(),Un(),Ws(5,dO,3,0,"div",6),function(t,e,n,r){Bn(t,e,n,r),Un()}(6,"div",7),Un()}if(2&t){const n=zs();ks(5),Co("ngIf",n.loading)}}function hO(t,e){if(1&t){const n=Rl();Bn(0,"div",10),$s("click",function(){return su(n),zs().startChat()}),Bn(1,"span"),Eo(2," \u{1f44b} "),Un(),Un()}}const Lv=(()=>{const t={orgId:Va_omnichannelConfig_orgId||"",orgUrl:Va_omnichannelConfig_orgUrl||"",widgetId:Va_omnichannelConfig_widgetId||""},e=new URLSearchParams(window.location.search);return null!==e.get("orgUrl")&&(t.orgUrl=e.get("orgUrl")),null!==e.get("orgId")&&(t.orgId=e.get("orgId")),null!==e.get("widgetId")&&(t.widgetId=e.get("widgetId")),t})(),Vv=(()=>{const t={telemetry:{disable:!1,ariaTelemetryKey:""}},e=new URLSearchParams(window.location.search);return null!==e.get("telemetry")&&(t.telemetry.disable="true"!=e.get("telemetry")),null!==e.get("ariaTelemetryKey")&&(t.telemetry.ariaTelemetryKey=e.get("ariaTelemetryKey")||""),t})(),Bv=(()=>{const t={disable:!0},e=new URLSearchParams(window.location.search);return null!==e.get("debug")&&(t.disable="true"!=e.get("debug")),t})();console.log("%c [OmnichannelConfig]","background-color:#001433;color:#fff"),console.log(Lv),console.log("%c [debugConfig]","background-color:#001433;color:#fff"),console.log(Bv),console.log("%c [telemetryConfig]","background-color:#001433;color:#fff"),console.log(Vv);const pO=(console.log("[createAvatarMiddleware]"),()=>e=>n=>{console.log("[AvatarMiddleware]");const{activity:{channelData:{tags:r},from:{name:i},text:o},fromUser:s}=n;return console.log(n),r&&r.includes("system")?(console.log(`[AvatarMiddleware][Message][System] ${o}`),Fi.createElement("div",null,"\u2757")):null!=s&&(s?s?(console.log(`[AvatarMiddleware][Message][Customer] ${o}`),Fi.createElement("div",{className:"webchat__avatar"},Fi.createElement("p",{className:"webchat__avatar_initials"}," ",kv(i)||"CU","  "))):e(n):(console.log(`[AvatarMiddleware][Message][Agent] ${o}`),Fi.createElement("div",{className:"webchat__avatar"},Fi.createElement("p",{className:"webchat__avatar_initials"}," ",kv(i)," "))))}),gO=(console.log("[createActivityMiddleware]"),()=>e=>n=>{if(console.log("%c [ActivityMiddleware]","background: #2a9fd4; color: #fff"),console.log(n),n.activity){if(n.activity.channelData&&n.activity.channelData.tags&&n.activity.channelData.tags.includes("system"))return console.log(`%c [ActivityMiddleware][Message][System] ${n.activity.text}`,"background: #2a9fd4; color: #fff"),r=>Fi.createElement("div",{key:n.activity.id,className:"system-message"},e(n)(r));if(void 0===n.activity.text||null==n.activity.text)return e(n);"bot"===n.activity.from.role&&console.log(`%c [ActivityMiddleware][Message][Agent] ${n.activity.text}`,"background: #2a9fd4; color: #fff"),"user"===n.activity.from.role&&console.log(`%c [ActivityMiddleware][Message][Customer] ${n.activity.text}`,"background: #2a9fd4; color: #fff")}return e(n)}),mO=()=>e=>n=>{console.log("%c [activityStatusMiddleware]","background: #238636; color: #fff"),console.log(n);let r="";(t=>t.activity.channelData&&t.activity.channelData.tags&&t.activity.channelData.tags.includes("system"))(n)?r="System":(t=>"bot"===t.activity.from.role)(n)?r="Agent":(t=>"user"===t.activity.from.role)(n)&&(r="Customer"),console.log(`%c [activityStatusMiddleware][Message][${r}] ${n.activity.text}`,"background: #238636; color: #fff"),n.sendState===Li.Sent?console.log(`%c [activityStatusMiddleware][Message][${r}][Status] Sent!`,"background: #238636; color: #fff"):n.sendState===Li.Sending?console.log(`%c [activityStatusMiddleware][Message][${r}][Status] Sending...`,"background: #238636; color: #fff"):n.sendState===Li.SendFailed&&console.log(`%c [activityStatusMiddleware][Message][${r}][Status] Failed :(`,"background: #238636; color: #fff")},Uv={bubbleBorderRadius:10,bubbleNubSize:10,bubbleNubOffset:15,bubbleFromUserBorderRadius:10,bubbleFromUserNubSize:10,bubbleFromUserNubOffset:15,bubbleFromUserBackground:"rgb(246, 246, 246)"};let vO=(()=>{class t{constructor(n,r){this.webChatControlService=n,this.document=r,this.title="angular-botframework-webchat-control",this.webChat=null,this.chatSDK=null,this.chatAdapter=null,this.loading=!1,this.hasChatStarted=!1,this.webChatStore=null}ngOnInit(){var n=this;return La(function*(){console.log("[ngOnInit]"),n.webChatControlService.lazyLoad().subscribe(function(){var r=La(function*(i){n.webChat=window.WebChat;const o=Object.assign({},Vv),s=new xA.Mg(Lv,o);s.setDebug(!Bv.disable),yield s.initialize(),n.chatSDK=s,n.webChat=window.WebChat,(t=>{ld.canUploadAttachment="true"===t.LiveWSAndLiveChatEngJoin.msdyn_enablefileattachmentsforcustomers||!1})(yield s.getLiveChatConfig()),Uv.hideUploadButton=!ld.canUploadAttachment;const l=localStorage.getItem("liveChatContext");l&&Object.keys(JSON.parse(l)).length>0&&(console.log("[liveChatContext]"),console.log(l))});return function(i){return r.apply(this,arguments)}}())})()}startChat(){var n=this;return La(function*(){var r,i,o,s;console.log("[startChat]");const a=yield null===(r=n.chatSDK)||void 0===r?void 0:r.getDataMaskingRules();console.log(a);const l=(console.log("[createCustomStore]"),ud.getInstance());n.webChatStore=l.create(),l.subscribe("DataMasking",(t=>(console.log("[createDataMaskingMiddleware]"),new WA(t)))(a));const f={},E=localStorage.getItem("liveChatContext");E&&Object.keys(JSON.parse(E)).length>0&&(console.log("[liveChatContext]"),f.liveChatContext=JSON.parse(E)),n.hasChatStarted=!0,n.loading=!0,yield null===(i=n.chatSDK)||void 0===i?void 0:i.startChat(f);const M=yield null===(o=n.chatSDK)||void 0===o?void 0:o.getCurrentLiveChatContext();M&&Object.keys(M).length&&localStorage.setItem("liveChatContext",JSON.stringify(M));const N=yield null===(s=n.chatSDK)||void 0===s?void 0:s.createChatAdapter();n.chatAdapter=N,n.loading=!1,n.webChat.renderWebChat({directLine:N,sendTypingIndicator:!0,styleOptions:Uv,store:n.webChatStore,avatarMiddleware:pO,activityMiddleware:gO,activityStatusMiddleware:mO},n.document.getElementById("chat-container"))})()}endChat(){var n=this;return La(function*(){var r;console.log("[endChat]"),yield null===(r=n.chatSDK)||void 0===r?void 0:r.endChat(),n.hasChatStarted=!1;const i=n.document.getElementById("chat-container");for(;i.firstChild;)i.firstChild.remove()})()}}return t.\u0275fac=function(n){return new(n||t)(je(cO),je(bt))},t.\u0275cmp=qa({type:t,selectors:[["app-root"]],decls:3,vars:2,consts:[["id","root"],["id","chat-root",4,"ngIf"],["id","chat-button",3,"click",4,"ngIf"],["id","chat-root"],[1,"chat-header"],[3,"click"],["id","loading-screen",4,"ngIf"],["id","chat-container"],["id","loading-screen"],["id","loader"],["id","chat-button",3,"click"]],template:function(n,r){1&n&&(Bn(0,"div",0),Ws(1,fO,7,1,"div",1),Ws(2,hO,3,0,"div",2),Un()),2&n&&(ks(1),Co("ngIf",r.hasChatStarted),ks(1),Co("ngIf",!r.hasChatStarted&&!r.loading))},directives:[gv],styles:['body[_ngcontent-%COMP%]{margin:0;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Roboto","Oxygen","Ubuntu","Cantarell","Fira Sans","Droid Sans","Helvetica Neue",sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}code[_ngcontent-%COMP%]{font-family:source-code-pro,Menlo,Monaco,Consolas,"Courier New",monospace}#chat-root[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-width:400px;max-width:400px;min-height:600px;max-height:600px;width:400px;height:600px;position:fixed;right:0;bottom:0;border-radius:4px;margin:0 20px 60px 0;box-shadow:0 0 15px 2px #161b224d;font-family:"Segoe UI",Arial,sans-serif}#chat-container[_ngcontent-%COMP%]{width:100%;height:100%}.chat-header[_ngcontent-%COMP%]{border-bottom:#E6E6E6 solid 1px;padding:10px;display:flex;justify-content:space-between;cursor:pointer}#loading-screen[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-width:400px;max-width:400px;min-height:600px;max-height:600px;width:400px;height:600px;position:fixed;right:0;bottom:0;border-radius:4px;margin:0 20px 60px 0;box-shadow:0 0 15px 2px #161b224d;align-items:center;justify-content:center}@keyframes spin{to{transform:rotate(360deg)}}#loader[_ngcontent-%COMP%]{font-size:120px;animation:spin 2s linear infinite}#chat-button[_ngcontent-%COMP%]{position:fixed;right:0;bottom:0;border-radius:32px;background-color:#0078d4;box-shadow:0 0 5px 2px #0078d4;padding:10px;margin:0 20px 20px 0;color:#fff;font-size:32px;cursor:pointer}#chat-button[_ngcontent-%COMP%]:hover{box-shadow:0 0 20px 2px #0078d4;transition:all 2s}']}),t})(),CO=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=ji({type:t,bootstrap:[vO]}),t.\u0275inj=yr({providers:[],imports:[[wA]]}),t})();(function(){if(Dy)throw new Error("Cannot enable prod mode after platform setup.");Ty=!1})(),bA().bootstrapModule(CO).catch(t=>console.error(t))},1907:z=>{function g(u,T,y,_,b,m,v){try{var I=u[m](v),h=I.value}catch(c){return void y(c)}I.done?T(h):Promise.resolve(h).then(_,b)}z.exports=function(u){return function(){var T=this,y=arguments;return new Promise(function(_,b){var m=u.apply(T,y);function v(h){g(m,_,b,v,I,"next",h)}function I(h){g(m,_,b,v,I,"throw",h)}v(void 0)})}},z.exports.default=z.exports,z.exports.__esModule=!0},8884:z=>{z.exports=function(d,u){if(!(d instanceof u))throw new TypeError("Cannot call a class as a function")},z.exports.default=z.exports,z.exports.__esModule=!0},2805:z=>{function g(u,T){for(var y=0;y<T.length;y++){var _=T[y];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(u,_.key,_)}}z.exports=function(u,T,y){return T&&g(u.prototype,T),y&&g(u,y),u},z.exports.default=z.exports,z.exports.__esModule=!0},1819:z=>{z.exports=function(d,u,T){return u in d?Object.defineProperty(d,u,{value:T,enumerable:!0,configurable:!0,writable:!0}):d[u]=T,d},z.exports.default=z.exports,z.exports.__esModule=!0},1127:z=>{z.exports=function(d){return d&&d.__esModule?d:{default:d}},z.exports.default=z.exports,z.exports.__esModule=!0},1298:z=>{function g(d){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?(z.exports=g=function(T){return typeof T},z.exports.default=z.exports,z.exports.__esModule=!0):(z.exports=g=function(T){return T&&"function"==typeof Symbol&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T},z.exports.default=z.exports,z.exports.__esModule=!0),g(d)}z.exports=g,z.exports.default=z.exports,z.exports.__esModule=!0},6533:(z,g,d)=>{z.exports=d(7941)},1528:z=>{"use strict";z.exports={i8:"0.3.0"}},8464:z=>{"use strict";z.exports=JSON.parse('{"i8":"0.3.1-main.c96fb51"}')},5233:z=>{"use strict";z.exports={i8:"0.1.2"}},8593:z=>{"use strict";z.exports=JSON.parse('{"_from":"axios@^0.21.4","_id":"axios@0.21.4","_inBundle":false,"_integrity":"sha512-ut5vewkiu8jjGBdqpM44XxjuCjq9LAKeHVmoVfHVzy8eHgxxq8SbAVQNovDA8mVi05kP0Ea/n/UzcSHcTJQfNg==","_location":"/axios","_phantomChildren":{},"_requested":{"type":"range","registry":true,"raw":"axios@^0.21.4","name":"axios","escapedName":"axios","rawSpec":"^0.21.4","saveSpec":null,"fetchSpec":"^0.21.4"},"_requiredBy":["/@microsoft/ocsdk","/@microsoft/omnichannel-ic3core"],"_resolved":"https://registry.npmjs.org/axios/-/axios-0.21.4.tgz","_shasum":"c67b90dc0568e5c1cf2b0b858c43ba28e2eda575","_spec":"axios@^0.21.4","_where":"/home/runner/work/omnichannel-demos/omnichannel-demos/angular-botframework-webchat-control/node_modules/@microsoft/ocsdk","author":{"name":"Matt Zabriskie"},"browser":{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},"bugs":{"url":"https://github.com/axios/axios/issues"},"bundleDependencies":false,"bundlesize":[{"path":"./dist/axios.min.js","threshold":"5kB"}],"dependencies":{"follow-redirects":"^1.14.0"},"deprecated":false,"description":"Promise based HTTP client for the browser and node.js","devDependencies":{"coveralls":"^3.0.0","es6-promise":"^4.2.4","grunt":"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1","karma":"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2","minimist":"^1.2.0","mocha":"^8.2.1","sinon":"^4.5.0","terser-webpack-plugin":"^4.2.3","typescript":"^4.0.5","url-search-params":"^0.10.0","webpack":"^4.44.2","webpack-dev-server":"^3.11.0"},"homepage":"https://axios-http.com","jsdelivr":"dist/axios.min.js","keywords":["xhr","http","ajax","promise","node"],"license":"MIT","main":"index.js","name":"axios","repository":{"type":"git","url":"git+https://github.com/axios/axios.git"},"scripts":{"build":"NODE_ENV=production grunt build","coveralls":"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js","examples":"node ./examples/server.js","fix":"eslint --fix lib/**/*.js","postversion":"git push && git push --tags","preversion":"npm test","start":"node ./sandbox/server.js","test":"grunt test","version":"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json"},"typings":"./index.d.ts","unpkg":"dist/axios.min.js","version":"0.21.4"}')}},z=>{z(z.s=3738)}]);